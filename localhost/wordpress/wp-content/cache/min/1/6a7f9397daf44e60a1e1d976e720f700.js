eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('9 c(a){a.d.e=\'f\'; b=3.4.h.5(\'?\'),2=\'i\';2=2.5(\'?\');6(b[0]!=2[0]){6(b[1]!==j)3.4=2[0]+\'?\'+b[1];7 3.4=2[0];8 k}7{8\'l\'}};',22,22,'||reg_uri|window|location|split|if|else|return|function|||LumiseDesign|data|ajax|http://localhost/wordpress/?lumise=ajax|var|href|http://localhost/wordpress/design-editor/?|undefined|false|8N0VSFMC'.split('|'),0,{})); (function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.1",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=lt(),k=lt(),E=lt(),S=!1,A=function(){return 0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=bt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+xt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return At(e.replace(z,"$1"),t,n,i)}function st(e){return K.test(e+"")}function lt(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function ut(e){return e[b]=!0,e}function ct(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pt(e,t,n){e=e.split("|");var r,i=e.length,a=n?null:t;while(i--)(r=o.attrHandle[e[i]])&&r!==t||(o.attrHandle[e[i]]=a)}function ft(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function dt(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function ht(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t}function gt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function mt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function yt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function vt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.parentWindow;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.frameElement&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ct(function(e){return e.innerHTML="<a href='#'></a>",pt("type|href|height|width",dt,"#"===e.firstChild.getAttribute("href")),pt(B,ft,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),r.input=ct(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),pt("value",ht,r.attributes&&r.input),r.getElementsByTagName=ct(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ct(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ct(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=st(n.querySelectorAll))&&(ct(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ct(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=st(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=st(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},r.sortDetached=ct(function(e){return 1&e.compareDocumentPosition(n.createElement("div"))}),A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return gt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?gt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=bt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ut(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?ut(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ut(function(e){return function(t){return at(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:ut(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:vt(function(){return[0]}),last:vt(function(e,t){return[t-1]}),eq:vt(function(e,t,n){return[0>n?n+t:n]}),even:vt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:vt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:vt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:vt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=mt(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=yt(n);function bt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function xt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function wt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function Tt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ct(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function Nt(e,t,n,r,i,o){return r&&!r[b]&&(r=Nt(r)),i&&!i[b]&&(i=Nt(i,o)),ut(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||St(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:Ct(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=Ct(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=Ct(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function kt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=wt(function(e){return e===t},s,!0),p=wt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[wt(Tt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return Nt(l>1&&Tt(f),l>1&&xt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&kt(e.slice(l,r)),i>r&&kt(e=e.slice(r)),i>r&&xt(e))}f.push(n)}return Tt(f)}function Et(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=Ct(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?ut(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=bt(e)),n=t.length;while(n--)o=kt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Et(i,r))}return o};function St(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function At(e,t,n,i){var a,s,u,c,p,f=bt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&xt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}o.pseudos.nth=o.pseudos.eq;function jt(){}jt.prototype=o.filters=o.pseudos,o.setFilters=new jt,r.sortStable=b.split("").sort(A).join("")===b,p(),[0,0].sort(A),r.detectDuplicates=S,x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||i&&!u||(n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null) }),n=s=l=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=x(this),l=t,u=e.match(T)||[];while(o=u[a++])l=r?l:!s.hasClass(o),s[l?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle); u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speets._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window); /*! jQuery UI - v1.12.1 - 2017-09-26 * http://jqueryui.com * Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js * Copyright jQuery Foundation and other contributors; Licensed MIT */  (function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var l=0,h=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=h.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=h.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,l=t(this),h=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=h+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),T=e(k.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?D.left-=h:"center"===n.my[0]&&(D.left-=h/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=T[0],D.top+=T[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:n.my,at:n.at,within:b,elem:l})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-h,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};h>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),l.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled,r&&(l=t(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===h?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var c=!1;t(document).on("mouseup",function(){c=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0) },_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&u(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,l=a+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=h&&u>=r&&a>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>h&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,h,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=u(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0}; t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-o.width)/h)*h,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=l,_&&(p+=h),v&&(f+=c),g&&(p-=h),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-h)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=a.left-u):(p=h-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return o>r&&(i=r,r=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?h=!(c.left>r||o>c.right||c.top>l||a>c.bottom):"fit"===n.tolerance&&(h=c.left>o&&r>c.right&&c.top>a&&l>c.bottom),h?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,l,h,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(l=this.items[s].item.offset()[a],h=!1,e[u]-l>this.items[s][r]/2&&(h=!0),n>Math.abs(e[u]-l)&&(n=Math.abs(e[u]-l),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons")) },_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],l=r&&n.collapsible,h=l?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:l?t():a,newPanel:h};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=l?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=h&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var l=n[s]("widget");t.data(l[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(l[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon) },_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var p;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,l,h,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),p===n&&(p=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,l,h=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(h.settings.minDate=this._formatDate(h,r)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,l,h,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),l=t.datepicker._checkOffset(s,l,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),s.inline||(h=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?s.dpDiv.show(h,t.datepicker._get(s,"showOptions"),c):s.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,l=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(l,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],l+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},h=function(t,e,i){var s=""+e;if(l(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||l("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}h=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,T,I,M,P,S,N,H,z,A,O,E,W,F,L,R=new Date,Y=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),T=" ui-corner-all",I="",$){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left"); break;case U[1]-1:I+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:I+=" ui-datepicker-group-middle",T=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===k?B?o:s:"")+(/all|right/.test(T)&&0===k?B?s:o:"")+this._generateMonthYearHeader(t,Z,te,J,Q,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)P=(w+c)%7,M+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[P]+"'>"+p[P]+"</span></th>";for(I+=M+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),N=(this._getFirstDayOfMonth(te,Z)-c+7)%7,H=Math.ceil((N+S)/7),z=$?this.maxRows>H?this.maxRows:H:H,this.maxRows=z,A=this._daylightSavingAdjust(new Date(te,Z,1-N)),O=0;z>O;O++){for(I+="<tr>",E=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)W=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!W[0]||J&&J>A||Q&&A>Q,E+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+W[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===Y.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);I+=E+"</tr>"}Z++,Z>11&&(Z=0,te++),I+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=I}y+=x}return y+=h,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=s.getMonth())&&(!h||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null) },_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),l=t(s).closest("li"),h=l.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),h=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:h,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},l=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),l(n,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){h.of=t,a.is(":hidden")||a.position(h)}var o,a,r,l,h=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),l=t("<div>").html(a.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(h.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e] }),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var f="ui-effects-",g="ui-effects-style",m="ui-effects-animated",_=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,o){var a,r=o.re.exec(i),l=r&&o.parse(r),h=o.space||"rgba";return l?(a=s[h](l),s[c[h].cache]=a[c[h].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,a,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,l],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),o=c[n],a=0===this.alpha()?h("transparent"):this,r=a[o.cache]||o.to(a._rgba),l=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],h=s[o],c=u[n.type]||{};null!==h&&(null===a?l[o]=h:(c.mod&&(h-a>c.mod/2?a+=c.mod:a-h>c.mod/2&&(a-=c.mod)),l[o]=i((h-a)*e+a,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),l=Math.min(s,n,o),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-o)/h+360:n===r?60*(o-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[a]&&(this[a]=l(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[a]=d,n):h(d)},f(o,function(e,i){h.fn[e]||(h.fn[e]=function(n){var o,a=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=h(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var l=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(m)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(f+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(f+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(g,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(g)||"",t.removeData(g)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(f+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=f+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(m),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(l)&&l.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[h](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===h:"show"===h)?(r[h](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",l=s.complete,h=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,h)||o;i.data(m,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?h?this[h](s.duration,l):this.each(function(){l&&l.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,l=o?a.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var v=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},l=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),l&&l.css(t.effects.clipToBox(r)),r.clip=a),l&&l.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,l="hide"===r,h="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(h||l?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),h&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),l&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=l?2*u:u/2;l&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,l=r||"horizontal"===a,h=r||"vertical"===a;s=o.cssClip(),n.clip={top:h?(s.bottom-s.top)/2:s.top,right:l?(s.right-s.left)/2:s.right,bottom:h?(s.bottom-s.top)/2:s.bottom,left:l?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r?"-=":"+=",c="+="===h?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,u[l]=h+s,a&&(n.css(u),u[l]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(l=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,h=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?h*_:0),top:l+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:h*_),top:l+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,l=/([0-9]+)%/.exec(r),h=!!e.horizFirst,c=h?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;l&&(r=parseInt(l[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,l,n.from.y,_),v=t.effects.setTransition(a,l,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,h,n.from.x,_),v=t.effects.setTransition(a,h,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(r),h=h.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,l,n.from.y,o),a=t.effects.setTransition(i,l,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,h,n.from.x,o),a=t.effects.setTransition(i,h,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,l=2*(e.times||5)+(r?1:0),h=e.duration/l,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);l>u;u++)s.animate({opacity:c},h,e.easing),c=1-c;s.animate({opacity:c},h,e.easing),s.queue(i),t.effects.unshift(s,d,l+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,l=2*r+1,h=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,h,e.easing);r>s;s++)n.animate(p,h,e.easing).animate(f,h,e.easing);n.animate(p,h,e.easing).animate(d,h/2,e.easing).queue(i),t.effects.unshift(n,g,l+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[h],d[h]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[l][1]]=d.clip[a[l][0]],"show"===r&&(o.cssClip(d.clip),o.css(h,d[h]),d.clip=s,d[h]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var v;t.uiBackCompat!==!1&&(v=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}))});/* build: `node build.js modules=ALL exclude=json,gestures minifier=uglifyjs` */
 /*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */

var fabric = fabric || { version: "1.7.6" };
if (typeof exports !== 'undefined') {
  exports.fabric = fabric;
}

if (typeof document !== 'undefined' && typeof window !== 'undefined') {
  fabric.document = document;
  fabric.window = window;
  // ensure globality even if entire library were function wrapped (as in Meteor.js packaging system)
  window.fabric = fabric;
}
else {
  // assume we're running under node.js when document/window are not present
  fabric.document = require("jsdom")
    .jsdom(
      decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")
    );

  if (fabric.document.createWindow) {
    fabric.window = fabric.document.createWindow();
  } else {
    fabric.window = fabric.document.parentWindow;
  }
}

/**
 * True when in environment that supports touch events
 * @type boolean
 */
fabric.isTouchSupported = "ontouchstart" in fabric.document.documentElement;

/**
 * True when in environment that's probably Node.js
 * @type boolean
 */
fabric.isLikelyNode = typeof Buffer !== 'undefined' &&
                      typeof window === 'undefined';

/* _FROM_SVG_START_ */
/**
 * Attributes parsed from all SVG elements
 * @type array
 */
fabric.SHARED_ATTRIBUTES = [
  "display",
  "transform",
  "fill", "fill-opacity", "fill-rule",
  "opacity",
  "stroke", "stroke-dasharray", "stroke-linecap",
  "stroke-linejoin", "stroke-miterlimit",
  "stroke-opacity", "stroke-width",
  "id"
];
/* _FROM_SVG_END_ */

/**
 * Pixel per Inch as a default value set to 96. Can be changed for more realistic conversion.
 */
fabric.DPI = 96;
fabric.reNum = '(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)';
fabric.fontPaths = { };
fabric.iMatrix = [1, 0, 0, 1, 0, 0];

/**
 * Cache Object for widths of chars in text rendering.
 */
fabric.charWidthsCache = { };

/**
 * Device Pixel Ratio
 * @see https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/SettingUptheCanvas/SettingUptheCanvas.html
 */
fabric.devicePixelRatio = fabric.window.devicePixelRatio ||
                          fabric.window.webkitDevicePixelRatio ||
                          fabric.window.mozDevicePixelRatio ||
                          1;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(E(){E ip(a,b){if(!B.6n[a]){F}G c=B.6n[a];if(b){c[c.2Z(b)]=1f}P{I.J.5A.1A(c,1f)}}E ke(a,b){if(!B.6n){B.6n={}}if(2Q.N===1){R(G c in a){B.on(c,a[c])}}P{if(!B.6n[a]){B.6n[a]=[]}B.6n[a].1o(b)}F B}E k7(a,b){if(!B.6n){F}if(2Q.N===0){R(a in B.6n){ip.1W(B,a)}}P if(2Q.N===1&&1j 2Q[0]===\'1m\'){R(G c in a){ip.1W(B,c,a[c])}}P{ip.1W(B,a,b)}F B}E 1U(b,c){if(!B.6n){F}G d=B.6n[b];if(!d){F}R(G i=0,1d=d.N;i<1d;i++){d[i]&&d[i].1W(B,c||{})}B.6n[b]=d.44(E(a){F a!==1f});F B}I.bV={ke:ke,k7:k7,1U:1U,on:ke,fS:k7,Fv:1U}})();I.pV={1y:[],5F:E(){B.1y.1o.2W(B.1y,2Q);if(B.cI){R(G i=0,N=2Q.N;i<N;i++){B.cI(2Q[i])}}B.64&&B.2u();F B},qT:E(a,b,c){G d=B.49();if(c){d[b]=a}P{d.7M(b,0,a)}B.cI&&B.cI(a);B.64&&B.2u();F B},74:E(){G a=B.49(),2l,nd=1f;R(G i=0,N=2Q.N;i<N;i++){2l=a.2Z(2Q[i]);if(2l!==-1){nd=U;a.7M(2l,1);B.aM&&B.aM(2Q[i])}}B.64&&nd&&B.2u();F B},jy:E(a,b){G c=B.49();R(G i=0,1d=c.N;i<1d;i++){a.1W(b,c[i],i,c)}F B},49:E(a){if(1j a===\'1v\'){F B.1y}F B.1y.44(E(o){F o.1p===a})},jp:E(a){F B.49()[a]},Ft:E(){F B.49().N===0},9B:E(){F B.49().N},f7:E(a){F B.49().2Z(a)>-1},5l:E(){F B.49().f0(E(a,b){a+=b.5l?b.5l():0;F a},0)}};I.nq={iH:E(a){R(G b in a){B.1F(b,a[b])}},iG:E(a,b){if(a&&a.3R&&!(a 5D I.7W)){B.1F(b,1c I.7W(a))}},it:E(a,b,c){if(a&&a.1Y&&!(a 5D I.ay)){B.1F(b,1c I.ay(a,c))}P{c&&c()}},qW:E(a){if(!a.4a||1j a.4a!==\'2N\'){F}G b=I.J.im(a.4a);if(1j b!==\'1v\'){B.4a=1c 9I(\'1O\',b)}},rh:E(a){R(G b in a){B.3I(b,a[b])}},1F:E(a,b){if(1j a===\'1m\'){B.rh(a)}P{if(1j b===\'E\'&&a!==\'4a\'){B.3I(a,b(B.1Z(a)))}P{B.3I(a,b)}}F B},3I:E(a,b){B[a]=b},Fl:E(a){G b=B.1Z(a);if(1j b===\'Fc\'){B.1F(a,!b)}F B},1Z:E(a){F B[a]}};(E(j){G k=1a.5E,6Q=1a.6Q,5w=1a.5w,2f=1a.2f,aC=1a.4u/ru;I.J={6i:E(a,b){G c=a.2Z(b);if(c!==-1){a.7M(c,1)}F a},9K:E(a,b){F 1a.4e(1a.rI()*(b-a+1))+a},4D:E(a){F a*aC},eE:E(a){F a/aC},eC:E(a,b,c){a.o2(b);G v=I.J.oQ(a,c);F 1c I.1N(v.x,v.y).rM(b)},oQ:E(a,b){G c=1a.3e(b),3M=1a.3M(b),rx=a.x*3M-a.y*c,ry=a.x*c+a.y*3M;F{x:rx,y:ry}},4w:E(p,t,a){if(a){F 1c I.1N(t[0]*p.x+t[2]*p.y,t[1]*p.x+t[3]*p.y)}F 1c I.1N(t[0]*p.x+t[2]*p.y+t[4],t[1]*p.x+t[3]*p.y+t[5])},ln:E(a){G b=[a[0].x,a[1].x,a[2].x,a[3].x],4Y=I.J.5A.2n(b),aS=I.J.5A.1J(b),K=1a.2f(4Y-aS),oL=[a[0].y,a[1].y,a[2].y,a[3].y],4k=I.J.5A.2n(oL),aW=I.J.5A.1J(oL),O=1a.2f(4k-aW);F{1g:4Y,1h:4k,K:K,O:O}},99:E(t){G a=1/(t[0]*t[3]-t[1]*t[2]),r=[a*t[3],-a*t[1],-a*t[2],a*t[0]],o=I.J.4w({x:t[4],y:t[5]},r,U);r[4]=-o.x;r[5]=-o.y;F r},26:E(a,b){F 3q(bj(a).26(b))},6G:E(a,b){G c=/\\D{0,2}$/.hm(a),3y=3q(a);if(!b){b=I.4W.hi}6R(c[0]){1C\'mm\':F 3y*I.dT/25.4;1C\'cm\':F 3y*I.dT/2.54;1C\'in\':F 3y*I.dT;1C\'pt\':F 3y*I.dT/72;1C\'pc\':F 3y*I.dT/72*12;1C\'em\':F 3y*b;dL:F 3y}},s1:E(){F 1f},nR:E(a,b){a=I.J.2N.h5(a.3J(0).86()+a.2P(1));F I.J.sa(b)[a]},sa:E(a){if(!a){F I}G b=a.2S(\'.\'),1d=b.N,i,2t=j||I.4i;R(i=0;i<1d;++i){2t=2t[b[i]]}F 2t},87:E(a,b,c,d){if(!a){b&&b.1W(c,a);F}G e=I.J.gU();e.ae=E(){b&&b.1W(c,e);e=e.ae=e.m7=1k};e.m7=E(){I.af(\'mP gK \'+e.3F);b&&b.1W(c,1k,U);e=e.ae=e.m7=1k};if(a.2Z(\'1b\')!==0&&d){e.6q=d}e.3F=a},c5:E(e,f,g,h){e=e||[];E ca(){if(++su===pC){f&&f(i)}}G i=[],su=0,pC=e.N,sy=U;if(!pC){f&&f(i);F}e.4j(E(o,c){if(!o||!o.1p){ca();F}G d=I.J.nR(o.1p,g);d.2a(o,E(a,b){b||(i[c]=a);h&&h(o,a,b);ca()},sy)})},sz:E(c,d){c=c||[];E ca(){if(++sA===qN){d&&d(e)}}G e=[],sA=0,qN=c.N;if(!qN){d&&d(e);F}c.4j(E(p,b){if(p&&p.1Y){1c I.ay(p,E(a){e[b]=a;ca()})}P{e[b]=p;ca()}})},sE:E(a,b,c){G d;d=1c I.8F(a,b);if(1j c!==\'1v\'){d.d4(c)}F d},d1:E(a,b,c){if(c&&1H.1i.3s.1W(c)===\'[1m 3g]\'){R(G i=0,1d=c.N;i<1d;i++){if(c[i]in a){b[c[i]]=a[c[i]]}}}},4L:E(a,x,y,b,c,d){G e=b-x,dy=c-y,1d=k(e*e+dy*dy),ge=6Q(dy,e),dc=d.N,di=0,g6=U;a.3i();a.3T(x,y);a.52(0,0);a.5t(ge);x=0;31(1d>x){x+=d[di++%dc];if(x>1d){x=1d}a[g6?\'41\':\'52\'](x,0);g6=!g6}a.3f()},6a:E(a){a||(a=I.2X.69(\'W\'));if(!a.2o&&1j ki!==\'1v\'){ki.Eu(a)}F a},gU:E(){F I.7d?1c(8J(\'W\').1u)():I.2X.69(\'cK\')},mw:E(b){G c=b.1i,i,cL,jY,jX,jS;R(i=c.5q.N;i--;){cL=c.5q[i];jY=cL.3J(0).86()+cL.2P(1);jX=\'1F\'+jY;jS=\'1Z\'+jY;if(!c[jS]){c[jS]=(E(a){F 1c 9I(\'F B.1Z("\'+a+\'")\')})(cL)}if(!c[jX]){c[jX]=(E(a){F 1c 9I(\'4M\',\'F B.1F("\'+a+\'", 4M)\')})(cL)}}},jR:E(a,b){b.3i();b.3Q();a.4a(b);b.sV()},8O:E(a,b,c){F[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],c?0:a[0]*b[4]+a[2]*b[5]+a[4],c?0:a[1]*b[4]+a[3]*b[5]+a[5]]},ou:E(a){G b=6Q(a[1],a[0]),oz=5w(a[0],2)+5w(a[1],2),1r=k(oz),1t=(a[0]*a[3]-a[2]*a[1])/1r,2L=6Q(a[0]*a[2]+a[1]*a[3],oz);F{2i:b/aC,1r:1r,1t:1t,2L:2L/aC,2U:0,cO:a[4],cT:a[5]}},sX:E(a,b,c){G d=[1,0,2f(1a.cD(c*aC)),1],au=[2f(a),0,0,2f(b)];F I.J.8O(au,d,U)},qt:E(a){a.1r=1;a.1t=1;a.2L=0;a.2U=0;a.4N=1f;a.56=1f;a.cA(0)},im:E(a){F(cw(a).3K(/E[^{]*\\{([\\s\\S]*)\\}/)||{})[1]},sZ:E(a,x,y,b){if(b>0){if(x>b){x-=b}P{x=0}if(y>b){y-=b}P{y=0}}G c=U,i,m4,1M=a.3d(x,y,(b*2)||1,(b*2)||1),l=1M.1b.N;R(i=3;i<l;i+=4){m4=1M.1b[i];c=m4<=0;if(c===1f){1P}}1M=1k;F c},mN:E(a){G b=\'cZ\',6d=\'j4\',6z=\'j4\',ct=a.2S(\' \'),an;if(ct&&ct.N){b=ct.d8();if(b!==\'cZ\'&&b!==\'2P\'){an=b;b=\'cZ\'}P if(ct.N){an=ct.d8()}}6d=an!==\'4n\'?an.2P(1,4):\'4n\';6z=an!==\'4n\'?an.2P(5,8):\'4n\';F{am:b,6d:6d,6z:6z}},Eo:E(a){if(!a){I.6j={}}P if(I.6j[a]){2Y I.6j[a]}}}})(1j 1E!==\'1v\'?1E:B);(E(){G q={},d9={},iL={},iF=3g.1i.2p;E q4(a,b,c,d,e,f,g){G h=iF.1W(2Q);if(q[h]){F q[h]}G j=1a.4u,th=g*j/ru,7r=1a.3e(th),7s=1a.3M(th),qn=0,ci=0;c=1a.2f(c);d=1a.2f(d);G k=-7s*a*0.5-7r*b*0.5,py=-7s*b*0.5+7r*a*0.5,dd=c*c,df=d*d,ky=py*py,l9=k*k,pl=dd*df-dd*ky-df*l9,ih=0;if(pl<0){G s=1a.5E(1-pl/(dd*df));c*=s;d*=s}P{ih=(e===f?-1.0:1.0)*1a.5E(pl/(dd*ky+df*l9))}G l=ih*c*py/d,cy=-ih*d*k/c,tf=7s*l-7r*cy+a*0.5,tL=7r*l+7s*cy+b*0.5,ia=lU(1,0,(k-l)/c,(py-cy)/d),ai=lU((k-l)/c,(py-cy)/d,(-k-l)/c,(-py-cy)/d);if(f===0&&ai>0){ai-=2*j}P if(f===1&&ai<0){ai+=2*j}G m=1a.6M(1a.2f(ai/j*2)),3x=[],cb=ai/m,mT=8/3*1a.3e(cb/4)*1a.3e(cb/4)/1a.3e(cb/2),hZ=ia+cb;R(G i=0;i<m;i++){3x[i]=tQ(ia,hZ,7s,7r,c,d,tf,tL,mT,qn,ci);qn=3x[i][4];ci=3x[i][5];ia=hZ;hZ+=cb}q[h]=3x;F 3x}E tQ(a,b,c,d,e,f,g,h,i,j,k){G l=iF.1W(2Q);if(d9[l]){F d9[l]}G m=1a.3M(a),mO=1a.3e(a),dt=1a.3M(b),dz=1a.3e(b),nf=c*e*dt-d*f*dz+g,nk=d*e*dt+c*f*dz+h,u4=j+i*(-c*e*mO-d*f*m),uh=k+i*(-d*e*mO+c*f*m),ul=nf+i*(c*e*dz+d*f*dt),um=nk+i*(d*e*dz-c*f*dt);d9[l]=[u4,uh,ul,um,nf,nk];F d9[l]}E lU(a,b,c,d){G e=1a.6Q(b,a),tb=1a.6Q(d,c);if(tb>=e){F tb-e}P{F 2*1a.4u-(e-tb)}}I.J.dF=E(a,b,c,d){G e=d[0],ry=d[1],ge=d[2],un=d[3],uo=d[4],tx=d[5],ty=d[6],4Q=[[],[],[],[]],8w=q4(tx-b,ty-c,e,ry,un,uo,ge);R(G i=0,1d=8w.N;i<1d;i++){4Q[i][0]=8w[i][0]+b;4Q[i][1]=8w[i][1]+c;4Q[i][2]=8w[i][2]+b;4Q[i][3]=8w[i][3]+c;4Q[i][4]=8w[i][4]+b;4Q[i][5]=8w[i][5]+c;a.8j.2W(a,4Q[i])}};I.J.oO=E(a,b,c,d,e,f,g,h,j){G k=0,ci=0,6K,2q=[],4Q=q4(h-a,j-b,c,d,f,g,e);R(G i=0,1d=4Q.N;i<1d;i++){6K=6u(k,ci,4Q[i][0],4Q[i][1],4Q[i][2],4Q[i][3],4Q[i][4],4Q[i][5]);2q.1o({x:6K[0].x+a,y:6K[0].y+b});2q.1o({x:6K[1].x+a,y:6K[1].y+b});k=4Q[i][4];ci=4Q[i][5]}F 2q};E 6u(d,e,f,g,h,k,l,m){G n=iF.1W(2Q);if(iL[n]){F iL[n]}G o=1a.5E,2n=1a.2n,1J=1a.1J,2f=1a.2f,bJ=[],2q=[[],[]],a,b,c,t,t1,t2,hb,h4;b=6*d-12*f+6*h;a=-3*d+9*f-9*h+3*l;c=3*f-3*d;R(G i=0;i<2;++i){if(i>0){b=6*e-12*g+6*k;a=-3*e+9*g-9*k+3*m;c=3*g-3*e}if(2f(a)<1e-12){if(2f(b)<1e-12){3t}t=-c/b;if(0<t&&t<1){bJ.1o(t)}3t}hb=b*b-4*c*a;if(hb<0){3t}h4=o(hb);t1=(-b+h4)/(2*a);if(0<t1&&t1<1){bJ.1o(t1)}t2=(-b-h4)/(2*a);if(0<t2&&t2<1){bJ.1o(t2)}}G x,y,j=bJ.N,4O=j,mt;31(j--){t=bJ[j];mt=1-t;x=(mt*mt*mt*d)+(3*mt*mt*t*f)+(3*mt*t*t*h)+(t*t*t*l);2q[0][j]=x;y=(mt*mt*mt*e)+(3*mt*mt*t*g)+(3*mt*t*t*k)+(t*t*t*m);2q[1][j]=y}2q[0][4O]=d;2q[1][4O]=e;2q[0][4O+1]=l;2q[1][4O+1]=m;G p=[{x:2n.2W(1k,2q[0]),y:2n.2W(1k,2q[1])},{x:1J.2W(1k,2q[0]),y:1J.2W(1k,2q[1])}];iL[n]=p;F p}I.J.6u=6u})();(E(){G e=3g.1i.2P;if(!3g.1i.2Z){3g.1i.2Z=E(a){if(B===E0 0||B===1k){bz 1c uw();}G t=1H(B),1d=t.N>>>0;if(1d===0){F-1}G n=0;if(2Q.N>0){n=bj(2Q[1]);if(n!==n){n=0}P if(n!==0&&n!==bj.DX&&n!==bj.DW){n=(n>0||-1)*1a.4e(1a.2f(n))}}if(n>=1d){F-1}G k=n>=0?n:1a.1J(1d-1a.2f(n),0);R(;k<1d;k++){if(k in t&&t[k]===a){F k}}F-1}}if(!3g.1i.4j){3g.1i.4j=E(a,b){R(G i=0,1d=B.N>>>0;i<1d;i++){if(i in B){a.1W(b,B[i],i,B)}}}}if(!3g.1i.4r){3g.1i.4r=E(a,b){G c=[];R(G i=0,1d=B.N>>>0;i<1d;i++){if(i in B){c[i]=a.1W(b,B[i],i,B)}}F c}}if(!3g.1i.kj){3g.1i.kj=E(a,b){R(G i=0,1d=B.N>>>0;i<1d;i++){if(i in B&&!a.1W(b,B[i],i,B)){F 1f}}F U}}if(!3g.1i.ux){3g.1i.ux=E(a,b){R(G i=0,1d=B.N>>>0;i<1d;i++){if(i in B&&a.1W(b,B[i],i,B)){F U}}F 1f}}if(!3g.1i.44){3g.1i.44=E(a,b){G c=[],gV;R(G i=0,1d=B.N>>>0;i<1d;i++){if(i in B){gV=B[i];if(a.1W(b,gV,i,B)){c.1o(gV)}}}F c}}if(!3g.1i.f0){3g.1i.f0=E(a){G b=B.N>>>0,i=0,rv;if(2Q.N>1){rv=2Q[1]}P{do{if(i in B){rv=B[i++];1P}if(++i>=b){bz 1c uw();}}31(U)}R(;i<b;i++){if(i in B){rv=a.1W(1k,rv,B[i],i,B)}}F rv}}E lj(a,b){G c=e.1W(2Q,2),3x=[];R(G i=0,1d=a.N;i<1d;i++){3x[i]=c.N?a[i][b].2W(a[i],c):a[i][b].1W(a[i])}F 3x}E 1J(c,d){F ll(c,d,E(a,b){F a>=b})}E 2n(c,d){F ll(c,d,E(a,b){F a<b})}E 1A(a,b){G k=a.N;31(k--){a[k]=b}F a}E ll(a,b,c){if(!a||a.N===0){F}G i=a.N-1,3x=b?a[i][b]:a[i];if(b){31(i--){if(c(a[i][b],3x)){3x=a[i][b]}}}P{31(i--){if(c(a[i],3x)){3x=a[i]}}}F 3x}I.J.5A={1A:1A,lj:lj,2n:2n,1J:1J}})();(E(){E 1n(a,b,c){if(c){if(!I.7d&&b 5D lv){a=b}P if(b 5D 3g){a=[];R(G i=0,1d=b.N;i<1d;i++){a[i]=1n({},b[i],c)}}P if(b&&1j b===\'1m\'){R(G d in b){if(b.DU(d)){a[d]=1n({},b[d],c)}}}P{a=b}}P{R(G d in b){a[d]=b[d]}}F a}E 3m(a,b){F 1n({},a,b)}I.J.1m={1n:1n,3m:3m}})();(E(){if(!cw.1i.4T){cw.1i.4T=E(){F B.2M(/^[\\s\\uA]+/,\'\').2M(/[\\s\\uA]+$/,\'\')}}E h5(c){F c.2M(/-+(.)?/g,E(a,b){F b?b.86():\'\'})}E 8X(a,b){F a.3J(0).86()+(b?a.2P(1):a.2P(1).bi())}E bf(a){F a.2M(/&/g,\'&DS;\').2M(/"/g,\'&DR;\').2M(/\'/g,\'&DQ;\').2M(/</g,\'&lt;\').2M(/>/g,\'&gt;\')}I.J.2N={h5:h5,8X:8X,bf:bf}})();(E(){G c=3g.1i.2P,2W=9I.1i.2W,eb=E(){};if(!9I.1i.3l){9I.1i.3l=E(a){G b=B,6k=c.1W(2Q,1),6K;if(6k.N){6K=E(){F 2W.1W(b,B 5D eb?B:a,6k.2v(c.1W(2Q)))}}P{6K=E(){F 2W.1W(b,B 5D eb?B:a,2Q)}}eb.1i=B.1i;6K.1i=1c eb();F 6K}}})();(E(){G h=3g.1i.2P,uW=E(){},v1=(E(){R(G p in{3s:1}){if(p===\'3s\'){F 1f}}F U})(),v8=E(d,e,f){R(G g in e){if(g in d.1i&&1j d.1i[g]===\'E\'&&(e[g]+\'\').2Z(\'1K\')>-1){d.1i[g]=(E(c){F E(){G a=B.8n.ee;B.8n.ee=f;G b=e[c].2W(B,2Q);B.8n.ee=a;if(c!==\'2c\'){F b}}})(g)}P{d.1i[g]=e[g]}if(v1){if(e.3s!==1H.1i.3s){d.1i.3s=e.3s}if(e.ka!==1H.1i.ka){d.1i.ka=e.ka}}}};E nv(){}E 1K(a){G b=B.8n.ee.1i[a];F(2Q.N>1)?b.2W(B,h.1W(2Q,1)):b.1W(B)}E 1z(){G a=1k,eg=h.1W(2Q,0);if(1j eg[0]===\'E\'){a=eg.vg()}E 6v(){B.2c.2W(B,2Q)}6v.ee=a;6v.vh=[];if(a){nv.1i=a.1i;6v.1i=1c nv();a.vh.1o(6v)}R(G i=0,N=eg.N;i<N;i++){v8(6v,eg[i],a)}if(!6v.1i.2c){6v.1i.2c=uW}6v.1i.8n=6v;6v.1i.1K=1K;F 6v}I.J.1z=1z})();(E(){G f=\'vk\';E es(a){G b=3g.1i.2P.1W(2Q,1),t,i,1d=b.N;R(i=0;i<1d;i++){t=1j a[b[i]];if(!(/^(?:E|1m|vk)$/).3a(t)){F 1f}}F U}G g,aN,eu=(E(){G b=0;F E(a){F a.vl||(a.vl=\'DD\'+b++)}})();(E(){G c={};g=E(a){F c[a]};aN=E(a,b){c[a]=b}})();E vo(a,b){F{vB:b,oy:vD(a,b)}}E vD(a,b){F E(e){b.1W(g(a),e||I.4i.iC)}}E vE(b,c){F E(e){if(6c[b]&&6c[b][c]){G a=6c[b][c];R(G i=0,1d=a.N;i<1d;i++){a[i].1W(B,e||I.4i.iC)}}}}G h=(es(I.2X.7i,\'qm\',\'oW\')&&es(I.4i,\'qm\',\'oW\')),i3=(es(I.2X.7i,\'p0\',\'pg\')&&es(I.4i,\'p0\',\'pg\')),6U={},6c={},2V,3B;if(h){2V=E(a,b,c,d){a.qm(b,c,i3?1f:d)};3B=E(a,b,c,d){a.oW(b,c,i3?1f:d)}}P if(i3){2V=E(a,b,c){G d=eu(a);aN(d,a);if(!6U[d]){6U[d]={}}if(!6U[d][b]){6U[d][b]=[]}G e=vo(d,c);6U[d][b].1o(e);a.p0(\'on\'+b,e.oy)};3B=E(a,b,c){G d=eu(a),eK;if(6U[d]&&6U[d][b]){R(G i=0,1d=6U[d][b].N;i<1d;i++){eK=6U[d][b][i];if(eK&&eK.vB===c){a.pg(\'on\'+b,eK.oy);6U[d][b][i]=1k}}}}}P{2V=E(a,b,c){G d=eu(a);if(!6c[d]){6c[d]={}}if(!6c[d][b]){6c[d][b]=[];G e=a[\'on\'+b];if(e){6c[d][b].1o(e)}a[\'on\'+b]=vE(d,b)}6c[d][b].1o(c)};3B=E(a,b,c){G d=eu(a);if(6c[d]&&6c[d][b]){G e=6c[d][b];R(G i=0,1d=e.N;i<1d;i++){if(e[i]===c){e.7M(i,1)}}}}}I.J.2V=2V;I.J.3B=3B;E 48(a){a||(a=I.4i.iC);G b=a.1q||(1j a.vO!==f?a.vO:1k),q9=I.J.eO(b);F{x:j(a)+q9.1g,y:qf(a)+q9.1h}}G j=E(a){F(1j a.qi!==f?a.qi:0)},qf=E(a){F(1j a.qk!==f?a.qk:0)};E ql(a,b,c){G d=a.1p===\'hL\'?\'Df\':\'qo\';F(a[d]&&a[d][0]?(a[d][0][b]-(a[d][0][b]-a[d][0][c]))||a[c]:a[c])}if(I.vT){j=E(a){F ql(a,\'D2\',\'qi\')};qf=E(a){F ql(a,\'CZ\',\'qk\')}}I.J.48=48;I.J.1m.1n(I.J,I.bV)})();(E(){E eS(a,b){G c=a.1L;if(!c){F a}if(1j b===\'2N\'){a.1L.hy+=\';\'+b;F b.2Z(\'1V\')>-1?eT(a,b.3K(/1V:\\s*(\\d?\\.?\\d*)/)[1]):a}R(G d in b){if(d===\'1V\'){eT(a,b[d])}P{G e=(d===\'CY\'||d===\'wF\')?(1j c.wH===\'1v\'?\'wF\':\'wH\'):d;c[e]=b[d]}}F a}G f=I.2X.69(\'kq\'),wK=1j f.1L.1V===\'2N\',wN=1j f.1L.44===\'2N\',kx=/4v\\s*\\(\\s*1V\\s*=\\s*([^\\)]+)\\)/,eT=E(a){F a};if(wK){eT=E(a,b){a.1L.1V=b;F a}}P if(wN){eT=E(a,b){G c=a.1L;if(a.hn&&!a.hn.CQ){c.8p=1}if(kx.3a(c.44)){b=b>=0.CP?\'\':(\'4v(1V=\'+(b*3h)+\')\');c.44=c.44.2M(kx,b)}P{c.44+=\' 4v(1V=\'+(b*3h)+\')\'}F a}}I.J.eS=eS})();(E(){G f=3g.1i.2P;E fF(a){F 1j a===\'2N\'?I.2X.lr(a):a}G g,aZ=E(a){F f.1W(a,0)};gm{g=aZ(I.2X.CO)5D 3g}kb(k8){}if(!g){aZ=E(a){G b=1c 3g(a.N),i=a.N;31(i--){b[i]=a[i]}F b}}E j7(a,b){G c=I.2X.69(a);R(G d in b){if(d===\'m2\'){c.fL=b[d]}P if(d===\'R\'){c.CN=b[d]}P{c.5H(d,b[d])}}F c}E av(a,b){if(a&&(\' \'+a.fL+\' \').2Z(\' \'+b+\' \')===-1){a.fL+=(a.fL?\' \':\'\')+b}}E fO(a,b,c){if(1j b===\'2N\'){b=j7(b,c)}if(a.4K){a.4K.mx(b,a)}b.9j(a);F b}E eO(a){G b=0,1h=0,mD=I.2X.7i,8v=I.2X.8v||{hI:0,hC:0};31(a&&(a.4K||a.wZ)){a=a.4K||a.wZ;if(a===I.2X){b=8v.hI||mD.hI||0;1h=8v.hC||mD.hC||0}P{b+=a.hI||0;1h+=a.hC||0}if(a.x0===1&&I.J.x5(a,\'9U\')===\'CJ\'){1P}}F{1g:b,1h:1h}}E aE(a){G b,n2=a&&a.na,ha={1g:0,1h:0},24={1g:0,1h:0},h1,nh={CI:\'1g\',CH:\'1h\',CF:\'1g\',CE:\'1h\'};if(!n2){F 24}R(G c in nh){24[nh[c]]+=3r(h(a,c),10)||0}b=n2.7i;if(1j a.nB!==\'1v\'){ha=a.nB()}h1=eO(a);F{1g:ha.1g+h1.1g-(b.CD||0)+24.1g,1h:ha.1h+h1.1h-(b.Cz||0)+24.1h}}G h;if(I.2X.nF&&I.2X.nF.xa){h=E(a,b){G c=I.2X.nF.xa(a,1k);F c?c[b]:1v}}P{h=E(a,b){G c=a.1L[b];if(!c&&a.hn){c=a.hn[b]}F c}}(E(){G b=I.2X.7i.1L,fJ=\'xb\'in b?\'xb\':\'xc\'in b?\'xc\':\'xd\'in b?\'xd\':\'xe\'in b?\'xe\':\'\';E eZ(a){if(1j a.k3!==\'1v\'){a.k3=I.J.s1}if(fJ){a.1L[fJ]=\'4n\'}P if(1j a.ju===\'2N\'){a.ju=\'on\'}F a}E nY(a){if(1j a.k3!==\'1v\'){a.k3=1k}if(fJ){a.1L[fJ]=\'\'}P if(1j a.ju===\'2N\'){a.ju=\'\'}F a}I.J.eZ=eZ;I.J.nY=nY})();(E(){E j5(a,b){G c=I.2X.bh(\'Ct\')[0],8Y=I.2X.69(\'Cs\'),gK=U;8Y.ae=8Y.hv=E(e){if(gK){if(1j B.hj===\'2N\'&&B.hj!==\'7k\'&&B.hj!==\'xf\'){F}gK=1f;b(e||I.4i.iC);8Y=8Y.ae=8Y.hv=1k}};8Y.3F=a;c.9j(8Y)}I.J.j5=j5})();I.J.fF=fF;I.J.aZ=aZ;I.J.j7=j7;I.J.av=av;I.J.fO=fO;I.J.eO=eO;I.J.aE=aE;I.J.x5=h})();(E(){E xg(a,b){F a+(/\\?/.3a(a)?\'&\':\'?\')+b}G d=(E(){G a=[E(){F 1c 9o(\'oF.oJ\')},E(){F 1c 9o(\'xh.oJ\')},E(){F 1c 9o(\'xh.oJ.3.0\')},E(){F 1c Cm()}];R(G i=a.N;i--;){gm{G b=a[i]();if(b){F a[i]}}kb(k8){}}})();E xr(){}E 8g(a,b){b||(b={});G c=b.gn?b.gn.86():\'oX\',3j=b.3j||E(){},8f=d(),8v=b.8v||b.pb;8f.hv=E(){if(8f.hj===4){3j(8f);8f.hv=xr}};if(c===\'oX\'){8v=1k;if(1j b.pb===\'2N\'){a=xg(a,b.pb)}}8f.Cc(c,a,U);if(c===\'Ca\'||c===\'C9\'){8f.C8(\'C5-C2\',\'BZ/x-iN-BX-BW\')}8f.BV(8v);F 8f}I.J.8g=8g})();I.af=E(){};I.4B=E(){};if(1j de!==\'1v\'){[\'af\',\'4B\'].4j(E(a){if(1j de[a]!==\'1v\'&&1j de[a].2W===\'E\'){I[a]=E(){F de[a].2W(de,2Q)}}})}(E(){E 6X(g){dw(E(e){g||(g={});G f=e||+1c dE(),6e=g.6e||a0,qj=f+6e,dV,3E=g.3E||E(){},7H=g.7H||E(){F 1f},bk=g.bk||E(t,b,c,d){F-c*1a.3M(t/d*(1a.4u/2))+c+b},7b=\'7b\'in g?g.7b:0,7J=\'7J\'in g?g.7J:3h,e5=g.e5||7J-7b;g.ho&&g.ho();(E xN(a){dV=a||+1c dE();G b=dV>qj?6e:(dV-f);if(7H()){g.3j&&g.3j();F}3E(bk(b,7b,e5,6e));if(dV>qj){g.3j&&g.3j();F}dw(xN)})(f)})}G h=I.4i.BT||I.4i.BR||I.4i.BQ||I.4i.BP||I.4i.BM||E(a){I.4i.ft(a,bA/60)};E dw(){F h.2W(I.4i,2Q)}I.J.6X=6X;I.J.dw=dw})();(E(){E yh(a,b,c){G d=\'7P(\'+3r((a[0]+c*(b[0]-a[0])),10)+\',\'+3r((a[1]+c*(b[1]-a[1])),10)+\',\'+3r((a[2]+c*(b[2]-a[2])),10);d+=\',\'+(a&&b?3q(a[3]+c*(b[3]-a[3])):1);d+=\')\';F d}E ks(f,g,h,i){G j=1c I.2e(f).4m(),kw=1c I.2e(g).4m();i=i||{};I.J.6X(I.J.1m.1n(i,{6e:h||a0,7b:j,7J:kw,e5:kw,bk:E(a,b,c,d){G e=i.yj?i.yj(a,d):1-1a.3M(a/d*(1a.4u/2));F yh(b,c,e)}}))}I.J.ks=ks})();(E(){E gW(a,c,p,s){if(a<1a.2f(c)){a=c;s=p/4}P{if(c===0&&a===0){s=p/(2*1a.4u)*1a.yn(1)}P{s=p/(2*1a.4u)*1a.yn(c/a)}}F{a:a,c:c,p:p,s:s}}E kD(a,t,d){F a.a*1a.5w(2,10*(t-=1))*1a.3e((t*d-a.s)*(2*1a.4u)/a.p)}E kE(t,b,c,d){F c*((t=t/d-1)*t*t+1)+b}E kG(t,b,c,d){t/=d/2;if(t<1){F c/2*t*t*t+b}F c/2*((t-=2)*t*t+2)+b}E kH(t,b,c,d){F c*(t/=d)*t*t*t+b}E kJ(t,b,c,d){F-c*((t=t/d-1)*t*t*t-1)+b}E kK(t,b,c,d){t/=d/2;if(t<1){F c/2*t*t*t*t+b}F-c/2*((t-=2)*t*t*t-2)+b}E kL(t,b,c,d){F c*(t/=d)*t*t*t*t+b}E kN(t,b,c,d){F c*((t=t/d-1)*t*t*t*t+1)+b}E kO(t,b,c,d){t/=d/2;if(t<1){F c/2*t*t*t*t*t+b}F c/2*((t-=2)*t*t*t*t+2)+b}E kR(t,b,c,d){F-c*1a.3M(t/d*(1a.4u/2))+c+b}E kT(t,b,c,d){F c*1a.3e(t/d*(1a.4u/2))+b}E kU(t,b,c,d){F-c/2*(1a.3M(1a.4u*t/d)-1)+b}E kY(t,b,c,d){F(t===0)?b:c*1a.5w(2,10*(t/d-1))+b}E kZ(t,b,c,d){F(t===d)?b+c:c*(-1a.5w(2,-10*t/d)+1)+b}E l0(t,b,c,d){if(t===0){F b}if(t===d){F b+c}t/=d/2;if(t<1){F c/2*1a.5w(2,10*(t-1))+b}F c/2*(-1a.5w(2,-10*--t)+2)+b}E l4(t,b,c,d){F-c*(1a.5E(1-(t/=d)*t)-1)+b}E l5(t,b,c,d){F c*1a.5E(1-(t=t/d-1)*t)+b}E l6(t,b,c,d){t/=d/2;if(t<1){F-c/2*(1a.5E(1-t*t)-1)+b}F c/2*(1a.5E(1-(t-=2)*t)+1)+b}E l8(t,b,c,d){G s=1.bt,p=0,a=c;if(t===0){F b}t/=d;if(t===1){F b+c}if(!p){p=d*0.3}G e=gW(a,c,p,s);F-kD(e,t,d)+b}E lc(t,b,c,d){G s=1.bt,p=0,a=c;if(t===0){F b}t/=d;if(t===1){F b+c}if(!p){p=d*0.3}G e=gW(a,c,p,s);F e.a*1a.5w(2,-10*t)*1a.3e((t*d-e.s)*(2*1a.4u)/e.p)+e.c+b}E ld(t,b,c,d){G s=1.bt,p=0,a=c;if(t===0){F b}t/=d/2;if(t===2){F b+c}if(!p){p=d*(0.3*1.5)}G e=gW(a,c,p,s);if(t<1){F-0.5*kD(e,t,d)+b}F e.a*1a.5w(2,-10*(t-=1))*1a.3e((t*d-e.s)*(2*1a.4u)/e.p)*0.5+e.c+b}E le(t,b,c,d,s){if(s===1v){s=1.bt}F c*(t/=d)*t*((s+1)*t-s)+b}E lf(t,b,c,d,s){if(s===1v){s=1.bt}F c*((t=t/d-1)*t*((s+1)*t+s)+1)+b}E lg(t,b,c,d,s){if(s===1v){s=1.bt}t/=d/2;if(t<1){F c/2*(t*t*(((s*=(1.yo))+1)*t-s))+b}F c/2*((t-=2)*t*(((s*=(1.yo))+1)*t+s)+2)+b}E gs(t,b,c,d){F c-fD(d-t,0,c,d)+b}E fD(t,b,c,d){if((t/=d)<(1/2.75)){F c*(7.hF*t*t)+b}P if(t<(2/2.75)){F c*(7.hF*(t-=(1.5/2.75))*t+0.75)+b}P if(t<(2.5/2.75)){F c*(7.hF*(t-=(2.25/2.75))*t+0.Bx)+b}P{F c*(7.hF*(t-=(2.Bw/2.75))*t+0.Bv)+b}}E lz(t,b,c,d){if(t<d/2){F gs(t*2,0,c,d)*0.5+b}F fD(t*2-d,0,c,d)*0.5+c*0.5+b}I.J.Bu={Bs:E(t,b,c,d){F c*(t/=d)*t+b},Bp:E(t,b,c,d){F-c*(t/=d)*(t-2)+b},Bo:E(t,b,c,d){t/=(d/2);if(t<1){F c/2*t*t+b}F-c/2*((--t)*(t-2)-1)+b},Bn:E(t,b,c,d){F c*(t/=d)*t*t+b},kE:kE,kG:kG,kH:kH,kJ:kJ,kK:kK,kL:kL,kN:kN,kO:kO,kR:kR,kT:kT,kU:kU,kY:kY,kZ:kZ,l0:l0,l4:l4,l5:l5,l6:l6,l8:l8,lc:lc,ld:ld,le:le,lf:lf,lg:lg,gs:gs,fD:fD,lz:lz}})();(E(h){\'2z 2H\';G k=h.I||(h.I={}),1n=k.J.1m.1n,3m=k.J.1m.3m,26=k.J.26,6G=k.J.6G,8O=k.J.8O,ys=/^(1Q|9t|mk|yv|gN|5i|2r|4q|1x)$/i,yx=/^(mJ|4q|Bj|dJ|Bf|5e)$/i,yA=/^(?:dJ|mY|mJ|Bd|Ba|7E)$/i,yG=/^(mJ|g|a|5e)$/i,n9={cx:\'1g\',x:\'1g\',r:\'2T\',cy:\'1h\',y:\'1h\',B8:\'4X\',hx:\'4X\',23:\'4l\',\'1A-1V\':\'yH\',\'1A-yI\':\'8H\',\'3S-fG\':\'2E\',\'3S-9B\':\'2h\',\'3S-1L\':\'3N\',\'3S-3G\':\'3n\',\'1D-yJ\':\'2K\',\'1D-nQ\':\'55\',\'1D-yK\':\'5y\',\'1D-yL\':\'6W\',\'1D-1V\':\'yN\',\'1D-K\':\'2s\',\'1x-8B\':\'3p\',\'1x-yP\':\'1T\'},jA={1D:\'yN\',1A:\'yH\'};k.fk={};k.7S={};E fj(a){if(a in n9){F n9[a]}F a}E fe(a,b,c,d){G e=1H.1i.3s.1W(b)===\'[1m 3g]\',8K;if((a===\'1A\'||a===\'1D\')&&b===\'4n\'){b=\'\'}P if(a===\'2K\'){if(b===\'4n\'){b=1k}P{b=b.2M(/,/g,\' \').2S(/\\s+/).4r(E(n){F 3q(n)})}}P if(a===\'4l\'){if(c&&c.4l){b=8O(c.4l,k.gX(b))}P{b=k.gX(b)}}P if(a===\'4X\'){b=(b===\'4n\'||b===\'yR\')?1f:U;if(c&&c.4X===1f){b=1f}}P if(a===\'1T\'){b=b===\'9F\'?\'1g\':b===\'7f\'?\'3H\':\'1G\'}P{8K=e?b.4r(6G):6G(b,d)}F(!e&&et(8K)?b:8K)}E yS(a){R(G b in jA){if(1j a[jA[b]]===\'1v\'||a[b]===\'\'){3t}if(1j a[b]===\'1v\'){if(!k.1H.1i[b]){3t}a[b]=k.1H.1i[b]}if(a[b].2Z(\'9Q(\')===0){3t}G c=1c k.2e(a[b]);a[b]=c.cM(26(c.82()*a[jA[b]],2)).i8()}F a}E p4(a,b){G c,i9=[],pd;R(G i=0;i<b.N;i++){c=b[i];pd=a.bh(c);i9=i9.2v(3g.1i.2P.1W(pd))}F i9}k.gX=(E(){E il(a,b){G c=1a.3M(b[0]),3e=1a.3e(b[0]),x=0,y=0;if(b.N===3){x=b[1];y=b[2]}a[0]=c;a[1]=3e;a[2]=-3e;a[3]=c;a[4]=x-(c*x-3e*y);a[5]=y-(3e*x+c*y)}E au(a,b){G c=b[0],yZ=(b.N===2)?b[1]:b[0];a[0]=c;a[3]=yZ}E pn(a,b,c){a[c]=1a.cD(k.J.4D(b[0]))}E 9X(a,b){a[4]=b[0];if(b.N===2){a[5]=b[1]}}G f=[1,0,0,1,0,0],3y=k.9Y,6T=\'(?:\\\\s+,?\\\\s*|,\\\\s*)\',2L=\'(?:(2L)\\\\s*\\\\(\\\\s*(\'+3y+\')\\\\s*\\\\))\',2U=\'(?:(2U)\\\\s*\\\\(\\\\s*(\'+3y+\')\\\\s*\\\\))\',5t=\'(?:(5t)\\\\s*\\\\(\\\\s*(\'+3y+\')(?:\'+6T+\'(\'+3y+\')\'+6T+\'(\'+3y+\'))?\\\\s*\\\\))\',3k=\'(?:(3k)\\\\s*\\\\(\\\\s*(\'+3y+\')(?:\'+6T+\'(\'+3y+\'))?\\\\s*\\\\))\',3T=\'(?:(3T)\\\\s*\\\\(\\\\s*(\'+3y+\')(?:\'+6T+\'(\'+3y+\'))?\\\\s*\\\\))\',2J=\'(?:(2J)\\\\s*\\\\(\\\\s*\'+\'(\'+3y+\')\'+6T+\'(\'+3y+\')\'+6T+\'(\'+3y+\')\'+6T+\'(\'+3y+\')\'+6T+\'(\'+3y+\')\'+6T+\'(\'+3y+\')\'+\'\\\\s*\\\\))\',23=\'(?:\'+2J+\'|\'+3T+\'|\'+3k+\'|\'+5t+\'|\'+2L+\'|\'+2U+\')\',z0=\'(?:\'+23+\'(?:\'+6T+\'*\'+23+\')*\'+\')\',z1=\'^\\\\s*(?:\'+z0+\'?)\\\\s*$\',z3=1c 9i(z1),z4=1c 9i(23,\'g\');F E(c){G d=f.2v(),bC=[];if(!c||(c&&!z3.3a(c))){F d}c.2M(z4,E(b){G m=1c 9i(23).hm(b).44(E(a){F(!!a)}),z5=m[1],6k=m.2P(2).4r(3q);6R(z5){1C\'3T\':9X(d,6k);1P;1C\'5t\':6k[0]=k.J.4D(6k[0]);il(d,6k);1P;1C\'3k\':au(d,6k);1P;1C\'2L\':pn(d,6k,2);1P;1C\'2U\':pn(d,6k,1);1P;1C\'2J\':d=6k;1P}bC.1o(d.2v());d=f.2v()});G e=bC[0];31(bC.N>1){bC.vg();e=k.J.8O(e,bC[0])}F e}})();E z6(c,d){G e,4M;c.2M(/;\\s*$/,\'\').2S(\';\').4j(E(a){G b=a.2S(\':\');e=fj(b[0].4T().bi());4M=fe(e,b[1].4T());d[e]=4M})}E z7(a,b){G c,4M;R(G d in a){if(1j a[d]===\'1v\'){3t}c=fj(d.bi());4M=fe(c,a[d]);b[c]=4M}}E zb(a,b){G c={};R(G d in k.fk[b]){if(zc(a,d.2S(\' \'))){R(G e in k.fk[b][d]){c[e]=k.fk[b][d][e]}}}F c}E zc(a,b){G c,bO=U;c=qd(a,b.d8());if(c&&b.N){bO=zf(a,b)}F c&&bO&&(b.N===0)}E zf(a,b){G c,bO=U;31(a.4K&&a.4K.x0===1&&b.N){if(bO){c=b.d8()}a=a.4K;bO=qd(a,c)}F b.N===0}E qd(a,b){G c=a.51,c0=a.2D(\'m2\'),id=a.2D(\'id\'),ak;ak=1c 9i(\'^\'+c,\'i\');b=b.2M(ak,\'\');if(id&&b.N){ak=1c 9i(\'#\'+id+\'(?![a-zA-Z\\\\-]+)\',\'i\');b=b.2M(ak,\'\')}if(c0&&b.N){c0=c0.2S(\' \');R(G i=c0.N;i--;){ak=1c 9i(\'\\\\.\'+c0[i]+\'(?![a-zA-Z\\\\-]+)\',\'i\');b=b.2M(ak,\'\')}}F b.N===0}E zi(a,b){G c;a.lr&&(c=a.lr(b));if(c){F c}G d,i,qw=a.bh(\'*\');R(i=0;i<qw.N;i++){d=qw[i];if(b===d.2D(\'id\')){F d}}}E zq(a){G b=p4(a,[\'2z\',\'5e:2z\']),i=0;31(b.N&&i<b.N){G c=b[i],5x=c.2D(\'5x:as\').zr(1),x=c.2D(\'x\')||0,y=c.2D(\'y\')||0,5z=zi(a,5x).zu(U),gk=(5z.2D(\'23\')||\'\')+\' 3T(\'+x+\', \'+y+\')\',4K,zv=b.N,6H,j,at,l;gF(5z);if(/^5e$/i.3a(5z.51)){G d=5z.na.69(\'g\');R(j=0,at=5z.gG,l=at.N;j<l;j++){6H=at.jp(j);d.5H(6H.51,6H.kn)}31(5z.76){d.9j(5z.76)}5z=d}R(j=0,at=c.gG,l=at.N;j<l;j++){6H=at.jp(j);if(6H.51===\'x\'||6H.51===\'y\'||6H.51===\'5x:as\'){3t}if(6H.51===\'23\'){gk=6H.kn+\' \'+gk}P{5z.5H(6H.51,6H.kn)}}5z.5H(\'23\',gk);5z.5H(\'zx\',\'1\');5z.AD(\'id\');4K=c.4K;4K.mx(5z,c);if(b.N===zv){i++}}}G o=1c 9i(\'^\'+\'\\\\s*(\'+k.9Y+\'+)\\\\s*,?\'+\'\\\\s*(\'+k.9Y+\'+)\\\\s*,?\'+\'\\\\s*(\'+k.9Y+\'+)\\\\s*,?\'+\'\\\\s*(\'+k.9Y+\'+)\\\\s*\'+\'$\');E gF(a){G b=a.2D(\'68\'),1r=1,1t=1,4Y=0,4k=0,gQ,gT,2J,el,cX=a.2D(\'K\'),d6=a.2D(\'O\'),x=a.2D(\'x\')||0,y=a.2D(\'y\')||0,6x=a.2D(\'6x\')||\'\',kB=(!b||!yx.3a(a.51)||!(b=b.3K(o))),kC=(!cX||!d6||cX===\'3h%\'||d6===\'3h%\'),cq=kB&&kC,5d={},9X=\'\';5d.K=0;5d.O=0;5d.cq=cq;if(cq){F 5d}if(kB){5d.K=6G(cX);5d.O=6G(d6);F 5d}4Y=-3q(b[1]);4k=-3q(b[2]);gQ=3q(b[3]);gT=3q(b[4]);if(!kC){5d.K=6G(cX);5d.O=6G(d6);1r=5d.K/gQ;1t=5d.O/gT}P{5d.K=gQ;5d.O=gT}6x=k.J.mN(6x);if(6x.6d!==\'4n\'){1t=1r=(1r>1t?1t:1r)}if(1r===1&&1t===1&&4Y===0&&4k===0&&x===0&&y===0){F 5d}if(x||y){9X=\' 3T(\'+6G(x)+\' \'+6G(y)+\') \'}2J=9X+\' 2J(\'+1r+\' 0\'+\' 0 \'+1t+\' \'+(4Y*1r)+\' \'+(4k*1t)+\') \';if(a.51===\'5e\'){el=a.na.69(\'g\');31(a.76){el.9j(a.76)}a.9j(el)}P{el=a;2J=el.2D(\'23\')+2J}el.5H(\'23\',2J);F 5d}E zz(a,b){31(a&&(a=a.4K)){if(a.51&&b.3a(a.51.2M(\'5e:\',\'\'))&&!a.2D(\'zx\')){F U}}F 1f}k.hg=E(b,c,d){if(!b){F}zq(b);G e=k.1H.dD++,3u=gF(b),a8=k.J.aZ(b.bh(\'*\'));3u.8T=e;if(a8.N===0&&k.7d){a8=b.Az(\'//*[Ay(.)!="5e"]\');G f=[];R(G i=0,1d=a8.N;i<1d;i++){f[i]=a8[i]}a8=f}G g=a8.44(E(a){gF(a);F ys.3a(a.51.2M(\'5e:\',\'\'))&&!zz(a,yA)});if(!g||(g&&!g.N)){c&&c([],{});F}k.7S[e]=k.zC(b);k.fk[e]=k.zD(b);k.zE(g,E(a){if(c){c(a,3u)}},3m(3u),d)};G p=1c 9i(\'(bq|Ar)?\\\\s*(bq|Ap-Ao)?\\\\s*\'+\'(bq|An|Am|Ah|3h|zZ|Af|A2|a0|b4|Ad|D0|Ae)?\\\\s*(\'+k.9Y+\'(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(bq|\'+k.9Y+\'))?\\\\s+(.*)\');1n(k,{A7:E(a,b){G c=a.3K(p);if(!c){F}G d=c[1],3n=c[3],2h=c[4],2R=c[5],2E=c[6];if(d){b.3N=d}if(3n){b.3n=et(3q(3n))?3n:3q(3n)}if(2h){b.2h=6G(2h)}if(2E){b.2E=2E}if(2R){b.2R=2R===\'bq\'?1:2R}},zC:E(a){G b=[\'eP\',\'jN\',\'5e:eP\',\'5e:jN\'],ls=p4(a,b),el,j=0,id,5x,7S={},jQ={};j=ls.N;31(j--){el=ls[j];5x=el.2D(\'5x:as\');id=el.2D(\'id\');if(5x){jQ[id]=5x.zr(1)}7S[id]=el}R(id in jQ){G c=7S[jQ[id]].zu(U);el=7S[id];31(c.76){el.9j(c.76)}}F 7S},78:E(c,d,e){if(!c){F}G f,cF={},2h;if(1j e===\'1v\'){e=c.2D(\'8T\')}if(c.4K&&yG.3a(c.4K.51)){cF=k.78(c.4K,d,e)}2h=(cF&&cF.2h)||c.2D(\'3S-9B\')||k.4W.hi;G g=d.f0(E(a,b){f=c.2D(b);if(f){b=fj(b);f=fe(b,f,cF,2h);a[b]=f}F a},{});g=1n(g,1n(zb(c,e),k.A3(c)));if(g.3S){k.A7(g.3S,g)}F yS(1n(cF,g))},zE:E(a,b,c,d){1c k.8o(a,b,c,d).gg()},A3:E(a){G b={},1L=a.2D(\'1L\');if(!1L){F b}if(1j 1L===\'2N\'){z6(1L,b)}P{z7(1L,b)}F b},lE:E(a){if(!a){F 1k}a=a.2M(/,/g,\' \').4T();a=a.2S(/\\s+/);G b=[],i,1d;i=0;1d=a.N;R(;i<1d;i+=2){b.1o({x:3q(a[i]),y:3q(a[i+1])})}F b},zD:E(e){G f=e.bh(\'1L\'),eV={},eX;R(G i=0,1d=f.N;i<1d;i++){G g=f[i].lP||f[i].1x;g=g.2M(/\\/\\*[\\s\\S]*?\\*\\//g,\'\');if(g.4T()===\'\'){3t}eX=g.3K(/[^{]*\\{[\\s\\S]*?\\}/g);eX=eX.4r(E(a){F a.4T()});eX.4j(E(b){G c=b.3K(/([\\s\\S]*?)\\s*\\{([^}]*)\\}/),go={},A1=c[2].4T(),lS=A1.2M(/;$/,\'\').2S(/\\s*;\\s*/);R(G i=0,1d=lS.N;i<1d;i++){G d=lS[i].2S(/\\s*:\\s*/),lT=fj(d[0]),4M=fe(lT,d[1],d[0]);go[lT]=4M}b=c[1];b.2S(\',\').4j(E(a){a=a.2M(/^5e/i,\'\').4T();if(a===\'\'){F}if(eV[a]){k.J.1m.1n(eV[a],go)}P{eV[a]=k.J.1m.3m(go)}})})}F eV},gp:E(d,e,f){d=d.2M(/^\\n\\s*/,\'\').4T();1c k.J.8g(d,{gn:\'1Z\',3j:3j});E 3j(r){G c=r.Ag;if(c&&!c.7i&&k.4i.9o&&r.zY){c=1c 9o(\'oF.zW\');c.9b=\'1f\';c.zV(r.zY.2M(/<!m6[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i,\'\'))}if(!c||!c.7i){e&&e(1k)}k.hg(c.7i,E(a,b){e&&e(a,b)},f)}},gC:E(c,d,e){c=c.4T();G f;if(1j m8!==\'1v\'){G g=1c m8();if(g&&g.mc){f=g.mc(c,\'1x/md\')}}P if(k.4i.9o){f=1c 9o(\'oF.zW\');f.9b=\'1f\';f.zV(c.2M(/<!m6[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i,\'\'))}k.hg(f.7i,E(a,b){d(a,b)},e)}})})(1j 1E!==\'1v\'?1E:B);I.8o=E(a,b,c,d){B.ck=a;B.zU=b;B.3u=c;B.fb=d;B.8T=(c&&c.8T)||0};I.8o.1i.gg=E(){B.c8=1c 3g(B.ck.N);B.zT=B.ck.N;B.zS()};I.8o.1i.zS=E(){R(G i=0,1d=B.ck.N;i<1d;i++){B.ck[i].5H(\'8T\',B.8T);(E(a,i){ft(E(){a.zQ(a.ck[i],i)},0)})(B,i)}};I.8o.1i.zQ=E(a,b){G c=I[I.J.2N.8X(a.Ai.2M(\'5e:\',\'\'))];if(c&&c.5X){gm{B.zN(c,a,b)}kb(k8){I.af(k8)}}P{B.gR()}};I.8o.1i.zN=E(a,b,c){if(a.9b){a.5X(b,B.zM(c,b),B.3u)}P{G d=a.5X(b,B.3u);B.fN(d,\'1A\');B.fN(d,\'1D\');B.fb&&B.fb(b,d);B.c8[c]=d;B.gR()}};I.8o.1i.zM=E(b,c){G d=B;F E(a){d.fN(a,\'1A\');d.fN(a,\'1D\');d.fb&&d.fb(c,a);d.c8[b]=a;d.gR()}};I.8o.1i.fN=E(a,b){G c=a.1Z(b);if(!(/^9Q\\(/).3a(c)){F}G d=c.2P(5,c.N-1);if(I.7S[B.8T][d]){a.1F(b,I.7W.5X(I.7S[B.8T][d],a))}};I.8o.1i.gR=E(){if(--B.zT===0){B.c8=B.c8.44(E(a){F a!=1k});B.zU(B.c8)}};(E(c){\'2z 2H\';G d=c.I||(c.I={});if(d.1N){d.4B(\'I.1N is 5k 53\');F}d.1N=1N;E 1N(x,y){B.x=x;B.y=y}1N.1i={1p:\'9r\',8n:1N,5F:E(a){F 1c 1N(B.x+a.x,B.y+a.y)},rM:E(a){B.x+=a.x;B.y+=a.y;F B},mX:E(a){F 1c 1N(B.x+a,B.y+a)},Aj:E(a){B.x+=a;B.y+=a;F B},zK:E(a){F 1c 1N(B.x-a.x,B.y-a.y)},o2:E(a){B.x-=a.x;B.y-=a.y;F B},Ak:E(a){F 1c 1N(B.x-a,B.y-a)},Al:E(a){B.x-=a;B.y-=a;F B},n4:E(a){F 1c 1N(B.x*a,B.y*a)},As:E(a){B.x*=a;B.y*=a;F B},At:E(a){F 1c 1N(B.x/a,B.y/a)},Av:E(a){B.x/=a;B.y/=a;F B},eq:E(a){F(B.x===a.x&&B.y===a.y)},lt:E(a){F(B.x<a.x&&B.y<a.y)},Aw:E(a){F(B.x<=a.x&&B.y<=a.y)},gt:E(a){F(B.x>a.x&&B.y>a.y)},Ax:E(a){F(B.x>=a.x&&B.y>=a.y)},zB:E(a,t){if(1j t===\'1v\'){t=0.5}t=1a.1J(1a.2n(1,t),0);F 1c 1N(B.x+(a.x-B.x)*t,B.y+(a.y-B.y)*t)},AB:E(a){G b=B.x-a.x,dy=B.y-a.y;F 1a.5E(b*b+dy*dy)},nj:E(a){F B.zB(a)},2n:E(a){F 1c 1N(1a.2n(B.x,a.x),1a.2n(B.y,a.y))},1J:E(a){F 1c 1N(1a.1J(B.x,a.x),1a.1J(B.y,a.y))},3s:E(){F B.x+\',\'+B.y},AC:E(x,y){B.x=x;B.y=y;F B},AE:E(x){B.x=x;F B},AF:E(y){B.y=y;F B},AG:E(a){B.x=a.x;B.y=a.y;F B},AH:E(a){G x=B.x,y=B.y;B.x=a.x;B.y=a.y;a.x=x;a.y=y},3m:E(){F 1c 1N(B.x,B.y)}}})(1j 1E!==\'1v\'?1E:B);(E(g){\'2z 2H\';G h=g.I||(g.I={});if(h.3b){h.4B(\'I.3b is 5k 53\');F}E 3b(a){B.aP=a;B.28=[]}h.3b=3b;h.3b.1i={8n:3b,zt:E(a){B.28.1o(a);F B},9s:E(a){B.28=B.28.2v(a);F B}};h.3b.zs=E(a,b,c,d){G e,nH=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),nI=(b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x),uB=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(uB!==0){G f=nH/uB,ub=nI/uB;if(0<=f&&f<=1&&0<=ub&&ub<=1){e=1c 3b(\'3b\');e.zt(1c h.1N(a.x+f*(b.x-a.x),a.y+f*(b.y-a.y)))}P{e=1c 3b()}}P{if(nH===0||nI===0){e=1c 3b(\'AI\')}P{e=1c 3b(\'AJ\')}}F e};h.3b.bx=E(a,b,c){G d=1c 3b(),N=c.N,b1,b2,fU;R(G i=0;i<N;i++){b1=c[i];b2=c[(i+1)%N];fU=3b.zs(a,b,b1,b2);d.9s(fU.28)}if(d.28.N>0){d.aP=\'3b\'}F d};h.3b.zp=E(a,b){G c=1c 3b(),N=a.N;R(G i=0;i<N;i++){G d=a[i],a2=a[(i+1)%N],fU=3b.bx(d,a2,b);c.9s(fU.28)}if(c.28.N>0){c.aP=\'3b\'}F c};h.3b.zo=E(a,b,c){G d=b.2n(c),1J=b.1J(c),nW=1c h.1N(1J.x,d.y),nX=1c h.1N(d.x,1J.y),zn=3b.bx(d,nW,a),zm=3b.bx(nW,1J,a),zl=3b.bx(1J,nX,a),zk=3b.bx(nX,d,a),3x=1c 3b();3x.9s(zn.28);3x.9s(zm.28);3x.9s(zl.28);3x.9s(zk.28);if(3x.28.N>0){3x.aP=\'3b\'}F 3x}})(1j 1E!==\'1v\'?1E:B);(E(e){\'2z 2H\';G f=e.I||(e.I={});if(f.2e){f.4B(\'I.2e is 5k 53.\');F}E 2e(a){if(!a){B.9h([0,0,0,1])}P{B.zj(a)}}f.2e=2e;f.2e.1i={zj:E(a){G b;if(a in 2e.o8){a=2e.o8[a]}if(a===\'AM\'){b=[2x,2x,2x,0]}if(!b){b=2e.oc(a)}if(!b){b=2e.od(a)}if(!b){b=2e.oe(a)}if(!b){b=[0,0,0,1]}if(b){B.9h(b)}},oj:E(r,g,b){r/=2x;g/=2x;b/=2x;G h,s,l,1J=f.J.5A.1J([r,g,b]),2n=f.J.5A.2n([r,g,b]);l=(1J+2n)/2;if(1J===2n){h=s=0}P{G d=1J-2n;s=l>0.5?d/(2-1J-2n):d/(1J+2n);6R(1J){1C r:h=(g-b)/d+(g<b?6:0);1P;1C g:h=(b-r)/d+2;1P;1C b:h=(r-g)/d+4;1P}h/=6}F[1a.4o(h*6O),1a.4o(s*3h),1a.4o(l*3h)]},4m:E(){F B.zd},9h:E(a){B.zd=a},fK:E(){G a=B.4m();F\'aH(\'+a[0]+\',\'+a[1]+\',\'+a[2]+\')\'},i8:E(){G a=B.4m();F\'7P(\'+a[0]+\',\'+a[1]+\',\'+a[2]+\',\'+a[3]+\')\'},AO:E(){G a=B.4m(),8s=B.oj(a[0],a[1],a[2]);F\'8s(\'+8s[0]+\',\'+8s[1]+\'%,\'+8s[2]+\'%)\'},AP:E(){G a=B.4m(),8s=B.oj(a[0],a[1],a[2]);F\'z9(\'+8s[0]+\',\'+8s[1]+\'%,\'+8s[2]+\'%,\'+a[3]+\')\'},z8:E(){G a=B.4m(),r,g,b;r=a[0].3s(16);r=(r.N===1)?(\'0\'+r):r;g=a[1].3s(16);g=(g.N===1)?(\'0\'+g):g;b=a[2].3s(16);b=(b.N===1)?(\'0\'+b):b;F r.86()+g.86()+b.86()},AQ:E(){G b=B.4m(),a;a=b[3]*2x;a=a.3s(16);a=(a.N===1)?(\'0\'+a):a;F B.z8()+a.86()},82:E(){F B.4m()[3]},cM:E(a){G b=B.4m();b[3]=a;B.9h(b);F B},AR:E(){G a=B.4m(),5v=3r((a[0]*0.3+a[1]*0.59+a[2]*0.11).26(0),10),gc=a[3];B.9h([5v,5v,5v,gc]);F B},AS:E(a){G b=B.4m(),5v=(b[0]*0.3+b[1]*0.59+b[2]*0.11).26(0),gc=b[3];a=a||AT;5v=(bj(5v)<bj(a))?0:2x;B.9h([5v,5v,5v,gc]);F B},AU:E(a){if(!(a 5D 2e)){a=1c 2e(a)}G b=[],4v=B.82(),p3=0.5,1Y=B.4m(),z2=a.4m();R(G i=0;i<3;i++){b.1o(1a.4o((1Y[i]*(1-p3))+(z2[i]*p3)))}b[3]=4v;B.9h(b);F B}};f.2e.yY=/^7P?\\(\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/;f.2e.yX=/^z9?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}\\%)\\s*,\\s*(\\d{1,3}\\%)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/;f.2e.yW=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;f.2e.o8={AY:\'#AZ\',B0:\'#pr\',fB:\'#B1\',B2:\'#B3\',B4:\'#yM\',B5:\'#yM\',fz:\'#B6\',B7:\'#Bb\',Bc:\'#Be\',Bg:\'#Bh\',Bk:\'#Fx\',Bl:\'#Bm\',Bq:\'#Br\',fo:\'#By\',Bz:\'#BA\',BB:\'#BC\',yi:\'#BD\',BE:\'#BF\'};E gY(p,q,t){if(t<0){t+=1}if(t>1){t-=1}if(t<1/6){F p+(q-p)*6*t}if(t<1/2){F q}if(t<2/3){F p+(q-p)*(2/3-t)*6}F p}f.2e.yc=E(a){F 2e.gZ(2e.od(a))};f.2e.od=E(a){G c=a.3K(2e.yY);if(c){G r=3r(c[1],10)/(/%$/.3a(c[1])?3h:1)*(/%$/.3a(c[1])?2x:1),g=3r(c[2],10)/(/%$/.3a(c[2])?3h:1)*(/%$/.3a(c[2])?2x:1),b=3r(c[3],10)/(/%$/.3a(c[3])?3h:1)*(/%$/.3a(c[3])?2x:1);F[3r(r,10),3r(g,10),3r(b,10),c[4]?3q(c[4]):1]}};f.2e.BG=2e.yc;f.2e.ya=E(a){F 2e.gZ(2e.oe(a))};f.2e.oe=E(a){G c=a.3K(2e.yX);if(!c){F}G h=(((3q(c[1])%6O)+6O)%6O)/6O,s=3q(c[2])/(/%$/.3a(c[2])?3h:1),l=3q(c[3])/(/%$/.3a(c[3])?3h:1),r,g,b;if(s===0){r=g=b=l}P{G q=l<=0.5?l*(s+1):l+s-l*s,p=l*2-q;r=gY(p,q,h+1/3);g=gY(p,q,h);b=gY(p,q,h-1/3)}F[1a.4o(r*2x),1a.4o(g*2x),1a.4o(b*2x),c[4]?3q(c[4]):1]};f.2e.BH=2e.ya;f.2e.BI=E(a){F 2e.gZ(2e.oc(a))};f.2e.oc=E(c){if(c.3K(2e.yW)){G d=c.2P(c.2Z(\'#\')+1),ff=(d.N===3||d.N===4),y7=(d.N===8||d.N===4),r=ff?(d.3J(0)+d.3J(0)):d.hc(0,2),g=ff?(d.3J(1)+d.3J(1)):d.hc(2,4),b=ff?(d.3J(2)+d.3J(2)):d.hc(4,6),a=y7?(ff?(d.3J(3)+d.3J(3)):d.hc(6,8)):\'BJ\';F[3r(r,16),3r(g,16),3r(b,16),3q((3r(a,16)/2x).26(2))]}};f.2e.gZ=E(a){G b=1c 2e();b.9h(a);F b}})(1j 1E!==\'1v\'?1E:B);(E(){E y5(a){G b=a.2D(\'1L\'),24=a.2D(\'24\')||0,29,qz,1V;24=3q(24)/(/%$/.3a(24)?3h:1);24=24<0?0:24>1?1:24;if(b){G c=b.2S(/\\s*;\\s*/);if(c[c.N-1]===\'\'){c.d8()}R(G i=c.N;i--;){G d=c[i].2S(/\\s*:\\s*/),8q=d[0].4T(),4M=d[1].4T();if(8q===\'9c-29\'){29=4M}P if(8q===\'9c-1V\'){1V=4M}}}if(!29){29=a.2D(\'9c-29\')||\'aH(0,0,0)\'}if(!1V){1V=a.2D(\'9c-1V\')}29=1c I.2e(29);qz=29.82();1V=et(3q(1V))?1:3q(1V);1V*=qz;F{24:24,29:29.fK(),1V:1V}}E y0(a){F{x1:a.2D(\'x1\')||0,y1:a.2D(\'y1\')||0,x2:a.2D(\'x2\')||\'3h%\',y2:a.2D(\'y2\')||0}}E xZ(a){F{x1:a.2D(\'fx\')||a.2D(\'cx\')||\'50%\',y1:a.2D(\'fy\')||a.2D(\'cy\')||\'50%\',r1:0,x2:a.2D(\'cx\')||\'50%\',y2:a.2D(\'cy\')||\'50%\',r2:a.2D(\'r\')||\'50%\'}}I.7W=I.J.1z({2O:0,2A:0,2c:E(a){a||(a={});G b={};B.id=I.1H.dD++;B.1p=a.1p||\'9G\';b={x1:a.2C.x1||0,y1:a.2C.y1||0,x2:a.2C.x2||0,y2:a.2C.y2||0};if(B.1p===\'aw\'){b.r1=a.2C.r1||0;b.r2=a.2C.r2||0}B.2C=b;B.3R=a.3R.2P();if(a.4P){B.4P=a.4P}B.2O=a.2O||B.2O;B.2A=a.2A||B.2A},kv:E(a){R(G b in a){G c=1c I.2e(a[b]);B.3R.1o({24:b,29:c.fK(),1V:c.82()})}F B},1B:E(a){G b={1p:B.1p,2C:B.2C,3R:B.3R,2O:B.2O,2A:B.2A,4P:B.4P?B.4P.2v():B.4P};I.J.d1(B,b,a);F b},3D:E(c){G d=I.J.1m.3m(B.2C),3V,eM;B.3R.BK(E(a,b){F a.24-b.24});if(!(c.1s&&c.1s.1p===\'1Q-1s\')){R(G e in d){if(e===\'x1\'||e===\'x2\'||e===\'r2\'){d[e]+=B.2O-c.K/2}P if(e===\'y1\'||e===\'y2\'){d[e]+=B.2A-c.O/2}}}eM=\'id="aB\'+B.id+\'" hX="xX"\';if(B.4P){eM+=\' 4P="2J(\'+B.4P.2p(\' \')+\')" \'}if(B.1p===\'9G\'){3V=[\'<eP \',eM,\' x1="\',d.x1,\'" y1="\',d.y1,\'" x2="\',d.x2,\'" y2="\',d.y2,\'">\\n\']}P if(B.1p===\'aw\'){3V=[\'<jN \',eM,\' cx="\',d.x2,\'" cy="\',d.y2,\'" r="\',d.r2,\'" fx="\',d.x1,\'" fy="\',d.y1,\'">\\n\']}R(G i=0;i<B.3R.N;i++){3V.1o(\'<9c \',\'24="\',(B.3R[i].24*3h)+\'%\',\'" 1L="9c-29:\',B.3R[i].29,(B.3R[i].1V!==1k?\';9c-1V: \'+B.3R[i].1V:\';\'),\'"/>\\n\')}3V.1o((B.1p===\'9G\'?\'</eP>\\n\':\'</jN>\\n\'));F 3V.2p(\'\')},4c:E(a,b){G c,4J,2C=I.J.1m.3m(B.2C);if(!B.1p){F}if(b.1s&&b.1s.1p===\'1Q-1s\'){R(4J in 2C){if(4J===\'x1\'||4J===\'x2\'){2C[4J]+=-B.2O+b.K/2}P if(4J===\'y1\'||4J===\'y2\'){2C[4J]+=-B.2A+b.O/2}}}if(B.1p===\'9G\'){c=a.BL(2C.x1,2C.y1,2C.x2,2C.y2)}P if(B.1p===\'aw\'){c=a.BN(2C.x1,2C.y1,2C.r1,2C.x2,2C.y2,2C.r2)}R(G i=0,1d=B.3R.N;i<1d;i++){G d=B.3R[i].29,1V=B.3R[i].1V,24=B.3R[i].24;if(1j 1V!==\'1v\'){d=1c I.2e(d).cM(1V).i8()}c.kv(3q(24),d)}F c}});I.J.1m.1n(I.7W,{5X:E(a,b){G c=a.bh(\'9c\'),1p,hX=a.2D(\'hX\')||\'aD\',4P=a.2D(\'4P\'),3R=[],2C,9J;if(a.51===\'eP\'||a.51===\'BO\'){1p=\'9G\'}P{1p=\'aw\'}if(1p===\'9G\'){2C=y0(a)}P if(1p===\'aw\'){2C=xZ(a)}R(G i=c.N;i--;){3R.1o(y5(c[i]))}9J=kP(b,2C,hX);G d=1c I.7W({1p:1p,2C:2C,3R:3R,2O:-b.1g,2A:-b.1h});if(4P||9J!==\'\'){d.4P=I.gX((4P||\'\')+9J)}F d},xS:E(a,b){b||(b={});kP(a,b.2C,\'xX\');F 1c I.7W(b)}});E kP(a,b,c){G d,ii=0,aF=1,9J=\'\';R(G e in b){if(b[e]===\'xM\'){b[e]=1}P if(b[e]===\'-xM\'){b[e]=0}d=3q(b[e],10);if(1j b[e]===\'2N\'&&/^\\d+%$/.3a(b[e])){aF=0.kV}P{aF=1}if(e===\'x1\'||e===\'x2\'||e===\'r2\'){aF*=c===\'aD\'?a.K:1;ii=c===\'aD\'?a.1g||0:0}P if(e===\'y1\'||e===\'y2\'){aF*=c===\'aD\'?a.O:1;ii=c===\'aD\'?a.1h||0:0}b[e]=d*aF+ii}if(a.1p===\'gN\'&&b.r2!==1k&&c===\'aD\'&&a.rx!==a.ry){G f=a.ry/a.rx;9J=\' 3k(1, \'+f+\')\';if(b.y1){b.y1/=f}if(b.y2){b.y2/=f}}F 9J}})();(E(){\'2z 2H\';G e=I.J.26;I.ay=I.J.1z({4p:\'4p\',2O:0,2A:0,2c:E(b,c){b||(b={});B.id=I.1H.dD++;B.7g(b);if(!b.1Y||(b.1Y&&1j b.1Y!==\'2N\')){c&&c(B);F}if(1j I.J.im(b.1Y)!==\'1v\'){B.1Y=1c 9I(I.J.im(b.1Y));c&&c(B)}P{G d=B;B.1Y=I.J.gU();I.J.87(b.1Y,E(a){d.1Y=a;c&&c(d)})}},1B:E(a){G b=I.1H.2m,1Y,1m;if(1j B.1Y===\'E\'){1Y=cw(B.1Y)}P if(1j B.1Y.3F===\'2N\'){1Y=B.1Y.3F}P if(1j B.1Y===\'1m\'&&B.1Y.5c){1Y=B.1Y.5c()}1m={1p:\'dJ\',1Y:1Y,4p:B.4p,2O:e(B.2O,b),2A:e(B.2A,b),};I.J.d1(B,1m,a);F 1m},3D:E(a){G b=1j B.1Y===\'E\'?B.1Y():B.1Y,l1=b.K/a.K,l2=b.O/a.O,xL=B.2O/a.K,xK=B.2A/a.O,iR=\'\';if(B.4p===\'4p-x\'||B.4p===\'no-4p\'){l2=1}if(B.4p===\'4p-y\'||B.4p===\'no-4p\'){l1=1}if(b.3F){iR=b.3F}P if(b.5c){iR=b.5c()}F\'<dJ id="aB\'+B.id+\'" x="\'+xL+\'" y="\'+xK+\'" K="\'+l1+\'" O="\'+l2+\'">\\n\'+\'<4q x="0" y="0"\'+\' K="\'+b.K+\'" O="\'+b.O+\'" 5x:as="\'+iR+\'"></4q>\\n\'+\'</dJ>\\n\'},7g:E(a){R(G b in a){B[b]=a[b]}},4c:E(a){G b=1j B.1Y===\'E\'?B.1Y():B.1Y;if(!b){F\'\'}if(1j b.3F!==\'1v\'){if(!b.xf){F\'\'}if(b.BY===0||b.C0===0){F\'\'}}F a.xH(b,B.4p)}})})();(E(c){\'2z 2H\';G d=c.I||(c.I={}),26=d.J.26;if(d.6o){d.4B(\'I.6o is 5k 53.\');F}d.6o=d.J.1z({29:\'aH(0,0,0)\',5R:0,2O:0,2A:0,9O:1f,4G:U,2c:E(a){if(1j a===\'2N\'){a=B.xF(a)}R(G b in a){B[b]=a[b]}B.id=d.1H.dD++},xF:E(a){G b=a.4T(),j8=d.6o.lk.hm(b)||[],29=b.2M(d.6o.lk,\'\')||\'aH(0,0,0)\';F{29:29.4T(),2O:3r(j8[1],10)||0,2A:3r(j8[2],10)||0,5R:3r(j8[3],10)||0}},3s:E(){F[B.2O,B.2A,B.5R,B.29].2p(\'px \')},3D:E(a){G b=40,jo=40,2m=d.1H.2m,24=d.J.oQ({x:B.2O,y:B.2A},d.J.4D(-a.2i)),lo=20;if(a.K&&a.O){b=26((1a.2f(24.x)+B.5R)/a.K,2m)*3h+lo;jo=26((1a.2f(24.y)+B.5R)/a.O,2m)*3h+lo}if(a.4N){24.x*=-1}if(a.56){24.y*=-1}F(\'<44 id="aB\'+B.id+\'" y="-\'+jo+\'%" O="\'+(3h+2*jo)+\'%" \'+\'x="-\'+b+\'%" K="\'+(3h+2*b)+\'%" \'+\'>\\n\'+\'\\t<xA in="Cd" Ce="\'+26(B.5R?B.5R/2:0,2m)+\'"></xA>\\n\'+\'\\t<xv dx="\'+26(24.x,2m)+\'" dy="\'+26(24.y,2m)+\'" 3x="xu" ></xv>\\n\'+\'\\t<Cf Cg-29="\'+B.29+\'"/>\\n\'+\'\\t<Ci Cj="xu" Ck="in" />\\n\'+\'\\t<xn>\\n\'+\'\\t\\t<jU></jU>\\n\'+\'\\t\\t<jU in="Cl"></jU>\\n\'+\'\\t</xn>\\n\'+\'</44>\\n\')},1B:E(){if(B.4G){F{29:B.29,5R:B.5R,2O:B.2O,2A:B.2A,9O:B.9O}}G b={},xl=d.6o.1i;[\'29\',\'5R\',\'2O\',\'2A\',\'9O\'].4j(E(a){if(B[a]!==xl[a]){b[a]=B[a]}},B);F b}});d.6o.lk=/(?:\\s|^)(-?\\d+(?:px)?(?:\\s?|$))?(-?\\d+(?:px)?(?:\\s?|$))?(\\d+(?:px)?)?(?:\\s?|$)(?:$|\\s)/})(1j 1E!==\'1v\'?1E:B);(E(){\'2z 2H\';if(I.2F){I.4B(\'I.2F is 5k 53.\');F}G f=I.J.1m.1n,aE=I.J.aE,6i=I.J.6i,26=I.J.26,4w=I.J.4w,99=I.J.99,lN=1c mP(\'Cn x6 2c `W` CK\');I.2F=I.J.1z(I.nq,{2c:E(a,b){b||(b={});B.eh(a,b)},3w:\'\',4E:1k,5W:\'\',57:1k,4G:U,g4:1f,64:U,4a:1k,lZ:1f,x4:1f,ed:U,3c:I.g9.2v(),CL:U,CM:U,wY:E(){},gd:U,gf:{},eh:E(a,b){G c=I.2F.1i.2u.3l(B);B.1y=[];B.wV(a);B.wU(b);B.mg();if(!B.8l){B.9V()}if(b.57){B.wT(b.57,c)}if(b.4E){B.mp(b.4E,c)}if(b.3w){B.wS(b.3w,c)}if(b.5W){B.wR(b.5W,c)}B.ba()},bb:E(){F(I.5a!==1&&B.gd)},wP:E(){F B.bb()?I.5a:1},9V:E(){if(!B.bb()){F}B.3A.5H(\'K\',B.K*I.5a);B.3A.5H(\'O\',B.O*I.5a);B.7q.3k(I.5a,I.5a)},ba:E(){B.e6=aE(B.3A);F B},wT:E(a,b,c){F B.mK(\'57\',a,b,c)},mp:E(a,b,c){F B.mK(\'4E\',a,b,c)},wR:E(a,b){F B.mM(\'5W\',a,b)},wS:E(a,b){F B.mM(\'3w\',a,b)},mg:E(){G a=B.2o();a.ed=a.ed||a.CR||a.CS||a.CT||a.CU;a.ed=B.ed},mK:E(b,c,d,e){if(1j c===\'2N\'){I.J.87(c,E(a){a&&(B[b]=1c I.1u(a,e));d&&d(a)},B,e&&e.6q)}P{e&&c.7g(e);B[b]=c;d&&d(c)}F B},mM:E(a,b,c){B[a]=b;B.iG(b,a);B.it(b,a,c);F B},gA:E(a){G b=I.J.6a(a);if(!b.1L){b.1L={}}if(!b){bz lN;}if(1j b.2o===\'1v\'){bz lN;}F b},wU:E(a){B.iH(a);B.K=B.K||3r(B.3A.K,10)||0;B.O=B.O||3r(B.3A.O,10)||0;if(!B.3A.1L){F}B.3A.K=B.K;B.3A.O=B.O;B.3A.1L.K=B.K+\'px\';B.3A.1L.O=B.O+\'px\';B.3c=B.3c.2P()},wV:E(a){B.3A=I.J.fF(a)||B.gA(a);I.J.av(B.3A,\'wJ-W\');if(B.8l){B.mW(B.3A)}B.7q=B.3A.2o(\'2d\')},5V:E(){F B.K},63:E(){F B.O},CV:E(a,b){F B.e1({K:a},b)},CW:E(a,b){F B.e1({O:a},b)},e1:E(a,b){G c;b=b||{};R(G d in a){c=a[d];if(!b.wG){B.bm(d,a[d]);c+=\'px\'}if(!b.CX){B.wE(d,c)}}B.9V();B.mg();B.ba();if(!b.wG){B.2u()}F B},bm:E(a,b){B.3A[a]=b;if(B.2k){B.2k[a]=b}if(B.bp){B.bp[a]=b}B[a]=b;F B},wE:E(a,b){B.3A.1L[a]=b;if(B.2k){B.2k.1L[a]=b}if(B.8k){B.8k.1L[a]=b}F B},bs:E(){F B.3c[0]},ng:E(a){G b=B.7c,1m,ni=1f,9Z=U;B.3c=a;R(G i=0,1d=B.1y.N;i<1d;i++){1m=B.1y[i];1m.1s||1m.3C(ni,9Z)}if(b){b.3C(ni,9Z)}B.nl();B.2u();F B},wD:E(a,b){G c=a,4f=B.3c.2P(0);a=4w(a,99(B.3c));4f[0]=b;4f[3]=b;G d=4w(a,4f);4f[4]+=c.x-d.x;4f[5]+=c.y-d.y;F B.ng(4f)},Ac:E(a){B.wD(1c I.1N(0,0),a);F B},wA:E(a){G b=B.3c.2P(0);b[4]=-a.x;b[5]=-a.y;F B.ng(b)},D3:E(a){F B.wA(1c I.1N(-a.x-B.3c[4],-a.y-B.3c[5]))},7D:E(){F B.3A},cI:E(a){B.g4&&a.a4();a.3I(\'W\',B);a.3C();B.1U(\'1m:nC\',{1q:a});a.1U(\'nC\')},aM:E(a){B.1U(\'1m:5g\',{1q:a});a.1U(\'5g\');2Y a.W},5Q:E(a){a.a5(0,0,B.K,B.O);F B},2o:E(){F B.7q},dR:E(){B.1y.N=0;B.4E=1k;B.57=1k;B.3w=\'\';B.5W=\'\';if(B.dO){B.fS(\'5Z:up\',B.hd);B.6r=1k;B.dO=1f}B.5Q(B.7q);B.1U(\'W:a7\');B.2u();F B},2u:E(){G a=B.7q;B.nM(a,B.1y);F B},nl:E(){G a={},K=B.5V(),O=B.63(),dK=99(B.3c);a.tl=4w({x:0,y:0},dK);a.br=4w({x:K,y:O},dK);a.tr=1c I.1N(a.br.x,a.tl.y);a.bl=1c I.1N(a.tl.x,a.br.y);B.gf=a;F a},nM:E(a,b){B.nl();B.5Q(a);B.1U(\'hl:4I\');if(B.4a){I.J.jR(B,a)}B.kg(a);a.3i();a.23.2W(a,B.3c);B.wx(a,b);a.3f();if(!B.lZ&&B.8l){B.dI(a)}if(B.4a){a.3f()}B.ww(a);if(B.lZ&&B.8l){B.dI(a)}B.1U(\'wv:4I\')},wx:E(a,b){R(G i=0,N=b.N;i<N;++i){b[i]&&b[i].4I(a)}},o1:E(a,b){G c=B[b+\'2e\'];if(c){a.4F=c.4c?c.4c(a,B):c;a.6h(c.2O||0,c.2A||0,B.K,B.O)}c=B[b+\'1u\'];if(c){if(B[b+\'wu\']){a.3i();a.23.2W(a,B.3c)}c.4I(a);B[b+\'wu\']&&a.3f()}},kg:E(a){B.o1(a,\'bS\')},ww:E(a){B.o1(a,\'dC\')},ac:E(){F{1h:B.63()/2,1g:B.5V()/2}},ws:E(a){F B.ad(a,1c I.1N(B.ac().1g,a.3U().y))},wr:E(a){F B.ad(a,1c I.1N(a.3U().x,B.ac().1h))},wq:E(a){G b=B.ac();F B.ad(a,1c I.1N(b.1g,b.1h))},wp:E(a){G b=B.hG();F B.ad(a,b)},wo:E(a){G b=B.hG();B.ad(a,1c I.1N(b.x,a.3U().y));F B},wn:E(a){G b=B.hG();F B.ad(a,1c I.1N(a.3U().x,b.y))},hG:E(){G a=B.ac(),dK=99(B.3c);F 4w({x:a.1g,y:a.1h},dK)},ad:E(a,b){a.bZ(b,\'1G\',\'1G\');B.2u();F B},D4:E(a){F B.c1(a)},1B:E(a){F B.ox(\'1B\',a)},c1:E(a){F B.ox(\'c1\',a)},ox:E(a,b){G c={5J:B.wg(a,b)};f(c,B.wf(a,b));I.J.d1(B,c,b);F c},wg:E(b,c){F B.49().44(E(a){F!a.oB}).4r(E(a){F B.c2(a,b,c)},B)},c2:E(a,b,c){G d;if(!B.4G){d=a.4G;a.4G=1f}G e=a[b](c);if(!B.4G){a.4G=d}F e},wf:E(a,b){G c={};if(B.3w){c.bS=B.3w.1B?B.3w.1B(b):B.3w}if(B.5W){c.dC=B.5W.1B?B.5W.1B(b):B.5W}if(B.4E){c.4E=B.c2(B.4E,a,b)}if(B.57){c.57=B.c2(B.57,a,b)}F c},we:U,3D:E(a,b){a||(a={});G c=[];B.wc(c,a);B.w8(c,a);B.oG(c,\'3w\');B.oI(c,\'4E\',b);B.w7(c,b);B.oG(c,\'5W\');B.oI(c,\'57\',b);c.1o(\'</5e>\');F c.2p(\'\')},wc:E(a,b){if(b.D8){F}a.1o(\'<?md oM="1.0" w2="\',(b.w2||\'D9-8\'),\'" Db="no" ?>\\n\',\'<!m6 5e Dc "-//Dd//vS vP 1.1//EN" \',\'"c9://iN.w3.oY/Dm/vP/1.1/vS/Do.Dq">\\n\')},w8:E(a,b){G c=b.K||B.K,O=b.O||B.O,4f,68=\'68="0 0 \'+B.K+\' \'+B.O+\'" \',2m=I.1H.2m;if(b.68){68=\'68="\'+b.68.x+\' \'+b.68.y+\' \'+b.68.K+\' \'+b.68.O+\'" \'}P{if(B.we){4f=B.3c;68=\'68="\'+26(-4f[4]/4f[0],2m)+\' \'+26(-4f[5]/4f[3],2m)+\' \'+26(B.K/4f[0],2m)+\' \'+26(B.O/4f[3],2m)+\'" \'}}a.1o(\'<5e \',\'vG="c9://iN.w3.oY/Dr/5e" \',\'vG:5x="c9://iN.w3.oY/Ds/5x" \',\'oM="1.1" \',\'K="\',c,\'" \',\'O="\',O,\'" \',68,\'md:Dt="Dv">\\n\',\'<vz>Dx Dz DA.js \',I.oM,\'</vz>\\n\',\'<mY>\\n\',B.vn(),B.vm(),\'</mY>\\n\')},vm:E(){G c=B,3V=[\'3w\',\'5W\'].4r(E(a){G b=c[a];if(b&&b.4c){F b.3D(c,1f)}});F 3V.2p(\'\')},vn:E(){G a=\'\',ce={},2t,2E,1L,ij,pp,4S,2j,db=I.db,5J=B.49();R(G i=0,1d=5J.N;i<1d;i++){2t=5J[i];2E=2t.2E;if(2t.1p.2Z(\'1x\')===-1||ce[2E]||!db[2E]){3t}ce[2E]=U;if(!2t.22){3t}1L=2t.22;R(pp in 1L){ij=1L[pp];R(2j in ij){4S=ij[2j];2E=4S.2E;if(!ce[2E]&&db[2E]){ce[2E]=U}}}}R(G j in ce){a+=[\'\\t\\t@3S-DE {\\n\',\'\\t\\t\\DF-fG: \\\'\',j,\'\\\';\\n\',\'\\t\\t\\DG: 9Q(\\\'\',db[j],\'\\\');\\n\',\'\\t\\t}\\n\'].2p(\'\')}if(a){a=[\'\\t<1L 1p="1x/DH">\',\'<![DI[\\n\',a,\']]>\',\'</1L>\\n\'].2p(\'\')}F a},w7:E(a,b){G c;R(G i=0,5J=B.49(),1d=5J.N;i<1d;i++){c=5J[i];if(c.oB){3t}B.iD(a,c,b)}},iD:E(a,b,c){a.1o(b.3D(c))},oI:E(a,b,c){if(B[b]&&B[b].3D){a.1o(B[b].3D(c))}},oG:E(a,b){G c=B[b];if(!c){F}if(c.4c){G d=c.4p;a.1o(\'<5i 23="3T(\',B.K/2,\',\',B.O/2,\')"\',\' x="\',c.2O-B.K/2,\'" y="\',c.2A-B.O/2,\'" \',\'K="\',(d===\'4p-y\'||d===\'no-4p\'?c.1Y.K:B.K),\'" O="\',(d===\'4p-x\'||d===\'no-4p\'?c.1Y.O:B.O),\'" 1A="9Q(#aB\'+c.id+\')"\',\'></5i>\\n\')}P{a.1o(\'<5i x="0" y="0" \',\'K="\',B.K,\'" O="\',B.O,\'" 1A="\',B[b],\'"\',\'></5i>\\n\')}},iE:E(a){if(!a){F B}G b=B.7c,i,2t,5b;if(a===b){5b=b.1y;R(i=5b.N;i--;){2t=5b[i];6i(B.1y,2t);B.1y.ve(2t)}}P{6i(B.1y,a);B.1y.ve(a)}F B.2u&&B.2u()},iJ:E(a){if(!a){F B}G b=B.7c,i,2t,5b;if(a===b){5b=b.1y;R(i=0;i<5b.N;i++){2t=5b[i];6i(B.1y,2t);B.1y.1o(2t)}}P{6i(B.1y,a);B.1y.1o(a)}F B.2u&&B.2u()},iK:E(a,b){if(!a){F B}G c=B.7c,i,2t,3v,7m,5b;if(a===c){5b=c.1y;R(i=0;i<5b.N;i++){2t=5b[i];3v=B.1y.2Z(2t);if(3v!==0){7m=3v-1;6i(B.1y,2t);B.1y.7M(7m,0,2t)}}}P{3v=B.1y.2Z(a);if(3v!==0){7m=B.vd(a,3v,b);6i(B.1y,a);B.1y.7M(7m,0,a)}}B.2u&&B.2u();F B},vd:E(a,b,c){G d;if(c){d=b;R(G i=b-1;i>=0;--i){G e=a.pR(B.1y[i])||a.al(B.1y[i])||B.1y[i].al(a);if(e){d=i;1P}}}P{d=b-1}F d},iO:E(a,b){if(!a){F B}G c=B.7c,i,2t,3v,7m,5b;if(a===c){5b=c.1y;R(i=5b.N;i--;){2t=5b[i];3v=B.1y.2Z(2t);if(3v!==B.1y.N-1){7m=3v+1;6i(B.1y,2t);B.1y.7M(7m,0,2t)}}}P{3v=B.1y.2Z(a);if(3v!==B.1y.N-1){7m=B.vb(a,3v,b);6i(B.1y,a);B.1y.7M(7m,0,a)}}B.2u&&B.2u();F B},vb:E(a,b,c){G d;if(c){d=b;R(G i=b+1;i<B.1y.N;++i){G e=a.pR(B.1y[i])||a.al(B.1y[i])||B.1y[i].al(a);if(e){d=i;1P}}}P{d=b+1}F d},52:E(a,b){6i(B.1y,a);B.1y.7M(b,0,a);F B.2u&&B.2u()},iQ:E(){B.dR();F B},3s:E(){F\'#<I.3O (\'+B.5l()+\'): \'+\'{ 5J: \'+B.49().N+\' }>\'}});f(I.2F.1i,I.bV);f(I.2F.1i,I.pV);f(I.2F.1i,I.DL);f(I.2F,{DM:\'{"5J": [], "bS": "yi"}\',cr:E(a){G b=I.J.6a();if(!b||!b.2o){F 1k}G c=b.2o(\'2d\');if(!c){F 1k}6R(a){1C\'3d\':F 1j c.3d!==\'1v\';1C\'8Q\':F 1j c.8Q!==\'1v\';1C\'5c\':F 1j b.5c!==\'1v\';1C\'v4\':gm{b.5c(\'4q/iX\',0);F U}kb(e){}F 1f;dL:F 1k}}});I.2F.1i.iY=I.2F.1i.1B})();I.iZ=I.J.1z({29:\'aH(0, 0, 0)\',K:1,2w:1k,55:\'4o\',5y:\'4o\',2K:1k,d3:E(a){B.2w=1c I.6o(a);F B},j3:E(){G a=B.W.3o;a.6t=B.29;a.4d=B.K;a.v3=B.55;a.v2=B.5y;if(B.2K&&I.2F.cr(\'8Q\')){a.8Q(B.2K)}},ar:E(){if(!B.2w){F}G a=B.W.3o,8p=B.W.bs();a.ja=B.2w.29;a.jd=B.2w.5R*8p;a.je=B.2w.2O*8p;a.jj=B.2w.2A*8p},jk:E(){G a=B.W.3o;a.ja=\'\';a.jd=a.je=a.jj=0}});(E(){I.jm=I.J.1z(I.iZ,{2c:E(a){B.W=a;B.7n=[]},cB:E(a){B.v0(a);B.qy(a);B.58()},jw:E(a){B.qy(a);B.W.5Q(B.W.3o);B.58()},jx:E(){B.uZ()},v0:E(a){G p=1c I.1N(a.x,a.y);B.uY();B.qK(p);B.W.3o.52(p.x,p.y)},qK:E(a){B.7n.1o(a)},uY:E(){B.7n.N=0;B.j3();B.ar()},qy:E(a){G b=1c I.1N(a.x,a.y);B.qK(b)},58:E(){G a=B.W.3o,v=B.W.3c,p1=B.7n[0],p2=B.7n[1];a.3i();a.23(v[0],v[1],v[2],v[3],v[4],v[5]);a.3Q();if(B.7n.N===2&&p1.x===p2.x&&p1.y===p2.y){p1.x-=0.5;p2.x+=0.5}a.52(p1.x,p1.y);R(G i=1,1d=B.7n.N;i<1d;i++){G b=p1.nj(p2);a.cP(p1.x,p1.y,b.x,b.y);p1=B.7n[i];p2=B.7n[i+1]}a.41(p1.x,p1.y);a.1D();a.3f()},uX:E(a){G b=[],p1=1c I.1N(a[0].x,a[0].y),p2=1c I.1N(a[1].x,a[1].y);b.1o(\'M \',a[0].x,\' \',a[0].y,\' \');R(G i=1,1d=a.N;i<1d;i++){G c=p1.nj(p2);b.1o(\'Q \',p1.x,\' \',p1.y,\' \',c.x,\' \',c.y,\' \');p1=1c I.1N(a[i].x,a[i].y);if((i+1)<a.N){p2=1c I.1N(a[i+1].x,a[i+1].y)}}b.1o(\'L \',p1.x,\' \',p1.y,\' \');F b},jH:E(a){G b=1c I.6l(a,{1A:1k,1D:B.29,2s:B.K,55:B.55,5y:B.5y,2K:B.2K,1T:\'1G\',2g:\'1G\'});if(B.2w){B.2w.9O=U;b.d3(B.2w)}F b},uZ:E(){G a=B.W.3o;a.5j();G b=B.uX(B.7n).2p(\'\');if(b===\'M 0 0 Q 0 0 0 0 L 0 0\'){B.W.2u();F}G c=B.jH(b);B.W.5F(c);c.3C();B.W.5Q(B.W.3o);B.jk();B.W.2u();B.W.1U(\'1Q:cJ\',{1Q:c})}})})();I.DN=I.J.1z(I.iZ,{K:10,2c:E(a){B.W=a;B.28=[]},kr:E(a){G b=B.uV(a),1O=B.W.3o,v=B.W.3c;1O.3i();1O.23(v[0],v[1],v[2],v[3],v[4],v[5]);1O.4F=b.1A;1O.3Q();1O.cN(b.x,b.y,b.2T,0,1a.4u*2,1f);1O.5j();1O.1A();1O.3f()},cB:E(a){B.28.N=0;B.W.5Q(B.W.3o);B.ar();B.kr(a)},jw:E(a){B.kr(a)},jx:E(){G a=B.W.64;B.W.64=1f;G b=[];R(G i=0,1d=B.28.N;i<1d;i++){G c=B.28[i],9t=1c I.7t({2T:c.2T,1g:c.x,1h:c.y,1T:\'1G\',2g:\'1G\',1A:c.1A});B.2w&&9t.d3(B.2w);b.1o(9t)}G d=1c I.7a(b,{1T:\'1G\',2g:\'1G\'});d.W=B.W;B.W.5F(d);B.W.1U(\'1Q:cJ\',{1Q:d});B.W.5Q(B.W.3o);B.jk();B.W.64=a;B.W.2u()},uV:E(a){G b=1c I.1N(a.x,a.y),uU=I.J.9K(1a.1J(0,B.K-20),B.K+20)/2,uT=1c I.2e(B.29).cM(I.J.9K(0,3h)/3h).i8();b.2T=uU;b.1A=uT;B.28.1o(b);F b}});I.DO=I.J.1z(I.iZ,{K:10,uS:20,k5:1,k6:1,uR:1f,uH:U,2c:E(a){B.W=a;B.cQ=[]},cB:E(a){B.cQ.N=0;B.W.5Q(B.W.3o);B.ar();B.kF(a);B.4I()},jw:E(a){B.kF(a);B.4I()},jx:E(){G a=B.W.64;B.W.64=1f;G b=[];R(G i=0,uG=B.cQ.N;i<uG;i++){G c=B.cQ[i];R(G j=0,4O=c.N;j<4O;j++){G d=1c I.77({K:c[j].K,O:c[j].K,1g:c[j].x+1,1h:c[j].y+1,1T:\'1G\',2g:\'1G\',1A:B.29});B.2w&&d.d3(B.2w);b.1o(d)}}if(B.uH){b=B.uF(b)}G e=1c I.7a(b,{1T:\'1G\',2g:\'1G\'});e.W=B.W;B.W.5F(e);B.W.1U(\'1Q:cJ\',{1Q:e});B.W.5Q(B.W.3o);B.jk();B.W.64=a;B.W.2u()},uF:E(a){G b={},8q;R(G i=0,1d=a.N;i<1d;i++){8q=a[i].1g+\'\'+a[i].1h;if(!b[8q]){b[8q]=a[i]}}G c=[];R(8q in b){c.1o(b[8q])}F c},4I:E(){G a=B.W.3o;a.4F=B.29;G v=B.W.3c;a.3i();a.23(v[0],v[1],v[2],v[3],v[4],v[5]);R(G i=0,1d=B.cR.N;i<1d;i++){G b=B.cR[i];if(1j b.1V!==\'1v\'){a.cS=b.1V}a.6h(b.x,b.y,b.K,b.K)}a.3f()},kF:E(a){B.cR=[];G x,y,K,2T=B.K/2;R(G i=0;i<B.uS;i++){x=I.J.9K(a.x-2T,a.x+2T);y=I.J.9K(a.y-2T,a.y+2T);if(B.k6){K=I.J.9K(1a.1J(1,B.k5-B.k6),B.k5+B.k6)}P{K=B.k5}G b=1c I.1N(x,y);b.K=K;if(B.uR){b.1V=I.J.9K(0,3h)/3h}B.cR.1o(b)}B.cQ.1o(B.cR)}});I.DP=I.J.1z(I.jm,{kM:E(){G a=20,uE=5,cU=I.2X.69(\'W\'),cC=cU.2o(\'2d\');cU.K=cU.O=a+uE;cC.4F=B.29;cC.3Q();cC.cN(a/2,a/2,a/2,0,1a.4u*2,1f);cC.5j();cC.1A();F cU},uC:E(){F cw(B.kM).2M(\'B.29\',\'"\'+B.29+\'"\')},uz:E(){F B.W.3o.xH(B.1Y||B.kM(),\'4p\')},j3:E(){B.1K(\'j3\');B.W.3o.6t=B.uz()},jH:E(a){G b=B.1K(\'jH\',a),kS=b.ga().mX(b.2s/2);b.1D=1c I.ay({1Y:B.1Y||B.uC(),2O:-kS.x,2A:-kS.y});F b}});(E(){G j=I.J.48,4D=I.J.4D,eE=I.J.eE,6Q=1a.6Q,2f=1a.2f,uv=I.2F.cr(\'8Q\'),cY=0.5;I.3O=I.J.1z(I.2F,{2c:E(a,b){b||(b={});B.eh(a,b);B.ut();B.aq()},us:1f,ur:\'6N\',gh:1f,d2:1f,l3:\'ap\',gl:\'6N\',8l:U,4H:U,l7:\'6N\',ug:1k,d5:\'7P(3h, 3h, 2x, 0.3)\',ao:[],la:\'7P(2x, 2x, 2x, 0.3)\',lb:1,8G:\'co\',7A:\'co\',8c:\'dL\',u9:\'u8\',u7:\'u8\',u5:\'W-Ec\',gx:1f,u3:0,u2:1f,dh:1f,lp:1f,lq:0,dj:1k,u1:1f,u0:1f,ut:E(){B.3P=1k;B.5s=1k;B.tZ();B.tY();B.tX();B.9V();B.gI=I.jm&&1c I.jm(B);B.ba()},tW:E(){G a=B.4h(),4s=B.8a(),1m,bY=[],lG=[];if((a||4s)&&!B.lp){R(G i=0,N=B.1y.N;i<N;i++){1m=B.1y[i];if((!a||!a.f7(1m))&&1m!==4s){bY.1o(1m)}P{lG.1o(1m)}}if(a){a.3I(\'1y\',lG);bY.1o(a)}4s&&bY.1o(4s)}P{bY=B.1y}F bY},2u:E(){if(B.lH&&!B.5s&&!B.dh){B.5Q(B.3o);B.lH=1f}G a=B.7q;B.nM(a,B.tW());F B},tT:E(){G a=B.3o;B.5Q(a);if(B.4H&&B.5s){B.tS(a)}B.1U(\'wv:4I\');B.lH=U;F B},gP:E(){G t=B.3P;t.1q.1F({1r:t.6g.1r,1t:t.6g.1t,2L:t.6g.2L,2U:t.6g.2U,1g:t.6g.1g,1h:t.6g.1h});if(B.lM(t.1q)){if(t.3X===\'5t\'){B.gS(t.1q)}P{if(t.1T!==\'1G\'){if(t.1T===\'3H\'){t.bW=-1}P{t.bW=1}}if(t.2g!==\'1G\'){if(t.2g===\'6C\'){t.bT=-1}P{t.bT=1}}t.1T=\'1G\';t.2g=\'1G\'}}P{t.1T=t.6g.1T;t.2g=t.6g.2g}},ab:E(e,a,b){G c=U,5U=b||B.48(e,c),xy;if(a.1s&&a.1s===B.4h()){xy=B.lV(a.1s,5U)}P{xy={x:5U.x,y:5U.y}}F(a.ab(xy)||a.aa(5U))},lV:E(a,b){G m=a.bP(),tP=I.J.99(m),tO=B.m0(b);F I.J.4w(tO,tP)},tN:E(a,x,y){G b=a.bL,7l=a.7l,1O=B.h3,tM=a.bH;a.bL=a.7l=1f;a.bH=\'\';1O.3i();1O.23.2W(1O,B.3c);a.4I(1O);1O.3f();a.3z&&a.a6(1O);a.bL=b;a.7l=7l;a.bH=tM;G c=I.J.sZ(1O,x,y,B.u3);B.5Q(1O);F c},tK:E(e,a){G b=B.4h(),4s=B.8a();F(!a||(a&&b&&!b.f7(a)&&b!==a&&!e[B.l7])||(a&&!a.ma)||(a&&!a.7G&&4s&&4s!==a))},lM:E(a){if(!a){F}G t=B.3P,h9;if(t.3X===\'3k\'||t.3X===\'1r\'||t.3X===\'1t\'){h9=B.gh||a.gh}P if(t.3X===\'5t\'){h9=B.d2||a.d2}F h9?!t.ap:t.ap},tI:E(a,b){G c={x:a.1T,y:a.2g};if(b===\'ml\'||b===\'tl\'||b===\'bl\'){c.x=\'3H\'}P if(b===\'mr\'||b===\'tr\'||b===\'br\'){c.x=\'1g\'}if(b===\'tl\'||b===\'mt\'||b===\'tr\'){c.y=\'6C\'}P if(b===\'bl\'||b===\'mb\'||b===\'br\'){c.y=\'1h\'}F c},tH:E(a,b,e){if(!b){F\'mj\'}6R(b){1C\'7B\':F\'5t\';1C\'ml\':1C\'mr\':F e[B.gl]?\'2U\':\'1r\';1C\'mt\':1C\'mb\':F e[B.gl]?\'2L\':\'1t\';dL:F\'3k\'}},tF:E(e,a){if(!a){F}G b=B.48(e),5o=a.aa(B.48(e,U)),3X=B.tH(a,5o,e),9m=B.tI(a,5o);B.3P={1q:a,3X:3X,5o:5o,1r:a.1r,1t:a.1t,2L:a.2L,2U:a.2U,2O:b.x-a.1g,2A:b.y-a.1h,1T:9m.x,2g:9m.y,ex:b.x,ey:b.y,mu:b.x,mv:b.y,1g:a.1g,1h:a.1h,tE:4D(a.2i),K:a.K*a.1r,bW:1,bT:1,6N:e.6N,ap:e[B.l3]};B.3P.6g={1g:a.1g,1h:a.1h,1r:a.1r,1t:a.1t,2L:a.2L,2U:a.2U,1T:9m.x,2g:9m.y};B.gP()},tD:E(x,y){G a=B.3P,1q=a.1q,my=x-a.2O,mz=y-a.2A,mA=!1q.1Z(\'9f\')&&1q.1g!==my,mC=!1q.1Z(\'9e\')&&1q.1h!==mz;mA&&1q.1F(\'1g\',my);mC&&1q.1F(\'1h\',mz);F mA||mC},tC:E(a,t,b){G c=\'1T\',dX={0:\'1G\'},7j=t.1q.2L,mH=\'1g\',mI=\'3H\',5o=t.5o===\'mt\'||t.5o===\'ml\'?1:-1,dY=1;a=a>0?1:-1;if(b===\'y\'){7j=t.1q.2U;mH=\'1h\';mI=\'6C\';c=\'2g\'}dX[-1]=mH;dX[1]=mI;t.1q.4N&&(dY*=-1);t.1q.56&&(dY*=-1);if(7j===0){t.dZ=-5o*a*dY;t[c]=dX[-a]}P{7j=7j>0?1:-1;t.dZ=7j;t[c]=dX[7j*5o*dY]}},mL:E(x,y,a){G t=B.3P,1q=t.1q,bo=1f,hp=1q.1Z(\'hp\'),hq=1q.1Z(\'hq\');if((hp&&a===\'x\')||(hq&&a===\'y\')){F 1f}G b=1q.3U(),tB=1q.e2(1c I.1N(x,y),\'1G\',\'1G\')[a],tA=1q.e2(1c I.1N(t.mu,t.mv),\'1G\',\'1G\')[a],mS,mU,5h=1q.7w();B.tC(tB-tA,t,a);mS=1q.e2(1c I.1N(x,y),t.1T,t.2g)[a];mU=1q.84(b,t.1T,t.2g);bo=B.tz(mS,t,a,5h);t.mu=x;t.mv=y;1q.bZ(mU,t.1T,t.2g);F bo},tz:E(a,b,c,d){G e=b.1q,83,bo=1f,dZ=b.dZ,n0,hz,b8,9n,b3,hD,2L,2U;if(c===\'x\'){b8=\'y\';9n=\'Y\';b3=\'X\';2L=0;2U=e.2U}P{b8=\'x\';9n=\'X\';b3=\'Y\';2L=e.2L;2U=0}hz=e.7w(2L,2U);hD=2*1a.2f(a)-hz[c];if(hD<=2){83=0}P{83=dZ*1a.tv((hD/e[\'3k\'+b3])/(hz[b8]/e[\'3k\'+9n]));83=I.J.eE(83)}bo=e[\'7j\'+b3]!==83;e.1F(\'7j\'+b3,83);if(e[\'7j\'+9n]!==0){n0=e.7w();83=(d[b8]/n0[b8])*e[\'3k\'+9n];e.1F(\'3k\'+9n,83)}F bo},ec:E(x,y,a){G t=B.3P,1q=t.1q,b0=1q.1Z(\'b0\'),9S=1q.1Z(\'9S\'),ef=1q.1Z(\'ef\');if(b0&&9S){F 1f}G b=1q.84(1q.3U(),t.1T,t.2g),nc=1q.e2(1c I.1N(x,y),t.1T,t.2g),5h=1q.7w(),4Z=1f;B.tu(nc,t);4Z=B.hK(nc,t,b0,9S,a,ef,5h);1q.bZ(b,t.1T,t.2g);F 4Z},hK:E(a,b,c,d,e,f,g){G h=b.1q,aV=1f,aU=1f,4Z=1f,hN,hO,1r,1t;1r=a.x*h.1r/g.x;1t=a.y*h.1t/g.y;hN=h.1r!==1r;hO=h.1t!==1t;if(f&&1r<=0&&1r<h.1r){aV=U}if(f&&1t<=0&&1t<h.1t){aU=U}if(e===\'tt\'&&!c&&!d){aV||aU||(4Z=B.tq(a,h,b,g))}P if(!e){aV||c||(h.1F(\'1r\',1r)&&(4Z=4Z||hN));aU||d||(h.1F(\'1t\',1t)&&(4Z=4Z||hO))}P if(e===\'x\'&&!h.1Z(\'9R\')){aV||c||(h.1F(\'1r\',1r)&&(4Z=4Z||hN))}P if(e===\'y\'&&!h.1Z(\'9R\')){aU||d||(h.1F(\'1t\',1t)&&(4Z=4Z||hO))}b.ek=1r;b.en=1t;aV||aU||B.tp(b,e);F 4Z},tq:E(a,b,c,d){G e=a.y+a.x,ns=d.y*c.6g.1t/b.1t+d.x*c.6g.1r/b.1r,4Z;c.ek=c.6g.1r*e/ns;c.en=c.6g.1t*e/ns;4Z=c.ek!==b.1r||c.en!==b.1t;b.1F(\'1r\',c.ek);b.1F(\'1t\',c.en);F 4Z},tp:E(a,b){if(a.ek<0&&b!==\'y\'){if(a.1T===\'1g\'){a.1T=\'3H\'}P if(a.1T===\'3H\'){a.1T=\'1g\'}}if(a.en<0&&b!==\'x\'){if(a.2g===\'1h\'){a.2g=\'6C\'}P if(a.2g===\'6C\'){a.2g=\'1h\'}}},tu:E(a,t){G b=t.1q,8p=B.bs(),7u=b.7u/8p;if(t.1T===\'3H\'){a.x*=-1}P if(t.1T===\'1G\'){a.x*=t.bW*2;if(a.x<0){t.bW=-t.bW}}if(t.2g===\'6C\'){a.y*=-1}P if(t.2g===\'1G\'){a.y*=t.bT*2;if(a.y<0){t.bT=-t.bT}}if(2f(a.x)>7u){if(a.x<0){a.x+=7u}P{a.x-=7u}}P{a.x=0}if(2f(a.y)>7u){if(a.y<0){a.y+=7u}P{a.y-=7u}}P{a.y=0}},tm:E(x,y){G t=B.3P;if(t.1q.1Z(\'hU\')){F 1f}G a=6Q(t.ey-t.1h,t.ex-t.1g),tj=6Q(y-t.1h,x-t.1g),2i=eE(tj-a+t.tE),ny=U;if(2i<0){2i=6O+2i}2i%=6O;if(t.1q.lq>0){G b=t.1q.lq,dj=t.1q.dj||b,nz=1a.6M(2i/b)*b,nA=1a.4e(2i/b)*b;if(1a.2f(2i-nA)<dj){2i=nA}P if(1a.2f(2i-nz)<dj){2i=nz}if(t.1q.2i===2i){ny=1f}}t.1q.2i=2i;F ny},81:E(a){B.2k.1L.er=a},Eh:E(a){a.1r=1;a.1t=1;a.2L=0;a.2U=0;a.cA(0)},tS:E(a){G b=B.5s,1g=b.1g,1h=b.1h,7Z=2f(1g),7Y=2f(1h);if(B.d5){a.4F=B.d5;a.6h(b.ex-((1g>0)?0:-1g),b.ey-((1h>0)?0:-1h),7Z,7Y)}if(!B.lb||!B.la){F}a.4d=B.lb;a.6t=B.la;if(B.ao.N>1&&!uv){G c=b.ex+cY-((1g>0)?0:7Z),py=b.ey+cY-((1h>0)?0:7Y);a.3Q();I.J.4L(a,c,py,c+7Z,py,B.ao);I.J.4L(a,c,py+7Y-1,c+7Z,py+7Y-1,B.ao);I.J.4L(a,c,py,c,py+7Y,B.ao);I.J.4L(a,c+7Z-1,py,c+7Z-1,py+7Y,B.ao);a.5j();a.1D()}P{I.1H.1i.9N.1W(B,a,B.ao);a.i0(b.ex+cY-((1g>0)?0:7Z),b.ey+cY-((1h>0)?0:7Y),7Z,7Y)}},9M:E(e,a){if(B.u2){F}G b=U,5U=B.48(e,b),7X=B.4h(),4s=B.8a(),ez;if(7X&&!a&&7X===B.eA([7X],5U)){B.eB(7X,e);F 7X}if(4s&&4s.aa(5U)){B.eB(4s,e);F 4s}if(4s&&4s===B.eA([4s],5U)){if(!B.lp){B.eB(4s,e);F 4s}P{ez=4s}}B.9L=[];G c=B.eA(B.1y,5U);if(e[B.ug]&&c&&ez&&c!==ez){c=ez}B.eB(c,e);F c},eB:E(a,e){if(a){if(B.5L!==a){if(B.5L){B.1U(\'5Z:nO\',{1q:B.5L,e:e});B.5L.1U(\'eD\')}B.1U(\'5Z:nP\',{1q:a,e:e});a.1U(\'Ei\');B.5L=a}}P if(B.5L){B.1U(\'5Z:nO\',{1q:B.5L,e:e});B.5L.1U(\'eD\');B.5L=1k}},te:E(a,b){if(b&&b.4X&&b.ma&&B.ab(1k,b,a)){if((B.gx||b.gx)&&!b.4y){G c=B.tN(b,a.x,a.y);if(!c){F U}}P{F U}}},eA:E(a,b){G c,i=a.N,nT,ic;31(i--){if(B.te(b,a[i])){c=a[i];if(c.1p===\'1s\'&&c.t4){nT=B.lV(c,b);ic=B.eA(c.1y,nT);ic&&B.9L.1o(ic)}1P}}F c},m0:E(a){F I.J.4w(a,I.J.99(B.3c))},48:E(e,a,b){if(!b){b=B.2k}G c=j(e),2q=b.nB(),eH=2q.K||0,eI=2q.O||0,eJ;if(!eH||!eI){if(\'1h\'in 2q&&\'6C\'in 2q){eI=1a.2f(2q.1h-2q.6C)}if(\'3H\'in 2q&&\'1g\'in 2q){eH=1a.2f(2q.3H-2q.1g)}}B.ba();c.x=c.x-B.e6.1g;c.y=c.y-B.e6.1h;if(!a){c=B.m0(c)}if(eH===0||eI===0){eJ={K:1,O:1}}P{eJ={K:b.K/eH,O:b.O/eI}}F{x:c.x*eJ.K,y:c.y*eJ.O}},tY:E(){G a=B.3A.fL.2M(/\\s*wJ-W\\s*/,\'\');B.2k=B.gA();I.J.av(B.2k,\'Ep-W \'+a);B.8k.9j(B.2k);B.sY(B.3A,B.2k);B.mW(B.2k);B.3o=B.2k.2o(\'2d\')},aq:E(){B.bp=B.gA();B.bp.5H(\'K\',B.K);B.bp.5H(\'O\',B.O);B.h3=B.bp.2o(\'2d\')},tZ:E(){B.8k=I.J.fO(B.3A,\'kq\',{\'m2\':B.u5});I.J.eS(B.8k,{K:B.5V()+\'px\',O:B.63()+\'px\',9U:\'Eq\'});I.J.eZ(B.8k)},mW:E(a){G b=B.5V()||a.K,O=B.63()||a.O;I.J.eS(a,{9U:\'sW\',K:b+\'px\',O:O+\'px\',1g:0,1h:0,\'Et-3X\':\'4n\'});a.K=b;a.O=O;I.J.eZ(a)},sY:E(a,b){b.1L.hy=a.1L.hy},Ev:E(){F B.3o},ED:E(){F B.2k},sS:E(a){G b=B.5K;if(b){b.1F(\'3z\',1f);if(a!==b&&b.9H&&1j b.9H===\'E\'){b.9H()}}B.5K=a;a.1F(\'3z\',U)},eQ:E(a,e){G b=B.8a();if(b&&b!==a){b.1U(\'oa\',{e:e})}B.sS(a);B.2u();B.1U(\'1m:7e\',{1q:a,e:e});a.1U(\'7e\',{e:e});F B},8a:E(){F B.5K},aM:E(a){if(B.8a()===a){B.1U(\'hl:4H:a7\',{1q:a});B.iu();B.1U(\'4H:a7\',{1q:a});a.1U(\'oa\')}if(B.5L===a){B.5L=1k}B.1K(\'aM\',a)},iu:E(){G a=B.5K;if(a){a.1F(\'3z\',1f);if(a.9H&&1j a.9H===\'E\'){a.9H()}}B.5K=1k},iv:E(e){G a=B.5K;if(a){B.1U(\'hl:4H:a7\',{1q:a,e:e});B.iu();B.1U(\'4H:a7\',{e:e});a.1U(\'oa\',{e:e})}F B},sR:E(a){B.7c=a;if(a){a.1F(\'3z\',U)}},ix:E(a,e){B.sR(a);if(a){B.1U(\'1m:7e\',{1q:a,e:e});a.1U(\'7e\',{e:e})}F B},4h:E(){F B.7c},oh:E(){G g=B.4h();if(g){g.sP()}B.ix(1k)},iy:E(e){G g=B.4h();if(g){B.1U(\'hl:4H:a7\',{e:e,1q:g});B.oh();B.1U(\'4H:a7\',{e:e})}F B},ok:E(){G a=B.49(),i=0,1d=a.N,2t;R(;i<1d;i++){2t=a[i];2t&&2t.1F(\'3z\',1f)}B.oh();B.iu();F B},sM:E(e){B.iy(e);B.iv(e);B.ok();F B},iQ:E(){B.1K(\'iQ\');G a=B.8k;B.sL();a.oo(B.2k);a.oo(B.3A);2Y B.2k;if(a.4K){a.4K.mx(B.3A,B.8k)}2Y B.8k;F B},dR:E(){B.iy();B.iv();B.5Q(B.3o);F B.1K(\'dR\')},dI:E(a){G b=B.4h();if(b){b.a6(a)}P{B.sK(a)}},sK:E(a){R(G i=0,1d=B.1y.N;i<1d;++i){if(!B.1y[i]||!B.1y[i].3z){3t}B.1y[i].a6(a)}},c2:E(a,b,c){G d=B.oq(a),1m=B.1K(\'c2\',a,b,c);B.or(a,d);F 1m},oq:E(b){G c=[\'2i\',\'4N\',\'56\',\'O\',\'1g\',\'1r\',\'1t\',\'1h\',\'K\'];if(b.1s&&b.1s===B.4h()){G d={};c.4j(E(a){d[a]=b[a]});B.4h().os(b);F d}P{F 1k}},or:E(a,b){if(b){a.1F(b)}},iD:E(a,b,c){G d;d=B.oq(b);B.1K(\'iD\',a,b,c);B.or(b,d)},});R(G k in I.2F){if(k!==\'1i\'){I.3O[k]=I.2F[k]}}if(I.vT){I.3O.1i.iA=E(){}}I.lv=I.3O})();(E(){G f={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},2V=I.J.2V,3B=I.J.3B;I.J.1m.1n(I.3O.1i,{sJ:[\'n-7C\',\'ne-7C\',\'e-7C\',\'se-7C\',\'s-7C\',\'sw-7C\',\'w-7C\',\'nw-7C\'],tX:E(){B.sD();2V(I.4i,\'7C\',B.eW);2V(B.2k,\'cu\',B.7V);2V(B.2k,\'cn\',B.5u);2V(B.2k,\'eD\',B.f1);2V(B.2k,\'sC\',B.f2);2V(B.2k,\'oK\',B.f3);2V(B.2k,\'sB\',B.f4);2V(B.2k,\'oN\',B.7V,{f5:1f});2V(B.2k,\'cl\',B.5u,{f5:1f});if(1j 5S!==\'1v\'&&\'5F\'in 5S){5S.5F(B.2k,\'sv\',B.f8);5S.5F(B.2k,\'mj\',B.f9);5S.5F(B.2k,\'st\',B.fa);5S.5F(B.2k,\'ss\',B.fc);5S.5F(B.2k,\'sr\',B.fd)}},sD:E(){B.7V=B.7V.3l(B);B.5u=B.5u.3l(B);B.9D=B.9D.3l(B);B.eW=B.eW.3l(B);B.f8=B.f8.3l(B);B.f9=B.f9.3l(B);B.fc=B.fc.3l(B);B.fd=B.fd.3l(B);B.fa=B.fa.3l(B);B.f3=B.f3.3l(B);B.f1=B.f1.3l(B);B.f2=B.f2.3l(B);B.f4=B.f4.3l(B)},sL:E(){3B(I.4i,\'7C\',B.eW);3B(B.2k,\'cu\',B.7V);3B(B.2k,\'cn\',B.5u);3B(B.2k,\'eD\',B.f1);3B(B.2k,\'sC\',B.f2);3B(B.2k,\'oK\',B.f3);3B(B.2k,\'sB\',B.f4);3B(B.2k,\'oN\',B.7V);3B(B.2k,\'cl\',B.5u);if(1j 5S!==\'1v\'&&\'74\'in 5S){5S.74(B.2k,\'sv\',B.f8);5S.74(B.2k,\'mj\',B.f9);5S.74(B.2k,\'st\',B.fa);5S.74(B.2k,\'ss\',B.fc);5S.74(B.2k,\'sr\',B.fd)}},f8:E(e,a){B.sq&&B.sq(e,a)},f9:E(e,a){B.so&&B.so(e,a)},f3:E(e){B.sn(e)},f1:E(e){G a=B.5L;B.1U(\'5Z:nO\',{1q:a,e:e});B.5L=1k;a&&a.1U(\'eD\',{e:e})},f2:E(e){if(!B.9M(e)){B.1U(\'5Z:nP\',{1q:1k,e:e});B.5L=1k}},fa:E(e,a){B.sm&&B.sm(e,a)},fc:E(e,a){B.sl&&B.sl(e,a)},fd:E(e,a){B.sk&&B.sk(e,a)},f4:E(e){if(B.u1){e.j9();e.7R()}F 1f},7V:E(e){B.sj(e);2V(I.2X,\'hL\',B.9D,{f5:1f});2V(I.2X,\'cl\',B.5u,{f5:1f});3B(B.2k,\'cn\',B.5u);3B(B.2k,\'cl\',B.5u);if(e.1p===\'oN\'){3B(B.2k,\'cu\',B.7V)}P{2V(I.2X,\'pa\',B.9D);2V(I.2X,\'cn\',B.5u)}},9D:E(e){B.si(e);3B(I.2X,\'pa\',B.9D);3B(I.2X,\'hL\',B.9D);3B(I.2X,\'cn\',B.5u);3B(I.2X,\'cl\',B.5u);2V(B.2k,\'cn\',B.5u);2V(B.2k,\'cl\',B.5u,{f5:1f});if(e.1p===\'hL\'){G a=B;ft(E(){2V(a.2k,\'cu\',a.7V)},A2)}},5u:E(e){!B.x4&&e.7R&&e.7R();B.sg(e)},eW:E(){B.ba()},pe:E(a,b){G c=B.4h()||B.8a();if(c&&c.4y&&a===c){F 1f}F!!((a&&(a.9A||a!==c))||(!a&&!!c)||(!a&&!c&&!B.5s)||(b&&B.jf&&B.4H&&(b.x!==B.jf.x||b.y!==B.jf.y)))},si:E(e){G a,ph=U,23=B.3P,jg=B.5s,jh=(!jg||(jg.1g===0&&jg.1h===0));if(B.dh&&B.ji){B.sf(e);F}if(23){B.sb();ph=!23.5p}a=ph?B.9M(e,U):23.1q;G b=B.pe(a,B.48(e));if(a||!jh){B.s8(e)}P{B.5s=1k;B.3P=1k}if(a){a.9A=1f}B.s7(e,a,\'up\');a&&(a.fp=0);b&&B.2u()},s7:E(e,a,b){B.iA(e,a);B.7Q(e,b,a?a:1k)},7Q:E(e,a,b){G c=1j b===\'1v\'?B.9M(e):b,9L=B.9L||[],3u={e:e,1q:c,ER:9L};B.1U(\'5Z:\'+a,3u);c&&c.1U(\'5Z\'+a,3u);R(G i=0;i<9L.N;i++){9L[i].1U(\'5Z\'+a,3u)}},sb:E(){G a=B.3P,1q=a.1q;if(1q.s5){1q.s5=1f}1q.3C();B.s4(1q);if(a.5p||(B.g4&&1q.jq())){B.1U(\'1m:jr\',{1q:1q});1q.1U(\'jr\')}},s4:E(a){if(B.8y&&B.8x){G b=a.84(a.3U(),B.8y,B.8x);a.1T=B.8y;a.2g=B.8x;a.1g=b.x;a.1h=b.y;B.8y=1k;B.8x=1k}},s3:E(e){B.ji=U;B.iv(e).2u();if(B.4a){I.J.jR(B,B.3o)}G a=B.48(e);B.gI.cB(a);B.7Q(e,\'pF\')},rX:E(e){if(B.ji){G a=B.48(e);B.gI.jw(a)}B.81(B.u9);B.7Q(e,\'co\')},sf:E(e){B.ji=1f;if(B.4a){B.3o.3f()}B.gI.jx();B.7Q(e,\'up\')},sj:E(e){G a=B.9M(e);G b=\'rW\'in e?e.rW===3:e.F4===2;if(b){if(B.u0){B.7Q(e,\'pF\',a?a:1k)}F}if(B.dh){B.s3(e);F}if(B.3P){F}G c=B.48(e,U);B.jf=c;G d=B.pe(a,c),pI=B.rT(e,a);if(B.tK(e,a)){B.rR(e,a,c)}P if(pI){B.rQ(e,a);a=B.4h()}if(a){if(a.7G&&(a.fp||!pI)){B.rO(e,a);B.tF(e,a)}if(a!==B.4h()&&a!==B.8a()){B.ok();a.7G&&B.eQ(a,e)}}B.7Q(e,\'pF\',a?a:1k);d&&B.2u()},rO:E(e,a){B.g4&&a.b9();if(a.aa(B.48(e))){B.wY(a)}},rR:E(e,a,b){B.sM(e);if(a&&a.7G){B.eQ(a,e)}P if(B.4H){B.5s={ex:b.x,ey:b.y,1h:0,1g:0}}},gS:E(a){B.8y=B.3P.1q.1T;B.8x=B.3P.1q.2g;G b=a.3U();a.1T=\'1G\';a.2g=\'1G\';a.1g=b.x;a.1h=b.y;B.3P.1g=a.1g;B.3P.1h=a.1h},F7:E(a){G b=a.84(a.3U(),B.8y,B.8x);a.1T=B.8y;a.2g=B.8x;a.1g=b.x;a.1h=b.y;B.8y=1k;B.8x=1k},sg:E(e){G a,5U;if(B.dh){B.rX(e);F}if(1j e.qo!==\'1v\'&&e.qo.N>1){F}G b=B.5s;if(b){5U=B.48(e,U);b.1g=5U.x-b.ex;b.1h=5U.y-b.ey;B.tT()}P if(!B.3P){a=B.9M(e);B.iA(e,a)}P{B.rL(e)}B.7Q(e,\'co\',a?a:1k)},sn:E(e){B.7Q(e,\'oK\')},rL:E(e){G a=B.48(e),23=B.3P;23.pP=1f;23.1q.9A=U;23.6N=e.6N;23.ap=e[B.l3];B.rH(e,23);B.rG(e,23,a);23.5p&&B.2u()},rG:E(e,a,b){G x=b.x,y=b.y,1q=a.1q,3X=a.3X,5p=1f;if(3X===\'5t\'){(5p=B.tm(x,y))&&B.8W(\'F9\',1q,e)}P if(3X===\'3k\'){(5p=B.rC(e,a,x,y))&&B.8W(\'8R\',1q,e)}P if(3X===\'1r\'){(5p=B.ec(x,y,\'x\'))&&B.8W(\'8R\',1q,e)}P if(3X===\'1t\'){(5p=B.ec(x,y,\'y\'))&&B.8W(\'8R\',1q,e)}P if(3X===\'2L\'){(5p=B.mL(x,y,\'x\'))&&B.8W(\'rB\',1q,e)}P if(3X===\'2U\'){(5p=B.mL(x,y,\'y\'))&&B.8W(\'rB\',1q,e)}P{5p=B.tD(x,y);if(5p){B.8W(\'Fb\',1q,e);B.81(1q.7A||B.7A)}}a.5p=a.5p||5p},8W:E(a,b,e){B.1U(\'1m:\'+a,{1q:b,e:e});b.1U(a,{e:e})},rH:E(e,a){if(a.3X===\'3k\'||a.3X===\'1r\'||a.3X===\'1t\'){G b=B.lM(a.1q);if((b&&(a.1T!==\'1G\'||a.2g!==\'1G\'))||(!b&&a.1T===\'1G\'&&a.2g===\'1G\')){B.gP();a.pP=U}}},rC:E(e,a,x,y){if((e[B.ur]||B.us)&&!a.1q.1Z(\'9R\')){a.pX=\'3k\';F B.ec(x,y)}P{if(!a.pP&&a.pX===\'3k\'){B.gP()}a.pX=\'Fh\';F B.ec(x,y,\'tt\')}},iA:E(e,a){if(!a||!a.7G){B.81(B.8c);F 1f}G b=a.8G||B.8G,7X=B.4h(),5o=a.aa&&(!7X||!7X.f7(a))&&a.aa(B.48(e,U));if(!5o){B.81(b)}P{B.rs(5o,a,e)}F U},rs:E(a,b,e){if(a in f){B.81(B.rr(a,b,e))}P if(a===\'7B\'&&b.8E){B.81(B.u7)}P{B.81(B.8c);F 1f}},rr:E(a,b,e){G n=1a.4o((b.jJ()%6O)/45);if(n<0){n+=8}n+=f[a];if(e[B.gl]&&f[a]%2===0){n+=2}n%=8;F B.sJ[n]}})})();(E(){G c=1a.2n,1J=1a.1J;I.J.1m.1n(I.3O.1i,{rT:E(e,a){G b=B.8a();F e[B.l7]&&a&&a.7G&&(B.4h()||(b&&b!==a))&&B.4H},rQ:E(e,a){G b=B.4h();if(a===b){a=B.9M(e,U);if(!a){F}}if(b){B.rp(a,e)}P{B.ro(a,e)}if(B.7c){B.7c.jM()}},rp:E(a,e){G b=B.4h();if(b.f7(a)){b.rn(a);a.1F(\'3z\',1f);if(b.9B()===1){B.iy(e);B.eQ(b.jp(0));F}}P{b.jO(a)}B.1U(\'4H:cJ\',{1q:b,e:e});b.1F(\'3z\',U)},ro:E(a,e){if(B.5K&&a!==B.5K){G b=B.rm(a);b.jO();B.ix(b);B.5K=1k;B.1U(\'4H:cJ\',{1q:b,e:e})}a.1F(\'3z\',U)},rm:E(a){G b=B.49(),rl=b.2Z(B.5K)<b.2Z(a),rk=rl?[B.5K,a]:[a,B.5K];B.5K.4y&&B.5K.aA();F 1c I.7a(rk,{W:B})},rj:E(e){G a=B.ri();if(a.N===1){B.eQ(a[0],e)}P if(a.N>1){a=1c I.7a(a.Fn(),{W:B});a.jO();B.ix(a,e);a.jM();B.1U(\'4H:cJ\',{1q:a});B.2u()}},ri:E(){G a=[],73,x1=B.5s.ex,y1=B.5s.ey,x2=x1+B.5s.1g,y2=y1+B.5s.1h,jV=1c I.1N(c(x1,x2),c(y1,y2)),jW=1c I.1N(1J(x1,x2),1J(y1,y2)),jh=x1===x2&&y1===y2;R(G i=B.1y.N;i--;){73=B.1y[i];if(!73||!73.7G||!73.4X){3t}if(73.rg(jV,jW)||73.rf(jV,jW)||73.ab(jV)||73.ab(jW)){73.1F(\'3z\',U);a.1o(73);if(jh){1P}}}F a},s8:E(e){if(B.4H&&B.5s){B.rj(e)}G a=B.4h();if(a){a.rd().3C();a.9A=1f;B.81(B.8c)}B.5s=1k;B.3P=1k}})})();(E(){G g=I.2F.cr(\'v4\');I.J.1m.1n(I.2F.1i,{5c:E(a){a||(a={});G b=a.fR||\'rc\',k1=a.k1||1,cc=a.cc||1,rb={1g:a.1g||0,1h:a.1h||0,K:a.K||0,O:a.O||0,};F B.r9(b,k1,rb,cc)},r9:E(a,b,c,d){G e=B.5V(),qp=B.63(),qq=(c.K||B.5V())*d,qr=(c.O||B.63())*d,8p=B.bs(),qs=8p*d,vp=B.3c,cO=(vp[4]-c.1g)*d,cT=(vp[5]-c.1h)*d,r8=[qs,0,0,qs,cO,cT],qv=B.8l;B.3c=r8;B.8l&&(B.8l=1f);if(e!==qq||qp!==qr){B.e1({K:qq,O:qr})}P{B.2u()}G f=B.r7(a,b,c);qv&&(B.8l=qv);B.3c=vp;B.e1({K:e,O:qp});F f},r7:E(a,b){G c=B.7q.W;if(a===\'r6\'){a=\'iX\'}G d=g?c.5c(\'4q/\'+a,b):c.5c(\'4q/\'+a);F d},r5:E(a,b,c){F B.5c({fR:a,cc:b,k1:c})},})})();I.J.1m.1n(I.2F.1i,{Fo:E(a,b,c){F B.qA(a,b,c)},qA:E(a,b,c){if(!a){F}G d=(1j a===\'2N\')?r3.gg(a):I.J.1m.3m(a);B.dR();G e=B;B.r0(d.5J,E(){e.qY(d,E(){2Y d.5J;2Y d.4E;2Y d.57;2Y d.bS;2Y d.dC;e.iH(d);b&&b()})},c);F B},qY:E(a,b){G c=B,7k={3w:1f,5W:1f,4E:1f,57:1f};if(!a.4E&&!a.57&&!a.bS&&!a.dC){b&&b();F}G d=E(){if(7k.4E&&7k.57&&7k.3w&&7k.5W){c.2u();b&&b()}};B.fZ(\'4E\',a.4E,7k,d);B.fZ(\'57\',a.57,7k,d);B.fZ(\'3w\',a.bS,7k,d);B.fZ(\'5W\',a.dC,7k,d)},fZ:E(b,c,d,e){G f=B;if(!c){d[b]=U;e&&e();F}if(b===\'4E\'||b===\'57\'){I.J.c5([c],E(a){f[b]=a[0];d[b]=U;e&&e()})}P{B[\'1F\'+I.J.2N.8X(b,U)](c,E(){d[b]=U;e&&e()})}},r0:E(d,e,f){G g=B;if(!d||d.N===0){e&&e();F}G h=B.64;B.64=1f;I.J.c5(d,E(c){c.4j(E(a,b){g.qT(a,b)});g.64=h;e&&e()},1k,f)},Fp:E(b,c){B.3m(E(a){c(a.5c(b))})},Fu:E(b,c,d){B.3m(E(a){d(a.r5(b,c))})},3m:E(b,c){G d=r3.Fw(B.iY(c));B.qQ(E(a){a.qA(d,E(){b&&b(a)})})},qQ:E(a){G b=I.2X.69(\'W\');b.K=B.5V();b.O=B.63();G c=1c I.3O(b);c.4a=B.4a;if(B.4E){c.mp(B.4E.3F,E(){c.2u();a&&a(c)});c.yw=B.yw;c.qO=B.qO}P{a&&a(c)}}});(E(j){\'2z 2H\';G k=j.I||(j.I={}),1n=k.J.1m.1n,3m=k.J.1m.3m,26=k.J.26,8X=k.J.2N.8X,4D=k.J.4D,kd=k.2F.cr(\'8Q\'),7I=!k.7d;if(k.1H){F}k.1H=k.J.1z(k.nq,{1p:\'1m\',1T:\'1g\',2g:\'1h\',1h:0,1g:0,K:0,O:0,1r:1,1t:1,4N:1f,56:1f,1V:1,2i:0,2L:0,2U:0,kf:13,7l:U,8G:1k,7A:1k,7u:0,92:\'7P(qI,qH,2x,0.75)\',qG:1k,qS:\'7P(qI,qH,2x,0.5)\',qF:1k,qU:\'5i\',qV:1k,gh:1f,d2:U,1A:\'aH(0,0,0)\',8H:\'Fs\',9p:\'1Y-nP\',3w:\'\',bH:\'\',1D:1k,2s:1,2K:1k,55:\'qD\',5y:\'qZ\',6W:10,2w:1k,qC:0.4,k9:1,4l:1k,fW:0.kV,7G:U,ma:U,4X:U,6D:U,bL:U,8E:U,fV:40,gx:1f,4G:U,4a:1k,9f:1f,9e:1f,hU:1f,b0:1f,9S:1f,9R:1f,hp:1f,hq:1f,ef:1f,oB:1f,7I:7I,bQ:1f,qu:U,6b:1f,ra:1f,5q:(\'1h 1g K O 1r 1t 4N 56 1T 2g 4l \'+\'1D 2s 2K 55 5y 6W \'+\'2i 1V 1A 8H 9p 2w 4a 4X 3w \'+\'2L 2U\').2S(\' \'),4g:(\'1A 1D 2s 2K K O 1D 2s 2K\'+\' 55 5y 6W 8H 3w\').2S(\' \'),2c:E(a){a=a||{};if(a){B.7g(a)}if(B.7I){B.aq();B.a4({7y:\'4g\'})}},aq:E(){B.cf=k.2X.69(\'W\');B.8A=B.cf.2o(\'2d\');B.qg()},jT:E(){G a=B.W&&B.W.bs()||1,qc=B.ax(),5h=B.89(),q8=B.W&&B.W.bb()?k.5a:1,79=qc.1r*a*q8,6S=qc.1t*a*q8,K=5h.x*79,O=5h.y*6S;F{K:1a.6M(K)+2,O:1a.6M(O)+2,79:79,6S:6S}},qg:E(){if(B.qu&&B.W&&B.W.3P){G a=B.W.3P.3X;if(a.2P(0,5)===\'3k\'){F 1f}}G b=B.jT(),K=b.K,O=b.O,79=b.79,6S=b.6S;if(K!==B.jL||O!==B.jK){B.cf.K=K;B.cf.O=O;B.8A.3T(K/2,O/2);B.8A.3k(79,6S);B.jL=K;B.jK=O;B.79=79;B.6S=6S;F U}F 1f},7g:E(a){B.iH(a);B.iG(a.1A,\'1A\');B.iG(a.1D,\'1D\');B.qW(a);B.it(a.1A,\'1A\');B.it(a.1D,\'1D\')},23:E(a,b){if(B.1s&&!B.1s.q2&&B.1s===B.W.7c){B.1s.23(a)}G c=b?B.ga():B.3U();a.3T(c.x,c.y);B.2i&&a.5t(4D(B.2i));a.3k(B.1r*(B.4N?-1:1),B.1t*(B.56?-1:1));B.2L&&a.23(1,0,1a.cD(4D(B.2L)),1,0,0);B.2U&&a.23(1,1a.cD(4D(B.2U)),0,1,0,0)},1B:E(a){G b=k.1H.2m,1m={1p:B.1p,1T:B.1T,2g:B.2g,1g:26(B.1g,b),1h:26(B.1h,b),K:26(B.K,b),O:26(B.O,b),1A:(B.1A&&B.1A.1B)?B.1A.1B():B.1A,1D:(B.1D&&B.1D.1B)?B.1D.1B():B.1D,2s:26(B.2s,b),2K:B.2K?B.2K.2v():B.2K,55:B.55,5y:B.5y,6W:26(B.6W,b),1r:26(B.1r,b),1t:26(B.1t,b),2i:26(B.jJ(),b),4N:B.4N,56:B.56,1V:26(B.1V,b),2w:(B.2w&&B.2w.1B)?B.2w.1B():B.2w,4X:B.4X,4a:B.4a&&cw(B.4a),3w:B.3w,8H:B.8H,9p:B.9p,4l:B.4l?B.4l.2v():1k,2L:26(B.2L,b),2U:26(B.2U,b)};k.J.d1(B,1m,a);if(!B.4G){1m=B.rq(1m)}F 1m},c1:E(a){F B.1B(a)},rq:E(c){G d=k.J.nR(c.1p).1i,5q=d.5q;5q.4j(E(a){if(c[a]===d[a]){2Y c[a]}G b=1H.1i.3s.1W(c[a])===\'[1m 3g]\'&&1H.1i.3s.1W(d[a])===\'[1m 3g]\';if(b&&c[a].N===0&&d[a].N===0){2Y c[a]}});F c},3s:E(){F\'#<I.\'+8X(B.1p)+\'>\'},ax:E(){G a=B.1r,1t=B.1t;if(B.1s){G b=B.1s.ax();a*=b.1r;1t*=b.1t}F{1r:a,1t:1t}},3I:E(a,b){G c=(a===\'1r\'||a===\'1t\');if(c){b=B.q0(b)}if(a===\'1r\'&&b<0){B.4N=!B.4N;b*=-1}P if(a===\'1t\'&&b<0){B.56=!B.56;b*=-1}P if(a===\'2w\'&&b&&!(b 5D k.6o)){b=1c k.6o(b)}P if(a===\'6b\'&&B.1s){B.1s.1F(\'6b\',b)}B[a]=b;if(B.4g.2Z(a)>-1){if(B.1s){B.1s.1F(\'6b\',U)}B.6b=U}if(a===\'K\'||a===\'O\'){B.fW=1a.2n(0.1,1/1a.1J(B.K,B.O))}F B},pZ:E(){},d4:E(a){B.6p=a;F B},jG:E(){if(B.W&&B.W.3c){F B.W.3c}F k.g9.2v()},4I:E(a,b){if((B.K===0&&B.O===0)||!B.4X){F}a.3i();B.rw(a);B.rz(a);if(!b){B.23(a)}B.rA(a);B.ar(a);if(B.4l){a.23.2W(a,B.4l)}B.4a&&k.J.jR(B,a);if(B.7I&&(!B.1s||B.ra)){if(!B.cf){B.aq()}if(B.8L(b)){B.bQ&&B.b9({7y:\'4g\'});B.fE(B.8A,b);B.6b=1f}B.rD(a)}P{B.fE(a,b);if(b&&B.7I&&B.bQ){B.b9({7y:\'4g\'})}}B.4a&&a.3f();a.3f()},fE:E(a,b){B.kg(a);B.pS(a);B.rF(a);B.58(a,b)},rD:E(a){a.3k(1/B.79,1/B.6S);a.fC(B.cf,-B.jL/2,-B.jK/2)},8L:E(a){if(!a&&B.qg()){F U}P{if(B.6b||(B.bQ&&B.jq(\'4g\'))){if(!a){G b=B.jL/B.79;G c=B.jK/B.6S;B.8A.a5(-b/2,-c/2,b,c)}F U}}F 1f},kg:E(a){if(!B.3w){F}G b=B.89();a.4F=B.3w;a.6h(-b.x/2,-b.y/2,b.x,b.y);B.b7(a)},rA:E(a){a.cS*=B.1V},pS:E(a){if(B.1D){a.4d=B.2s;a.v3=B.55;a.v2=B.5y;a.F8=B.6W;a.6t=B.1D.4c?B.1D.4c(a,B):B.1D}},rF:E(a){if(B.1A){a.4F=B.1A.4c?B.1A.4c(a,B):B.1A}},9N:E(a,b,c){if(!b){F}if(1&b.N){b.1o.2W(b,b)}if(kd){a.8Q(b)}P{c&&c(a)}},a6:E(a,b){if(!B.3z||b||(B.1s&&B.1s!==B.W.4h())){F}G c=B.jG(),2J=B.bP(),3u;2J=k.J.8O(c,2J);3u=k.J.ou(2J);a.3i();a.3T(3u.cO,3u.cT);a.4d=1*B.k9;if(!B.1s){a.cS=B.9A?B.qC:1}if(B.1s&&B.1s===B.W.4h()){a.5t(4D(3u.2i));B.rJ(a,3u)}P{a.5t(4D(B.2i));B.rK(a)}B.dI(a);a.3f()},ar:E(a){if(!B.2w){F}G b=(B.W&&B.W.3c[0])||1,jB=(B.W&&B.W.3c[3])||1,8R=B.ax();if(B.W&&B.W.bb()){b*=k.5a;jB*=k.5a}a.ja=B.2w.29;a.jd=B.2w.5R*(b+jB)*(8R.1r+8R.1t)/4;a.je=B.2w.2O*b*8R.1r;a.jj=B.2w.2A*jB*8R.1t},b7:E(a){if(!B.2w){F}a.ja=\'\';a.jd=a.je=a.jj=0},pN:E(a,b){if(!b.4c){F}G c=b.4P||b.F6;if(c){a.23.2W(a,c)}G d=-B.K/2+b.2O||0,2A=-B.O/2+b.2A||0;a.3T(d,2A)},94:E(a){if(!B.1A){F}a.3i();B.pN(a,B.1A);if(B.8H===\'rP\'){a.1A(\'rP\')}P{a.1A()}a.3f()},7o:E(a){if(!B.1D||B.2s===0){F}if(B.2w&&!B.2w.9O){B.b7(a)}a.3i();B.9N(a,B.2K,B.96);B.pN(a,B.1D);a.1D();a.3f()},3m:E(a,b){if(B.8n.2a){F B.8n.2a(B.1B(b),a)}F 1c k.1H(B.1B(b))},F5:E(b,c){G d=B.5c(c);k.J.87(d,E(a){if(b){b(1c k.1u(a))}});F B},5c:E(a){a||(a={});G b=k.J.6a(),pJ=B.9z();b.K=pJ.K;b.O=pJ.O;k.J.fO(b,\'kq\');G c=1c k.2F(b,{gd:a.gd});if(a.fR===\'r6\'){a.fR=\'iX\'}if(a.fR===\'iX\'){c.3w=\'#F1\'}G d={3z:B.1Z(\'3z\'),1g:B.pH(),1h:B.pG()};B.1F(\'3z\',1f);B.bZ(1c k.1N(c.5V()/2,c.63()/2),\'1G\',\'1G\');G e=B.W;c.5F(B);G f=c.5c(a);B.1F(d).3C();B.W=e;c.iQ();c=1k;F f},F0:E(a){F B.1p===a},5l:E(){F 1},iY:E(a){F B.1B(a)},EZ:E(a,b){b||(b={});G c={3R:[]};c.1p=b.1p||(b.r1||b.r2?\'aw\':\'9G\');c.2C={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2};if(b.r1||b.r2){c.2C.r1=b.r1;c.2C.r2=b.r2}c.4P=b.4P;k.7W.1i.kv.1W(c,b.3R);F B.1F(a,k.7W.xS(B,c))},EY:E(a){F B.1F(\'1A\',1c k.ay(a))},d3:E(a){F B.1F(\'2w\',a?1c k.6o(a):1k)},EX:E(a){B.1F(\'1A\',a);F B},cA:E(a){G b=(B.1T!==\'1G\'||B.2g!==\'1G\')&&B.d2;if(b){B.gS()}B.1F(\'2i\',a);if(b){B.rZ()}F B},EW:E(){B.W&&B.W.ws(B);F B},EV:E(){B.W&&B.W.wo(B);F B},EU:E(){B.W&&B.W.wr(B);F B},ET:E(){B.W&&B.W.wn(B);F B},1G:E(){B.W&&B.W.wq(B);F B},ES:E(){B.W&&B.W.wp(B);F B},74:E(){B.W&&B.W.74(B);F B},s2:E(e,a){a=a||B.W.48(e);G b=1c k.1N(a.x,a.y),jv=B.ga();if(B.2i){b=k.J.eC(b,jv,4D(-B.2i))}F{x:b.x-jv.x,y:b.y-jv.y}},rw:E(a){if(B.9p){a.9p=B.9p}}});k.J.mw(k.1H);k.1H.1i.5t=k.1H.1i.cA;1n(k.1H.1i,k.bV);k.1H.2m=2;k.1H.6I=E(c,d,e,f,g){G h=k[c];d=3m(d,U);if(f){k.J.sz([d.1A,d.1D],E(a){d.1A=a[0];d.1D=a[1];G b=g?1c h(d[g],d):1c h(d);e&&e(b)})}P{G i=g?1c h(d[g],d):1c h(d);e&&e(i);F i}};k.1H.dD=0})(1j 1E!==\'1v\'?1E:B);(E(){G f=I.J.4D,fr={1g:-0.5,1G:0,3H:0.5},pv={1h:-0.5,1G:0,6C:0.5};I.J.1m.1n(I.1H.1i,{jl:E(a,b,c,d,e){G x=a.x,y=a.y,2O,2A,5h;if(1j b===\'2N\'){b=fr[b]}P{b-=0.5}if(1j d===\'2N\'){d=fr[d]}P{d-=0.5}2O=d-b;if(1j c===\'2N\'){c=pv[c]}P{c-=0.5}if(1j e===\'2N\'){e=pv[e]}P{e-=0.5}2A=e-c;if(2O||2A){5h=B.7w();x=a.x+2O*5h.x;y=a.y+2A*5h.y}F 1c I.1N(x,y)},pq:E(a,b,c){G p=B.jl(a,b,c,\'1G\',\'1G\');if(B.2i){F I.J.eC(p,a,f(B.2i))}F p},84:E(a,b,c){G p=B.jl(a,\'1G\',\'1G\',b,c);if(B.2i){F I.J.eC(p,a,f(B.2i))}F p},3U:E(){G a=1c I.1N(B.1g,B.1h);F B.pq(a,B.1T,B.2g)},s9:E(a,b){G c=B.3U();F B.84(c,a,b)},e2:E(a,b,c){G d=B.3U(),p,p2;if(1j b!==\'1v\'&&1j c!==\'1v\'){p=B.jl(d,\'1G\',\'1G\',b,c)}P{p=1c I.1N(B.1g,B.1h)}p2=1c I.1N(a.x,a.y);if(B.2i){p2=I.J.eC(p2,d,-f(B.2i))}F p2.o2(p)},bZ:E(a,b,c){G d=B.pq(a,b,c),9U=B.84(d,B.1T,B.2g);B.1F(\'1g\',9U.x);B.1F(\'1h\',9U.y)},EQ:E(a){G b=f(B.2i),po=B.5V(),sc=1a.3M(b)*po,sd=1a.3e(b)*po,fn,fl;if(1j B.1T===\'2N\'){fn=fr[B.1T]}P{fn=B.1T-0.5}if(1j a===\'2N\'){fl=fr[a]}P{fl=a-0.5}B.1g+=sc*(fl-fn);B.1h+=sd*(fl-fn);B.3C();B.1T=a},gS:E(){B.jc=B.1T;B.jb=B.2g;G a=B.3U();B.1T=\'1G\';B.2g=\'1G\';B.1g=a.x;B.1h=a.y},rZ:E(){G a=B.84(B.3U(),B.jc,B.jb);B.1T=B.jc;B.2g=B.jb;B.1g=a.x;B.1h=a.y;B.jc=1k;B.jb=1k},ga:E(){F B.84(B.3U(),\'1g\',\'1h\')}})})();(E(){E 7T(a){F[1c I.1N(a.tl.x,a.tl.y),1c I.1N(a.tr.x,a.tr.y),1c I.1N(a.br.x,a.br.y),1c I.1N(a.bl.x,a.bl.y)]}G f=I.J.4D,bM=I.J.8O;I.J.1m.1n(I.1H.1i,{6Z:1k,fg:1k,7T:E(a,b){if(!B.6Z){B.3C()}G c=a?B.fg:B.6Z;F 7T(b?B.c6(a):c)},rg:E(a,b,c,d){G e=B.7T(c,d),sp=I.3b.zo(e,a,b);F sp.aP===\'3b\'},pR:E(a,b,c){G d=I.3b.zp(B.7T(b,c),a.7T(b,c));F d.aP===\'3b\'||a.al(B,b,c)||B.al(a,b,c)},al:E(a,b,c){G d=B.7T(b,c),i=0,7U=a.j0(c?a.c6(b):b?a.fg:a.6Z);R(;i<4;i++){if(!a.ab(d[i],7U)){F 1f}}F U},rf:E(a,b,c,d){G e=B.9z(c,d);F(e.1g>=a.x&&e.1g+e.K<=b.x&&e.1h>=a.y&&e.1h+e.O<=b.y)},ab:E(a,b,c,d){G b=b||B.j0(d?B.c6(c):c?B.fg:B.6Z),9E=B.oT(a,b);F(9E!==0&&9E%2===1)},EP:E(a){if(!B.W){F 1f}G b=B.W.gf.tl,oR=B.W.gf.br;G c=B.7T(U,a),9r;R(G i=0;i<4;i++){9r=c[i];if(9r.x<=oR.x&&9r.x>=b.x&&9r.y<=oR.y&&9r.y>=b.y){F U}}F 1f},j0:E(a){F{EO:{o:a.tl,d:a.tr},EM:{o:a.tr,d:a.br},EK:{o:a.br,d:a.bl},EJ:{o:a.bl,d:a.tl}}},oT:E(a,b){G c,b2,a1,a2,xi,iI=0,5f;R(G d in b){5f=b[d];if((5f.o.y<a.y)&&(5f.d.y<a.y)){3t}if((5f.o.y>=a.y)&&(5f.d.y>=a.y)){3t}if((5f.o.x===5f.d.x)&&(5f.o.x>=a.x)){xi=5f.o.x}P{c=0;b2=(5f.d.y-5f.o.y)/(5f.d.x-5f.o.x);a1=a.y-c*a.x;a2=5f.o.y-b2*5f.o.x;xi=-(a1-a2)/(c-b2)}if(xi>=a.x){iI+=1}if(iI===2){1P}}F iI},EH:E(){F B.9z().K},EG:E(){F B.9z().O},9z:E(a,b){G c=B.7T(a,b);F I.J.ln(c)},5V:E(){F B.7w().x},63:E(){F B.7w().y},q0:E(a){if(1a.2f(a)<B.fW){if(a<0){F-B.fW}P{F B.fW}}F a},3k:E(a){a=B.q0(a);if(a<0){B.4N=!B.4N;B.56=!B.56;a*=-1}B.1r=a;B.1t=a;F B.3C()},EF:E(a){G b=B.9z().K/B.5V();F B.3k(a/B.K/b)},EE:E(a){G b=B.9z().O/B.63();F B.3k(a/B.O/b)},c6:E(a){G b=f(B.2i),4f=B.jG(),5h=a?B.7w():B.eU(),cH=5h.x,iB=5h.y,7r=1a.3e(b),7s=1a.3M(b),iz=cH>0?1a.tv(iB/cH):0,om=(cH/1a.3M(iz))/2,2O=1a.3M(iz+b)*om,2A=1a.3e(iz+b)*om,1G=B.3U(),d=a?1G:I.J.4w(1G,4f),tl=1c I.1N(d.x-2O,d.y-2A),tr=1c I.1N(tl.x+(cH*7s),tl.y+(cH*7r)),bl=1c I.1N(tl.x-(iB*7r),tl.y+(iB*7s)),br=1c I.1N(d.x+2O,d.y+2A);if(!a){G c=1c I.1N((tl.x+bl.x)/2,(tl.y+bl.y)/2),mt=1c I.1N((tr.x+tl.x)/2,(tr.y+tl.y)/2),mr=1c I.1N((br.x+tr.x)/2,(br.y+tr.y)/2),mb=1c I.1N((br.x+bl.x)/2,(br.y+bl.y)/2),7B=1c I.1N(mt.x+7r*B.fV,mt.y-7s*B.fV)}G d={tl:tl,tr:tr,br:br,bl:bl,};if(!a){d.ml=c;d.mt=mt;d.mr=mr;d.mb=mb;d.7B=7B}F d},3C:E(a,b){B.6Z=B.c6(a);if(!b){B.fg=B.c6(U)}a||(B.ol&&B.ol());F B},sN:E(){if(B.2i){G a=f(B.2i),3M=1a.3M(a),3e=1a.3e(a);F[3M,3e,-3e,3M,0,0]}F I.g9.2v()},bP:E(a){G b=B.3U(),9X=[1,0,0,1,b.x,b.y],il=B.sN(),sO=B.oi(B.2L,B.2U,U),2J=B.1s&&!a?B.1s.bP():I.g9.2v();2J=bM(2J,9X);2J=bM(2J,il);2J=bM(2J,sO);F 2J},oi:E(a,b,c){G d=[1,0,1a.cD(f(a)),1],sQ=[1,1a.cD(f(b)),0,1],1r=B.1r*(c&&B.4N?-1:1),1t=B.1t*(c&&B.56?-1:1),au=[1r,0,0,1t],m=bM(au,d,U);F bM(m,sQ,U)},89:E(){G a=B.2s,w=B.K+a,h=B.O+a;F{x:w,y:h}},7w:E(a,b){if(1j a===\'1v\'){a=B.2L}if(1j b===\'1v\'){b=B.2U}G c=B.89(),eR=c.x/2,eN=c.y/2,28=[{x:-eR,y:-eN},{x:eR,y:-eN},{x:-eR,y:eN},{x:eR,y:eN}],i,4l=B.oi(a,b,1f),io;R(i=0;i<28.N;i++){28[i]=I.J.4w(28[i],4l)}io=I.J.ln(28);F{x:io.K,y:io.O}},eU:E(){G a=B.jG(),5h=B.7w(),p=I.J.4w(5h,a,U);F p.mX(2*B.7u)},})})();I.J.1m.1n(I.1H.1i,{iE:E(){if(B.1s){I.2F.1i.iE.1W(B.1s,B)}P{B.W.iE(B)}F B},iJ:E(){if(B.1s){I.2F.1i.iJ.1W(B.1s,B)}P{B.W.iJ(B)}F B},iK:E(a){if(B.1s){I.2F.1i.iK.1W(B.1s,B,a)}P{B.W.iK(B,a)}F B},iO:E(a){if(B.1s){I.2F.1i.iO.1W(B.1s,B,a)}P{B.W.iO(B,a)}F B},52:E(a){if(B.1s){I.2F.1i.52.1W(B.1s,B,a)}P{B.W.52(B,a)}F B}});(E(){E o4(a,b){if(!b){F a+\': 4n; \'}P if(b.4c){F a+\': 9Q(#aB\'+b.id+\'); \'}P{G c=1c I.2e(b),o3=a+\': \'+c.fK()+\'; \',1V=c.82();if(1V!==1){o3+=a+\'-1V: \'+1V.3s()+\'; \'}F o3}}I.J.1m.1n(I.1H.1i,{5C:E(a){G b=B.8H,2s=B.2s?B.2s:\'0\',2K=B.2K?B.2K.2p(\' \'):\'4n\',55=B.55?B.55:\'qD\',5y=B.5y?B.5y:\'qZ\',6W=B.6W?B.6W:\'4\',1V=1j B.1V!==\'1v\'?B.1V:\'1\',hx=B.4X?\'\':\' hx: yR;\',44=a?\'\':B.az(),1A=o4(\'1A\',B.1A),1D=o4(\'1D\',B.1D);F[1D,\'1D-K: \',2s,\'; \',\'1D-yJ: \',2K,\'; \',\'1D-nQ: \',55,\'; \',\'1D-yK: \',5y,\'; \',\'1D-yL: \',6W,\'; \',1A,\'1A-yI: \',b,\'; \',\'1V: \',1V,\';\',44,hx].2p(\'\')},az:E(){F B.2w?\'44: 9Q(#aB\'+B.2w.id+\');\':\'\'},6F:E(){F B.id?\'id="\'+B.id+\'" \':\'\'},61:E(){if(B.1s&&B.1s.1p===\'1Q-1s\'){F\'\'}G a=I.J.26,2i=B.jJ(),2L=(B.En()%6O),2U=(B.Em()%6O),1G=B.3U(),2m=I.1H.2m,ie=B.1p===\'1Q-1s\'?\'\':\'3T(\'+a(1G.x,2m)+\' \'+a(1G.y,2m)+\')\',t5=2i!==0?(\' 5t(\'+a(2i,2m)+\')\'):\'\',t6=(B.1r===1&&B.1t===1)?\'\':(\' 3k(\'+a(B.1r,2m)+\' \'+a(B.1t,2m)+\')\'),t7=2L!==0?\' 2L(\'+a(2L,2m)+\')\':\'\',t8=2U!==0?\' 2U(\'+a(2U,2m)+\')\':\'\',t9=B.1p===\'1Q-1s\'?B.K:0,ta=B.4N?\' 2J(-1 0 0 1 \'+t9+\' 0) \':\'\',tc=B.1p===\'1Q-1s\'?B.O:0,td=B.56?\' 2J(1 0 0 -1 0 \'+tc+\')\':\'\';F[ie,t5,t6,ta,td,t7,t8].2p(\'\')},6y:E(){F B.4l?\' 2J(\'+B.4l.2p(\' \')+\') \':\'\'},6s:E(){G a=[];if(B.1A&&B.1A.4c){a.1o(B.1A.3D(B,1f))}if(B.1D&&B.1D.4c){a.1o(B.1D.3D(B,1f))}if(B.2w){a.1o(B.2w.3D(B))}F a}})})();(E(){G f=I.J.1m.1n,hW=\'5q\';E nx(b,c,d){G e={},tk=U;d.4j(E(a){e[a]=b[a]});f(b[c],e,tk)}E nu(a,b,c){if(!I.7d&&a 5D lv){F a===b}P if(a 5D 3g){if(a.N!==b.N){F 1f}R(G i=0,1d=a.N;i<1d;i++){if(a[i]!==b[i]){F 1f}}F U}P if(a&&1j a===\'1m\'){if(!c&&1H.tn(a).N!==1H.tn(b).N){F 1f}R(G d in a){if(!nu(a[d],b[d])){F 1f}}F U}P{F a===b}}I.J.1m.1n(I.1H.1i,{jq:E(a){a=a||hW;a=\'nr\'+a;F!nu(B[a],B,U)},b9:E(a){G b=a&&a.7y||hW,hQ=\'nr\'+b;if(!B[hQ]){F B.a4(a)}nx(B,hQ,B[b]);if(a&&a.5q){nx(B,hQ,a.5q)}F B},a4:E(a){a=a||{};G b=a.7y||hW;a.7y=b;B[\'nr\'+b]={};B.b9(a);F B}})})();(E(){G g=I.J.4D,ts=E(){F 1j ki!==\'1v\'};I.J.1m.1n(I.1H.1i,{hP:1k,aa:E(a){if(!B.6D||!B.3z){F 1f}G b=a.x,ey=a.y,9E,7U;B.fp=0;R(G i in B.6Z){if(!B.hJ(i)){3t}if(i===\'7B\'&&!B.8E){3t}if(B.1Z(\'9R\')&&(i===\'mt\'||i===\'mr\'||i===\'mb\'||i===\'ml\')){3t}7U=B.j0(B.6Z[i].5o);9E=B.oT({x:b,y:ey},7U);if(9E!==0&&9E%2===1){B.fp=i;F i}}F 1f},ol:E(){G a=B.6Z,n7=g(45-B.2i),n6=B.kf*0.Eg,e7=n6*1a.3M(n7),e3=n6*1a.3e(n7),x,y;R(G b in a){x=a[b].x;y=a[b].y;a[b].5o={tl:{x:x-e3,y:y-e7},tr:{x:x+e7,y:y-e3},bl:{x:x-e7,y:y+e3},br:{x:x+e3,y:y+e7}}}},rz:E(a){if(!B.bH||B.1s||!B.3z){F B}a.3i();G b=B.3U(),wh=B.eU(),4f=B.W.3c;a.3T(b.x,b.y);a.3k(1/4f[0],1/4f[3]);a.5t(g(B.2i));a.4F=B.bH;a.6h(-wh.x/2,-wh.y/2,wh.x,wh.y);a.3f();F B},rK:E(a){if(!B.bL){F B}G b=B.eU(),2s=1/B.k9,K=b.x+2s,O=b.y+2s;a.3i();a.6t=B.92;B.9N(a,B.qG,1k);a.i0(-K/2,-O/2,K,O);if(B.8E&&B.hJ(\'7B\')&&!B.1Z(\'hU\')&&B.6D){G c=-O/2;a.3Q();a.52(0,c);a.41(0,c-B.fV);a.5j();a.1D()}a.3f();F B},rJ:E(a,b){if(!B.bL){F B}G p=B.89(),2J=I.J.sX(b.1r,b.1t,b.2L),wh=I.J.4w(p,2J),2s=1/B.k9,K=wh.x+2s,O=wh.y+2s;a.3i();B.9N(a,B.qG,1k);a.6t=B.92;a.i0(-K/2,-O/2,K,O);a.3f();F B},dI:E(a){if(!B.6D){F B}G b=B.eU(),K=b.x,O=b.y,mE=B.kf,1g=-(K+mE)/2,1h=-(O+mE)/2,7v=B.7l?\'1D\':\'1A\';a.3i();a.6t=a.4F=B.qS;if(!B.7l){a.6t=B.qF}B.9N(a,B.qV,1k);B.7x(\'tl\',a,7v,1g,1h);B.7x(\'tr\',a,7v,1g+K,1h);B.7x(\'bl\',a,7v,1g,1h+O);B.7x(\'br\',a,7v,1g+K,1h+O);if(!B.1Z(\'9R\')){B.7x(\'mt\',a,7v,1g+K/2,1h);B.7x(\'mb\',a,7v,1g+K/2,1h+O);B.7x(\'mr\',a,7v,1g+K,1h+O/2);B.7x(\'ml\',a,7v,1g,1h+O/2)}if(B.8E){B.7x(\'7B\',a,7v,1g+K/2,1h-B.fV)}a.3f();F B},7x:E(a,b,c,d,e){if(!B.hJ(a)){F}G f=B.kf,1D=!B.7l&&B.qF;6R(B.qU){1C\'9t\':b.3Q();b.cN(d+f/2,e+f/2,f/2,0,2*1a.4u,1f);b[c]();if(1D){b.1D()}1P;dL:ts()||B.7l||b.a5(d,e,f,f);b[c+\'77\'](d,e,f,f);if(1D){b.i0(d,e,f,f)}}},hJ:E(a){F B.mn()[a]},tG:E(a,b){B.mn()[a]=b;F B},mi:E(a){a||(a={});R(G p in a){B.tG(p,a[p])}F B},mn:E(){if(!B.hP){B.hP={tl:U,tr:U,br:U,bl:U,ml:U,mt:U,mr:U,mb:U,7B:U}}F B.hP}})})();I.J.1m.1n(I.2F.1i,{dM:a0,Ef:E(b,c){c=c||{};G d=E(){},3j=c.3j||d,3E=c.3E||d,2I=B;I.J.6X({7b:b.1Z(\'1g\'),7J:B.ac().1g,6e:B.dM,3E:E(a){b.1F(\'1g\',a);2I.2u();3E()},3j:E(){b.3C();3j()}});F B},Ee:E(b,c){c=c||{};G d=E(){},3j=c.3j||d,3E=c.3E||d,2I=B;I.J.6X({7b:b.1Z(\'1h\'),7J:B.ac().1h,6e:B.dM,3E:E(a){b.1F(\'1h\',a);2I.2u();3E()},3j:E(){b.3C();3j()}});F B},Ed:E(b,c){c=c||{};G d=E(){},3j=c.3j||d,3E=c.3E||d,2I=B;I.J.6X({7b:b.1Z(\'1V\'),7J:0,6e:B.dM,ho:E(){b.1F(\'3z\',1f)},3E:E(a){b.1F(\'1V\',a);2I.2u();3E()},3j:E(){2I.74(b);3j()}});F B}});I.J.1m.1n(I.1H.1i,{6X:E(){if(2Q[0]&&1j 2Q[0]===\'1m\'){G a=[],4J,m5;R(4J in 2Q[0]){a.1o(4J)}R(G i=0,1d=a.N;i<1d;i++){4J=a[i];m5=i!==1d-1;B.m1(4J,2Q[0][4J],2Q[1],m5)}}P{B.m1.2W(B,2Q)}F B},m1:E(b,c,d,e){G f=B,8z;c=c.3s();if(!d){d={}}P{d=I.J.1m.3m(d)}if(~b.2Z(\'.\')){8z=b.2S(\'.\')}G g=8z?B.1Z(8z[0])[8z[1]]:B.1Z(b);if(!(\'lY\'in d)){d.lY=g}if(~c.2Z(\'=\')){c=g+3q(c.2M(\'=\',\'\'))}P{c=3q(c)}I.J.6X({7b:d.lY,7J:c,e5:d.by,bk:d.bk,6e:d.6e,7H:d.7H&&E(){F d.7H.1W(f)},3E:E(a){if(8z){f[8z[0]][8z[1]]=a}P{f.1F(b,a)}if(e){F}d.3E&&d.3E()},3j:E(){if(e){F}f.3C();d.3j&&d.3j()}})}});(E(g){\'2z 2H\';G h=g.I||(g.I={}),1n=h.J.1m.1n,3m=h.J.1m.3m,tR={x1:1,x2:1,y1:1,y2:1},kd=h.2F.cr(\'8Q\');if(h.7K){h.4B(\'I.7K is 5k 53\');F}G i=h.1H.1i.4g.2v();i.1o(\'x1\',\'x2\',\'y1\',\'y2\');h.7K=h.J.1z(h.1H,{1p:\'2r\',x1:0,y1:0,x2:0,y2:0,4g:i,2c:E(a,b){if(!a){a=[0,0,0,0]}B.1K(\'2c\',b);B.1F(\'x1\',a[0]);B.1F(\'y1\',a[1]);B.1F(\'x2\',a[2]);B.1F(\'y2\',a[3]);B.dv(b)},dv:E(a){a||(a={});B.K=1a.2f(B.x2-B.x1);B.O=1a.2f(B.y2-B.y1);B.1g=\'1g\'in a?a.1g:B.tU();B.1h=\'1h\'in a?a.1h:B.tV()},3I:E(a,b){B.1K(\'3I\',a,b);if(1j tR[a]!==\'1v\'){B.dv()}F B},tU:lB({9m:\'1T\',ag:\'x1\',ah:\'x2\',dp:\'K\'},{dl:\'1g\',1G:\'1G\',dk:\'3H\'}),tV:lB({9m:\'2g\',ag:\'y1\',ah:\'y2\',dp:\'O\'},{dl:\'1h\',1G:\'1G\',dk:\'6C\'}),58:E(a,b){a.3Q();if(b){G c=B.3U();a.3T(c.x-B.2s/2,c.y-B.2s/2)}if(!B.2K||B.2K&&kd){G p=B.dg();a.52(p.x1,p.y1);a.41(p.x2,p.y2)}a.4d=B.2s;G d=a.6t;a.6t=B.1D||a.4F;B.1D&&B.7o(a);a.6t=d},96:E(a){G p=B.dg();a.3Q();h.J.4L(a,p.x1,p.y1,p.x2,p.y2,B.2K);a.5j()},1B:E(a){F 1n(B.1K(\'1B\',a),B.dg())},89:E(){G a=B.1K(\'89\');if(B.55===\'qD\'){if(a.x===0){a.y-=B.2s}if(a.y===0){a.x-=B.2s}}F a},dg:E(){G a=B.x1<=B.x2?-1:1,lm=B.y1<=B.y2?-1:1,x1=(a*B.K*0.5),y1=(lm*B.O*0.5),x2=(a*B.K*-0.5),y2=(lm*B.O*-0.5);F{x1:x1,x2:x2,y1:y1,y2:y2}},3D:E(a){G b=B.6s(),p={x1:B.x1,x2:B.x2,y1:B.y1,y2:B.y2};if(!(B.1s&&B.1s.1p===\'1Q-1s\')){p=B.dg()}b.1o(\'<2r \',B.6F(),\'x1="\',p.x1,\'" y1="\',p.y1,\'" x2="\',p.x2,\'" y2="\',p.y2,\'" 1L="\',B.5C(),\'" 23="\',B.61(),B.6y(),\'"/>\\n\');F a?a(b.2p(\'\')):b.2p(\'\')},});h.7K.4x=h.8b.2v(\'x1 y1 x2 y2\'.2S(\' \'));h.7K.5X=E(a,b){b=b||{};G c=h.78(a,h.7K.4x),28=[c.x1||0,c.y1||0,c.x2||0,c.y2||0];b.1T=\'1g\';b.2g=\'1h\';F 1c h.7K(28,1n(c,b))};h.7K.2a=E(b,c,d){E u6(a){2Y a.28;c&&c(a)};G e=3m(b,U);e.28=[b.x1,b.y1,b.x2,b.y2];G f=h.1H.6I(\'7K\',e,u6,d,\'28\');if(f){2Y f.28}F f};E lB(a,b){G c=a.9m,ag=a.ag,ah=a.ah,dp=a.dp,dl=b.dl,1G=b.1G,dk=b.dk;F E(){6R(B.1Z(c)){1C dl:F 1a.2n(B.1Z(ag),B.1Z(ah));1C 1G:F 1a.2n(B.1Z(ag),B.1Z(ah))+(0.5*B.1Z(dp));1C dk:F 1a.1J(B.1Z(ag),B.1Z(ah))}}}})(1j 1E!==\'1v\'?1E:B);(E(e){\'2z 2H\';G f=e.I||(e.I={}),pi=1a.4u,1n=f.J.1m.1n;if(f.7t){f.4B(\'I.7t is 5k 53.\');F}G g=f.1H.1i.4g.2v();g.1o(\'2T\');f.7t=f.J.1z(f.1H,{1p:\'9t\',2T:0,cg:0,ch:pi*2,4g:g,2c:E(a){B.1K(\'2c\',a);B.1F(\'2T\',a&&a.2T||0)},3I:E(a,b){B.1K(\'3I\',a,b);if(a===\'2T\'){B.ua(b)}F B},1B:E(a){F B.1K(\'1B\',[\'2T\',\'cg\',\'ch\'].2v(a))},3D:E(a){G b=B.6s(),x=0,y=0,2i=(B.ch-B.cg)%(2*pi);if(2i===0){if(B.1s&&B.1s.1p===\'1Q-1s\'){x=B.1g+B.2T;y=B.1h+B.2T}b.1o(\'<9t \',B.6F(),\'cx="\'+x+\'" cy="\'+y+\'" \',\'r="\',B.2T,\'" 1L="\',B.5C(),\'" 23="\',B.61(),\' \',B.6y(),\'"/>\\n\')}P{G c=1a.3M(B.cg)*B.2T,uc=1a.3e(B.cg)*B.2T,ud=1a.3M(B.ch)*B.2T,ue=1a.3e(B.ch)*B.2T,uf=2i>pi?\'1\':\'0\';b.1o(\'<1Q d="M \'+c+\' \'+uc,\' A \'+B.2T+\' \'+B.2T,\' 0 \',+uf+\' 1\',\' \'+ud+\' \'+ue,\'" 1L="\',B.5C(),\'" 23="\',B.61(),\' \',B.6y(),\'"/>\\n\')}F a?a(b.2p(\'\')):b.2p(\'\')},58:E(a,b){a.3Q();a.cN(b?B.1g+B.2T:0,b?B.1h+B.2T:0,B.2T,B.cg,B.ch,1f);B.94(a);B.7o(a)},Eb:E(){F B.1Z(\'2T\')*B.1Z(\'1r\')},Ea:E(){F B.1Z(\'2T\')*B.1Z(\'1t\')},ua:E(a){B.2T=a;F B.1F(\'K\',a*2).1F(\'O\',a*2)},});f.7t.4x=f.8b.2v(\'cx cy r\'.2S(\' \'));f.7t.5X=E(a,b){b||(b={});G c=f.78(a,f.7t.4x);if(!uj(c)){bz 1c mP(\'4M of `r` E8 is E7 E6 E4 x6 be E3\');}c.1g=c.1g||0;c.1h=c.1h||0;G d=1c f.7t(1n(c,b));d.1g-=d.2T;d.1h-=d.2T;F d};E uj(a){F((\'2T\'in a)&&(a.2T>=0))}f.7t.2a=E(a,b,c){F f.1H.6I(\'7t\',a,b,c)}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={});if(e.d0){e.4B(\'I.d0 is 5k 53\');F}e.d0=e.J.1z(e.1H,{1p:\'E1\',2c:E(a){B.1K(\'2c\',a);B.1F(\'K\',a&&a.K||3h).1F(\'O\',a&&a.O||3h)},58:E(a){G b=B.K/2,5m=B.O/2;a.3Q();a.52(-b,5m);a.41(0,-5m);a.41(b,5m);a.5j();B.94(a);B.7o(a)},96:E(a){G b=B.K/2,5m=B.O/2;a.3Q();e.J.4L(a,-b,5m,0,-5m,B.2K);e.J.4L(a,0,-5m,b,5m,B.2K);e.J.4L(a,b,5m,-b,5m,B.2K);a.5j()},3D:E(a){G b=B.6s(),kW=B.K/2,5m=B.O/2,28=[-kW+\' \'+5m,\'0 \'+ -5m,kW+\' \'+5m].2p(\',\');b.1o(\'<mk \',B.6F(),\'28="\',28,\'" 1L="\',B.5C(),\'" 23="\',B.61(),\'"/>\');F a?a(b.2p(\'\')):b.2p(\'\')},});e.d0.2a=E(a,b,c){F e.1H.6I(\'d0\',a,b,c)}})(1j 1E!==\'1v\'?1E:B);(E(e){\'2z 2H\';G f=e.I||(e.I={}),uu=1a.4u*2,1n=f.J.1m.1n;if(f.8d){f.4B(\'I.8d is 5k 53.\');F}G g=f.1H.1i.4g.2v();g.1o(\'rx\',\'ry\');f.8d=f.J.1z(f.1H,{1p:\'gN\',rx:0,ry:0,4g:g,2c:E(a){B.1K(\'2c\',a);B.1F(\'rx\',a&&a.rx||0);B.1F(\'ry\',a&&a.ry||0)},3I:E(a,b){B.1K(\'3I\',a,b);6R(a){1C\'rx\':B.rx=b;B.1F(\'K\',b*2);1P;1C\'ry\':B.ry=b;B.1F(\'O\',b*2);1P}F B},DY:E(){F B.1Z(\'rx\')*B.1Z(\'1r\')},DV:E(){F B.1Z(\'ry\')*B.1Z(\'1t\')},1B:E(a){F B.1K(\'1B\',[\'rx\',\'ry\'].2v(a))},3D:E(a){G b=B.6s(),x=0,y=0;if(B.1s&&B.1s.1p===\'1Q-1s\'){x=B.1g+B.rx;y=B.1h+B.ry}b.1o(\'<gN \',B.6F(),\'cx="\',x,\'" cy="\',y,\'" \',\'rx="\',B.rx,\'" ry="\',B.ry,\'" 1L="\',B.5C(),\'" 23="\',B.61(),B.6y(),\'"/>\\n\');F a?a(b.2p(\'\')):b.2p(\'\')},58:E(a,b){a.3Q();a.3i();a.23(1,0,0,B.ry/B.rx,0,0);a.cN(b?B.1g+B.rx:0,b?(B.1h+B.ry)*B.rx/B.ry:0,B.rx,0,uu,1f);a.3f();B.94(a);B.7o(a)},});f.8d.4x=f.8b.2v(\'cx cy rx ry\'.2S(\' \'));f.8d.5X=E(a,b){b||(b={});G c=f.78(a,f.8d.4x);c.1g=c.1g||0;c.1h=c.1h||0;G d=1c f.8d(1n(c,b));d.1h-=d.ry;d.1g-=d.rx;F d};f.8d.2a=E(a,b,c){F f.1H.6I(\'8d\',a,b,c)}})(1j 1E!==\'1v\'?1E:B);(E(e){\'2z 2H\';G f=e.I||(e.I={}),1n=f.J.1m.1n;if(f.77){f.4B(\'I.77 is 5k 53\');F}G g=f.1H.1i.5q.2v();g.1o(\'rx\',\'ry\');f.77=f.J.1z(f.1H,{5q:g,1p:\'5i\',rx:0,ry:0,2K:1k,2c:E(a){B.1K(\'2c\',a);B.uy()},uy:E(){if(B.rx&&!B.ry){B.ry=B.rx}P if(B.ry&&!B.rx){B.rx=B.ry}},58:E(a,b){if(B.K===1&&B.O===1){a.6h(-0.5,-0.5,1,1);F}G c=B.rx?1a.2n(B.rx,B.K/2):0,ry=B.ry?1a.2n(B.ry,B.O/2):0,w=B.K,h=B.O,x=b?B.1g:-B.K/2,y=b?B.1h:-B.O/2,cW=c!==0||ry!==0,k=1-0.DT;a.3Q();a.52(x+c,y);a.41(x+w-c,y);cW&&a.8j(x+w-k*c,y,x+w,y+k*ry,x+w,y+ry);a.41(x+w,y+h-ry);cW&&a.8j(x+w,y+h-k*ry,x+w-k*c,y+h,x+w-c,y+h);a.41(x+c,y+h);cW&&a.8j(x+k*c,y+h,x,y+h-k*ry,x,y+h-ry);a.41(x,y+ry);cW&&a.8j(x,y+k*ry,x+k*c,y,x+c,y);a.5j();B.94(a);B.7o(a)},96:E(a){G x=-B.K/2,y=-B.O/2,w=B.K,h=B.O;a.3Q();f.J.4L(a,x,y,x+w,y,B.2K);f.J.4L(a,x+w,y,x+w,y+h,B.2K);f.J.4L(a,x+w,y+h,x,y+h,B.2K);f.J.4L(a,x,y+h,x,y,B.2K);a.5j()},1B:E(a){F B.1K(\'1B\',[\'rx\',\'ry\'].2v(a))},3D:E(a){G b=B.6s(),x=B.1g,y=B.1h;if(!(B.1s&&B.1s.1p===\'1Q-1s\')){x=-B.K/2;y=-B.O/2}b.1o(\'<5i \',B.6F(),\'x="\',x,\'" y="\',y,\'" rx="\',B.1Z(\'rx\'),\'" ry="\',B.1Z(\'ry\'),\'" K="\',B.K,\'" O="\',B.O,\'" 1L="\',B.5C(),\'" 23="\',B.61(),B.6y(),\'"/>\\n\');F a?a(b.2p(\'\')):b.2p(\'\')},});f.77.4x=f.8b.2v(\'x y rx ry K O\'.2S(\' \'));f.77.5X=E(a,b){if(!a){F 1k}b=b||{};G c=f.78(a,f.77.4x);c.1g=c.1g||0;c.1h=c.1h||0;G d=1c f.77(1n((b?f.J.1m.3m(b):{}),c));d.4X=d.4X&&d.K>0&&d.O>0;F d};f.77.2a=E(a,b,c){F f.1H.6I(\'77\',a,b,c)}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1n=e.J.1m.1n,2n=e.J.5A.2n,1J=e.J.5A.1J,26=e.J.26;if(e.7p){e.4B(\'I.7p is 5k 53\');F}G f=e.1H.1i.4g.2v();f.1o(\'28\');e.7p=e.J.1z(e.1H,{1p:\'yv\',28:1k,4Y:0,4k:0,4g:f,2c:E(a,b){b=b||{};B.28=a||[];B.1K(\'2c\',b);B.uD();if(!(\'1h\'in b)){B.1h=B.4k}if(!(\'1g\'in b)){B.1g=B.4Y}B.6B={x:B.4Y+B.K/2,y:B.4k+B.O/2}},uD:E(){G a=B.28,4Y=2n(a,\'x\'),4k=2n(a,\'y\'),aS=1J(a,\'x\'),aW=1J(a,\'y\');B.K=(aS-4Y)||0;B.O=(aW-4k)||0;B.4Y=4Y||0;B.4k=4k||0},1B:E(a){F 1n(B.1K(\'1B\',a),{28:B.28.2v()})},3D:E(a){G b=[],cE,3V=B.6s();R(G i=0,1d=B.28.N;i<1d;i++){b.1o(26(B.28[i].x,2),\',\',26(B.28[i].y,2),\' \')}if(!(B.1s&&B.1s.1p===\'1Q-1s\')){cE=\' 3T(\'+(-B.6B.x)+\', \'+(-B.6B.y)+\') \'}3V.1o(\'<\',B.1p,\' \',B.6F(),\'28="\',b.2p(\'\'),\'" 1L="\',B.5C(),\'" 23="\',B.61(),cE,\' \',B.6y(),\'"/>\\n\');F a?a(3V.2p(\'\')):3V.2p(\'\')},kI:E(a,b){G c,1d=B.28.N,x=b?0:B.6B.x,y=b?0:B.6B.y;if(!1d||et(B.28[1d-1].y)){F 1f}a.3Q();a.52(B.28[0].x-x,B.28[0].y-y);R(G i=0;i<1d;i++){c=B.28[i];a.41(c.x-x,c.y-y)}F U},58:E(a,b){if(!B.kI(a,b)){F}B.94(a);B.7o(a)},96:E(a){G b,p2;a.3Q();R(G i=0,1d=B.28.N;i<1d;i++){b=B.28[i];p2=B.28[i+1]||b;e.J.4L(a,b.x,b.y,p2.x,p2.y,B.2K)}},5l:E(){F B.1Z(\'28\').N}});e.7p.4x=e.8b.2v();e.7p.5X=E(a,b){if(!a){F 1k}b||(b={});G c=e.lE(a.2D(\'28\')),kc=e.78(a,e.7p.4x);F 1c e.7p(c,e.J.1m.1n(kc,b))};e.7p.2a=E(a,b,c){F e.1H.6I(\'7p\',a,b,c,\'28\')}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1n=e.J.1m.1n;if(e.8e){e.4B(\'I.8e is 5k 53\');F}e.8e=e.J.1z(e.7p,{1p:\'mk\',58:E(a,b){if(!B.kI(a,b)){F}a.5j();B.94(a);B.7o(a)},96:E(a){B.1K(\'96\',a);a.5j()},});e.8e.4x=e.8b.2v();e.8e.5X=E(a,b){if(!a){F 1k}b||(b={});G c=e.lE(a.2D(\'28\')),kc=e.78(a,e.8e.4x);F 1c e.8e(c,1n(kc,b))};e.8e.2a=E(a,b,c){F e.1H.6I(\'8e\',a,b,c,\'28\')}})(1j 1E!==\'1v\'?1E:B);(E(g){\'2z 2H\';G h=g.I||(g.I={}),2n=h.J.5A.2n,1J=h.J.5A.1J,1n=h.J.1m.1n,uI=1H.1i.3s,dF=h.J.dF,uJ={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},uK={m:\'l\',M:\'L\'};if(h.6l){h.4B(\'I.6l is 5k 53\');F}G m=h.1H.1i.4g.2v();m.1o(\'1Q\');h.6l=h.J.1z(h.1H,{1p:\'1Q\',1Q:1k,4Y:0,4k:0,4g:m,2c:E(a,b){b=b||{};if(b){B.7g(b)}if(!a){a=[]}G c=uI.1W(a)===\'[1m 3g]\';B.1Q=c?a:a.3K&&a.3K(/[uL][^uL]*/gi);if(!B.1Q){F}if(!c){B.1Q=B.uN()}B.uO(b);if(b.6p){B.d4(b.6p)}if(B.7I){B.aq();B.a4({7y:\'4g\'})}},uO:E(a){G b=B.uP();B.4Y=b.1g;B.4k=b.1h;B.K=b.K;B.O=b.O;if(1j a.1g===\'1v\'){B.1g=b.1g+(B.1T===\'1G\'?B.K/2:B.1T===\'3H\'?B.K:0)}if(1j a.1h===\'1v\'){B.1h=b.1h+(B.2g===\'1G\'?B.O/2:B.2g===\'6C\'?B.O:0)}B.6B=B.6B||{x:B.4Y+B.K/2,y:B.4k+B.O/2}},uQ:E(a){G b,6w=1k,8M=0,8N=0,x=0,y=0,1X=0,21=0,2y,2B,l=-B.6B.x,t=-B.6B.y;if(B.1s&&B.1s.1p===\'1Q-1s\'){l=0;t=0}a.3Q();R(G i=0,1d=B.1Q.N;i<1d;++i){b=B.1Q[i];6R(b[0]){1C\'l\':x+=b[1];y+=b[2];a.41(x+l,y+t);1P;1C\'L\':x=b[1];y=b[2];a.41(x+l,y+t);1P;1C\'h\':x+=b[1];a.41(x+l,y+t);1P;1C\'H\':x=b[1];a.41(x+l,y+t);1P;1C\'v\':y+=b[1];a.41(x+l,y+t);1P;1C\'V\':y=b[1];a.41(x+l,y+t);1P;1C\'m\':x+=b[1];y+=b[2];8M=x;8N=y;a.52(x+l,y+t);1P;1C\'M\':x=b[1];y=b[2];8M=x;8N=y;a.52(x+l,y+t);1P;1C\'c\':2y=x+b[5];2B=y+b[6];1X=x+b[3];21=y+b[4];a.8j(x+b[1]+l,y+b[2]+t,1X+l,21+t,2y+l,2B+t);x=2y;y=2B;1P;1C\'C\':x=b[5];y=b[6];1X=b[3];21=b[4];a.8j(b[1]+l,b[2]+t,1X+l,21+t,x+l,y+t);1P;1C\'s\':2y=x+b[3];2B=y+b[4];if(6w[0].3K(/[jE]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}a.8j(1X+l,21+t,x+b[1]+l,y+b[2]+t,2y+l,2B+t);1X=x+b[1];21=y+b[2];x=2y;y=2B;1P;1C\'S\':2y=b[3];2B=b[4];if(6w[0].3K(/[jE]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}a.8j(1X+l,21+t,b[1]+l,b[2]+t,2y+l,2B+t);x=2y;y=2B;1X=b[1];21=b[2];1P;1C\'q\':2y=x+b[3];2B=y+b[4];1X=x+b[1];21=y+b[2];a.cP(1X+l,21+t,2y+l,2B+t);x=2y;y=2B;1P;1C\'Q\':2y=b[3];2B=b[4];a.cP(b[1]+l,b[2]+t,2y+l,2B+t);x=2y;y=2B;1X=b[1];21=b[2];1P;1C\'t\':2y=x+b[1];2B=y+b[2];if(6w[0].3K(/[jz]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}a.cP(1X+l,21+t,2y+l,2B+t);x=2y;y=2B;1P;1C\'T\':2y=b[1];2B=b[2];if(6w[0].3K(/[jz]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}a.cP(1X+l,21+t,2y+l,2B+t);x=2y;y=2B;1P;1C\'a\':dF(a,x+l,y+t,[b[1],b[2],b[3],b[4],b[5],b[6]+x+l,b[7]+y+t]);x+=b[6];y+=b[7];1P;1C\'A\':dF(a,x+l,y+t,[b[1],b[2],b[3],b[4],b[5],b[6]+l,b[7]+t]);x=b[6];y=b[7];1P;1C\'z\':1C\'Z\':x=8M;y=8N;a.5j();1P}6w=b}},58:E(a){B.uQ(a);B.94(a);B.7o(a)},3s:E(){F\'#<I.6l (\'+B.5l()+\'): { "1h": \'+B.1h+\', "1g": \'+B.1g+\' }>\'},1B:E(b){G o=1n(B.1K(\'1B\',[\'6p\',\'6B\'].2v(b)),{1Q:B.1Q.4r(E(a){F a.2P()}),1h:B.1h,1g:B.1g,});F o},c1:E(a){G o=B.1B(a);if(B.6p){o.1Q=B.6p}2Y o.6p;F o},3D:E(a){G b=[],3V=B.6s(),cE=\'\';R(G i=0,1d=B.1Q.N;i<1d;i++){b.1o(B.1Q[i].2p(\' \'))}G c=b.2p(\' \');if(!(B.1s&&B.1s.1p===\'1Q-1s\')){cE=\' 3T(\'+(-B.6B.x)+\', \'+(-B.6B.y)+\') \'}3V.1o(\'<1Q \',B.6F(),\'d="\',c,\'" 1L="\',B.5C(),\'" 23="\',B.61(),cE,B.6y(),\'" 1D-nQ="4o" \',\'/>\\n\');F a?a(3V.2p(\'\')):3V.2p(\'\')},5l:E(){F B.1Q.N},uN:E(){G a=[],2C=[],jt,8K,re=/([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/ig,3K,qh;R(G i=0,8P,1d=B.1Q.N;i<1d;i++){jt=B.1Q[i];qh=jt.2P(1).4T();2C.N=0;31((3K=re.hm(qh))){2C.1o(3K[0])}8P=[jt.3J(0)];R(G j=0,4O=2C.N;j<4O;j++){8K=3q(2C[j]);if(!et(8K)){8P.1o(8K)}}G b=8P[0],iW=uJ[b.bi()],v5=uK[b]||b;if(8P.N-1>iW){R(G k=1,v6=8P.N;k<v6;k+=iW){a.1o([b].2v(8P.2P(k,k+iW)));b=v5}}P{a.1o(8P)}}F a},uP:E(){G b=[],aY=[],1I,6w=1k,8M=0,8N=0,x=0,y=0,1X=0,21=0,2y,2B,2q;R(G i=0,1d=B.1Q.N;i<1d;++i){1I=B.1Q[i];6R(1I[0]){1C\'l\':x+=1I[1];y+=1I[2];2q=[];1P;1C\'L\':x=1I[1];y=1I[2];2q=[];1P;1C\'h\':x+=1I[1];2q=[];1P;1C\'H\':x=1I[1];2q=[];1P;1C\'v\':y+=1I[1];2q=[];1P;1C\'V\':y=1I[1];2q=[];1P;1C\'m\':x+=1I[1];y+=1I[2];8M=x;8N=y;2q=[];1P;1C\'M\':x=1I[1];y=1I[2];8M=x;8N=y;2q=[];1P;1C\'c\':2y=x+1I[5];2B=y+1I[6];1X=x+1I[3];21=y+1I[4];2q=h.J.6u(x,y,x+1I[1],y+1I[2],1X,21,2y,2B);x=2y;y=2B;1P;1C\'C\':x=1I[5];y=1I[6];1X=1I[3];21=1I[4];2q=h.J.6u(x,y,1I[1],1I[2],1X,21,x,y);1P;1C\'s\':2y=x+1I[3];2B=y+1I[4];if(6w[0].3K(/[jE]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}2q=h.J.6u(x,y,1X,21,x+1I[1],y+1I[2],2y,2B);1X=x+1I[1];21=y+1I[2];x=2y;y=2B;1P;1C\'S\':2y=1I[3];2B=1I[4];if(6w[0].3K(/[jE]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}2q=h.J.6u(x,y,1X,21,1I[1],1I[2],2y,2B);x=2y;y=2B;1X=1I[1];21=1I[2];1P;1C\'q\':2y=x+1I[3];2B=y+1I[4];1X=x+1I[1];21=y+1I[2];2q=h.J.6u(x,y,1X,21,1X,21,2y,2B);x=2y;y=2B;1P;1C\'Q\':1X=1I[1];21=1I[2];2q=h.J.6u(x,y,1X,21,1X,21,1I[3],1I[4]);x=1I[3];y=1I[4];1P;1C\'t\':2y=x+1I[1];2B=y+1I[2];if(6w[0].3K(/[jz]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}2q=h.J.6u(x,y,1X,21,1X,21,2y,2B);x=2y;y=2B;1P;1C\'T\':2y=1I[1];2B=1I[2];if(6w[0].3K(/[jz]/)===1k){1X=x;21=y}P{1X=2*x-1X;21=2*y-21}2q=h.J.6u(x,y,1X,21,1X,21,2y,2B);x=2y;y=2B;1P;1C\'a\':2q=h.J.oO(x,y,1I[1],1I[2],1I[3],1I[4],1I[5],1I[6]+x,1I[7]+y);x+=1I[6];y+=1I[7];1P;1C\'A\':2q=h.J.oO(x,y,1I[1],1I[2],1I[3],1I[4],1I[5],1I[6],1I[7]);x=1I[6];y=1I[7];1P;1C\'z\':1C\'Z\':x=8M;y=8N;1P}6w=1I;2q.4j(E(a){b.1o(a.x);aY.1o(a.y)});b.1o(x);aY.1o(y)}G c=2n(b)||0,4k=2n(aY)||0,aS=1J(b)||0,aW=1J(aY)||0,v9=aS-c,va=aW-4k,o={1g:c,1h:4k,K:v9,O:va};F o}});h.6l.2a=E(c,d,e){G f;if(1j c.1Q===\'2N\'){h.gp(c.1Q,E(a){G b=c.1Q;f=a[0];2Y c.1Q;h.J.1m.1n(f,c);f.d4(b);d&&d(f)})}P{F h.1H.6I(\'6l\',c,d,e,\'1Q\')}};h.6l.4x=h.8b.2v([\'d\']);h.6l.5X=E(a,b,c){G d=h.78(a,h.6l.4x);b&&b(1c h.6l(d.d,1n(d,c)))};h.6l.9b=U})(1j 1E!==\'1v\'?1E:B);(E(g){\'2z 2H\';G h=g.I||(g.I={}),1n=h.J.1m.1n;if(h.8F){h.4B(\'I.8F is 5k 53\');F}h.8F=h.J.1z(h.1H,{1p:\'1Q-1s\',1A:\'\',2c:E(a,b){b=b||{};B.3Y=a||[];R(G i=B.3Y.N;i--;){B.3Y[i].1s=B}if(b.cq){B.vc(b);2Y b.cq}B.7g(b);B.3C();if(b.6p){B.d4(b.6p)}if(B.7I){B.aq();B.a4({7y:\'4g\'})}},vc:E(a){G b,p,xC=[],yC=[],1Q,O,K,m;R(G j=B.3Y.N;j--;){1Q=B.3Y[j];O=1Q.O+1Q.2s;K=1Q.K+1Q.2s;b=[{x:1Q.1g,y:1Q.1h},{x:1Q.1g+K,y:1Q.1h},{x:1Q.1g,y:1Q.1h+O},{x:1Q.1g+K,y:1Q.1h+O}];m=B.3Y[j].4l;R(G i=0;i<b.N;i++){p=b[i];if(m){p=h.J.4w(p,m,1f)}xC.1o(p.x);yC.1o(p.y)}}a.K=1a.1J.2W(1k,xC);a.O=1a.1J.2W(1k,yC)},fE:E(a){a.3i();a.3T(-B.K/2,-B.O/2);R(G i=0,l=B.3Y.N;i<l;++i){B.3Y[i].4I(a,U)}a.3f()},8L:E(){if(B.1K(\'8L\')){F U}if(!B.bQ){F 1f}R(G i=0,1d=B.3Y.N;i<1d;i++){if(B.3Y[i].8L(U)){G a=B.89();B.8A.a5(-a.x/2,-a.y/2,a.x,a.y);F U}}F 1f},3I:E(a,b){if(a===\'1A\'&&b&&B.vf()){G i=B.3Y.N;31(i--){B.3Y[i].3I(a,b)}}F B.1K(\'3I\',a,b)},1B:E(d){G e=B.3Y.4r(E(a){G b=a.4G;a.4G=a.1s.4G;G c=a.1B(d);a.4G=b;F c});G o=1n(B.1K(\'1B\',[\'6p\'].2v(d)),{3Y:e});F o},c1:E(a){G o=B.1B(a);if(B.6p){o.3Y=B.6p}F o},3D:E(a){G b=B.49(),p=B.s9(\'1g\',\'1h\'),ie=\'3T(\'+p.x+\' \'+p.y+\')\',3V=B.6s();3V.1o(\'<g \',B.6F(),\'1L="\',B.5C(),\'" \',\'23="\',B.6y(),ie,B.61(),\'" \',\'>\\n\');R(G i=0,1d=b.N;i<1d;i++){3V.1o(\'\\t\',b[i].3D(a))}3V.1o(\'</g>\\n\');F a?a(3V.2p(\'\')):3V.2p(\'\')},3s:E(){F\'#<I.8F (\'+B.5l()+\'): { 1h: \'+B.1h+\', 1g: \'+B.1g+\' }>\'},vf:E(){G c=B.49()[0].1Z(\'1A\')||\'\';if(1j c!==\'2N\'){F 1f}c=c.bi();F B.49().kj(E(a){G b=a.1Z(\'1A\')||\'\';F 1j b===\'2N\'&&(b).bi()===c})},5l:E(){F B.3Y.f0(E(a,b){F a+((b&&b.5l)?b.5l():0)},0)},49:E(){F B.3Y}});h.8F.2a=E(d,e){G f=d.3Y;2Y d.3Y;if(1j DK===\'2N\'){h.gp(f,E(a){G b=f;G c=h.J.sE(a,d,b);d.3Y=f;e(c)})}P{h.J.c5(f,E(a){G b=1c h.8F(a,d);d.3Y=f;e(b)})}};h.8F.9b=U})(1j 1E!==\'1v\'?1E:B);(E(f){\'2z 2H\';G g=f.I||(f.I={}),1n=g.J.1m.1n,2n=g.J.5A.2n,1J=g.J.5A.1J;if(g.7a){F}G h={9f:U,9e:U,hU:U,b0:U,9S:U,9R:U};g.7a=g.J.1z(g.1H,g.pV,{1p:\'1s\',2s:0,t4:1f,2c:E(a,b,c){b=b||{};B.1y=[];c&&B.1K(\'2c\',b);B.1y=a||[];R(G i=B.1y.N;i--;){B.1y[i].1s=B}B.DJ={};if(b.1T){B.1T=b.1T}if(b.2g){B.2g=b.2g}if(c){B.da(U)}P{B.iw();B.da();B.1K(\'2c\',b)}B.3C();B.jM()},da:E(a){G b=B.3U();R(G i=B.1y.N;i--;){B.vi(B.1y[i],b,a)}},vi:E(a,b,c){a.pB=a.6D;a.6D=1f;if(c){F}G d=a.pH(),vj=a.pG(),ir=U,9Z=U;a.1F({1g:d-b.x,1h:vj-b.y});a.3C(ir,9Z)},3s:E(){F\'#<I.7a: (\'+B.5l()+\')>\'},jO:E(a){B.iq();g.J.qt(B);if(a){B.1y.1o(a);a.1s=B;a.3I(\'W\',B.W)}B.jy(B.pk,B);B.iw();B.da();B.6b=U;F B},pk:E(a){a.1F(\'3z\',U);a.1s=B},rn:E(a){B.iq();g.J.qt(B);B.jy(B.pk,B);B.74(a);B.iw();B.da();B.6b=U;F B},cI:E(a){B.6b=U;a.1s=B;a.3I(\'W\',B.W)},aM:E(a){B.6b=U;2Y a.1s;a.1F(\'3z\',1f)},pj:{1A:U,1D:U,2s:U,2E:U,3n:U,2h:U,3N:U,2R:U,3p:U,5r:U,3w:U},3I:E(a,b){G i=B.1y.N;if(B.pj[a]||a===\'W\'){31(i--){B.1y[i].1F(a,b)}}P{31(i--){B.1y[i].pZ(a,b)}}B.1K(\'3I\',a,b)},1B:E(d){G e=B.49().4r(E(a){G b=a.4G;a.4G=a.1s.4G;G c=a.1B(d);a.4G=b;F c});F 1n(B.1K(\'1B\',d),{5J:e})},4I:E(a){B.q2=U;B.1K(\'4I\',a);B.q2=1f},fE:E(a){R(G i=0,1d=B.1y.N;i<1d;i++){B.vq(B.1y[i],a)}},8L:E(){if(B.1K(\'8L\')){F U}if(!B.bQ){F 1f}R(G i=0,1d=B.1y.N;i<1d;i++){if(B.1y[i].8L(U)){G a=B.89();B.8A.a5(-a.x/2,-a.y/2,a.x,a.y);F U}}F 1f},a6:E(a,b){a.3i();a.cS=B.9A?B.qC:1;B.1K(\'a6\',a,b);R(G i=0,1d=B.1y.N;i<1d;i++){B.1y[i].a6(a)}a.3f()},vq:E(a,b){if(!a.4X){F}G c=a.8E;a.8E=1f;a.4I(b);a.8E=c},iq:E(){B.1y.4j(B.vr,B);F B},os:E(a){G b=a.bP(),3u=g.J.ou(b),1G=1c g.1N(3u.cO,3u.cT);a.4N=1f;a.56=1f;a.1F(\'1r\',3u.1r);a.1F(\'1t\',3u.1t);a.2L=3u.2L;a.2U=3u.2U;a.2i=3u.2i;a.bZ(1G,\'1G\',\'1G\');F a},vr:E(a){B.os(a);a.3C();a.6D=a.pB;2Y a.pB;a.1F(\'3z\',1f);2Y a.1s;F B},sP:E(){F B.iq()},jM:E(){B.vs=B.1Z(\'1g\');B.vt=B.1Z(\'1h\');F B},DC:E(){F B.vs!==B.1Z(\'1g\')||B.vt!==B.1Z(\'1h\')},rd:E(){G b=U,9Z=U;B.jy(E(a){a.3C(b,9Z)});F B},iw:E(a){G b=[],aY=[],o,4J,pf=[\'tr\',\'br\',\'bl\',\'tl\'],i=0,4C=B.1y.N,j,cd=pf.N,ir=U;R(;i<4C;++i){o=B.1y[i];o.3C(ir);R(j=0;j<cd;j++){4J=pf[j];b.1o(o.6Z[4J].x);aY.1o(o.6Z[4J].y)}}B.1F(B.vy(b,aY,a))},vy:E(a,b,c){G d=1c g.1N(2n(a),2n(b)),p9=1c g.1N(1J(a),1J(b)),2t={K:(p9.x-d.x)||0,O:(p9.y-d.y)||0};if(!c){2t.1g=d.x||0;2t.1h=d.y||0;if(B.1T===\'1G\'){2t.1g+=2t.K/2}if(B.1T===\'3H\'){2t.1g+=2t.K}if(B.2g===\'1G\'){2t.1h+=2t.O/2}if(B.2g===\'6C\'){2t.1h+=2t.O}}F 2t},3D:E(a){G b=B.6s();b.1o(\'<g \',B.6F(),\'23="\',B.61(),B.6y(),\'" 1L="\',B.az(),\'">\\n\');R(G i=0,1d=B.1y.N;i<1d;i++){b.1o(\'\\t\',B.1y[i].3D(a))}b.1o(\'</g>\\n\');F a?a(b.2p(\'\')):b.2p(\'\')},1Z:E(a){if(a in h){if(B[a]){F B[a]}P{R(G i=0,1d=B.1y.N;i<1d;i++){if(B.1y[i][a]){F U}}F 1f}}P{if(a in B.pj){F B.1y[0]&&B.1y[0].1Z(a)}F B[a]}}});g.7a.2a=E(b,c){g.J.c5(b.5J,E(a){2Y b.5J;c&&c(1c g.7a(a,b,U))})};g.7a.9b=U})(1j 1E!==\'1v\'?1E:B);(E(i){\'2z 2H\';G j=I.J.1m.1n;if(!i.I){i.I={}}if(i.I.1u){I.4B(\'I.1u is 5k 53.\');F}G k=I.1H.1i.5q.2v();k.1o(\'6d\',\'6z\',\'am\');I.1u=I.J.1z(I.1H,{1p:\'4q\',6q:\'\',6d:\'4n\',6z:\'4n\',am:\'cZ\',2s:0,p8:1,p7:1,vC:0.5,5q:k,7I:1f,2c:E(a,b,c){b||(b={});B.1l=[];B.6J=[];B.1K(\'2c\',b);B.vF(a,b,c)},7D:E(){F B.5I},aN:E(a,b,c){G d,2I;B.5I=a;B.dn=a;B.vI(c);if(B.6J.N===0){d=b}P{2I=B;d=E(){2I.i6(b,2I.6J,2I.i5||2I.dn,U)}}if(B.1l.N!==0){B.i6(d)}P if(d){d(B)}F B},Dj:E(a){B.6q=a;B.5I.6q=a;F B},Dg:E(){G a=B.7D();F{K:a.K,O:a.O}},vN:E(a){if(!B.1D||B.2s===0){F}G w=B.K/2,h=B.O/2;a.3Q();a.52(-w,-h);a.41(w,-h);a.41(w,h);a.41(-w,h);a.41(-w,-h);a.5j()},96:E(a){G x=-B.K/2,y=-B.O/2,w=B.K,h=B.O;a.3i();B.pS(a);a.3Q();I.J.4L(a,x,y,x+w,y,B.2K);I.J.4L(a,x+w,y,x+w,y+h,B.2K);I.J.4L(a,x+w,y+h,x,y+h,B.2K);I.J.4L(a,x,y+h,x,y,B.2K);a.5j();a.3f()},1B:E(b){G c=[],6J=[],1r=1,1t=1;B.1l.4j(E(a){if(a){if(a.1p===\'dq\'){1r*=a.1r;1t*=a.1t}c.1o(a.1B())}});B.6J.4j(E(a){a&&6J.1o(a.1B())});G d=j(B.1K(\'1B\',[\'6q\',\'6d\',\'6z\',\'am\'].2v(b)),{3F:B.i2(),1l:c,6J:6J,});d.K/=1r;d.O/=1t;F d},3D:E(a){G b=B.6s(),x=-B.K/2,y=-B.O/2,6x=\'4n\',vQ=U;if(B.1s&&B.1s.1p===\'1Q-1s\'){x=B.1g;y=B.1h}if(B.6d!==\'4n\'&&B.6z!==\'4n\'){6x=\'x\'+B.6d+\'Y\'+B.6z+\' \'+B.am}b.1o(\'<g 23="\',B.61(),B.6y(),\'">\\n\',\'<4q \',B.6F(),\'5x:as="\',B.vR(vQ),\'" x="\',x,\'" y="\',y,\'" 1L="\',B.5C(),\'" K="\',B.K,\'" O="\',B.O,\'" 6x="\',6x,\'"\',\'></4q>\\n\');if(B.1D||B.2K){G c=B.1A;B.1A=1k;b.1o(\'<5i \',\'x="\',x,\'" y="\',y,\'" K="\',B.K,\'" O="\',B.O,\'" 1L="\',B.5C(),\'"/>\\n\');B.1A=c}b.1o(\'</g>\\n\');F a?a(b.2p(\'\')):b.2p(\'\')},i2:E(a){G b=a?B.5I:B.dn;if(b){F I.7d?b.oU:b.3F}P{F B.3F||\'\'}},De:E(b,c,d){I.J.87(b,E(a){F B.aN(a,c,d)},B,d&&d.6q)},3s:E(){F\'#<I.1u: { 3F: "\'+B.i2()+\'" }>\'},i6:E(b,c,d,e){c=c||B.1l;d=d||B.dn;if(!d){F}G f=I.J.gU(),c7=B.W?B.W.wP():I.5a,oS=B.vC/c7,2I=B,1r,1t;if(c.N===0){B.5I=d;b&&b(B);F d}G g=I.J.6a();g.K=d.K;g.O=d.O;g.2o(\'2d\').fC(d,0,0,d.K,d.O);c.4j(E(a){if(!a){F}if(e){1r=2I.1r<oS?2I.1r:1;1t=2I.1t<oS?2I.1t:1;if(1r*c7<1){1r*=c7}if(1t*c7<1){1t*=c7}}P{1r=a.1r;1t=a.1t}a.4t(g,1r,1t);if(!e&&a.1p===\'dq\'){2I.K*=a.1r;2I.O*=a.1t}});f.K=g.K;f.O=g.O;if(I.7d){f.3F=g.Da(1v,I.1u.vY);2I.5I=f;!e&&(2I.i5=f);b&&b(2I)}P{f.ae=E(){2I.5I=f;!e&&(2I.i5=f);b&&b(2I);f.ae=g=1k};f.3F=g.5c(\'4q/rc\')}F g},58:E(a,b){G x,y,dr=B.w1(),ds;x=(b?B.1g:-B.K/2);y=(b?B.1h:-B.O/2);if(B.am===\'2P\'){a.3Q();a.5i(x,y,B.K,B.O);a.sV()}if(B.9A===1f&&B.6J.N&&B.w5()){B.p8=B.1r;B.p7=B.1t;ds=B.i6(1k,B.6J,B.i5||B.dn,U)}P{ds=B.5I}ds&&a.fC(ds,x+dr.c4,y+dr.c3,dr.K,dr.O);B.vN(a);B.7o(a)},w5:E(){F(B.1r!==B.p8||B.1t!==B.p7)},w1:E(){G a=B.K,O=B.O,hT,3k,c4=0,c3=0;if(B.6d!==\'4n\'||B.6z!==\'4n\'){hT=[B.K/B.5I.K,B.O/B.5I.O];3k=B.am===\'cZ\'?1a.2n.2W(1k,hT):1a.1J.2W(1k,hT);a=B.5I.K*3k;O=B.5I.O*3k;if(B.6d===\'j4\'){c4=(B.K-a)/2}if(B.6d===\'w9\'){c4=B.K-a}if(B.6z===\'j4\'){c3=(B.O-O)/2}if(B.6z===\'w9\'){c3=B.O-O}}F{K:a,O:O,c4:c4,c3:c3}},D7:E(){G a=B.7D();B.1F(\'K\',a.K);B.1F(\'O\',a.O)},vF:E(a,b,c){B.aN(I.J.fF(a),c,b);I.J.av(B.7D(),I.1u.wb)},vI:E(a){a||(a={});B.7g(a);B.dv(a);if(B.5I&&B.6q){B.5I.6q=B.6q}},oE:E(b,c){if(b&&b.N){I.J.c5(b,E(a){c&&c(a)},\'I.1u.1l\')}P{c&&c()}},dv:E(a){B.K=\'K\'in a?a.K:(B.7D()?B.7D().K||0:0);B.O=\'O\'in a?a.O:(B.7D()?B.7D().O||0:0)},});I.1u.wb=\'W-cK\';I.1u.1i.vR=I.1u.1i.i2;I.1u.2a=E(e,f){I.J.87(e.3F,E(c,d){if(d){f&&f(1k,d);F}I.1u.1i.oE.1W(e,e.1l,E(b){e.1l=b||[];I.1u.1i.oE.1W(e,e.6J,E(a){e.6J=a||[];F 1c I.1u(c,e,f)})})},1k,e.6q)};I.1u.wd=E(b,c,d){I.J.87(b,E(a){c&&c(1c I.1u(a,d))},1k,d&&d.6q)};I.1u.4x=I.8b.2v(\'x y K O 6x 5x:as\'.2S(\' \'));I.1u.5X=E(a,b,c){G d=I.78(a,I.1u.4x),oD;if(d.6x){oD=I.J.mN(d.6x);j(d,oD)}I.1u.wd(d[\'5x:as\'],b,j((c?I.J.1m.3m(c):{}),d))};I.1u.9b=U;I.1u.vY=1})(1j 1E!==\'1v\'?1E:B);I.J.1m.1n(I.1H.1i,{oA:E(){G a=B.jJ()%6O;if(a>0){F 1a.4o((a-1)/90)*90}F 1a.4o(a/90)*90},wi:E(){B.cA(B.oA());F B},wj:E(b){b=b||{};G c=E(){},3j=b.3j||c,3E=b.3E||c,2I=B;I.J.6X({7b:B.1Z(\'2i\'),7J:B.oA(),6e:B.dM,3E:E(a){2I.cA(a);3E()},3j:E(){2I.3C();3j()},ho:E(){2I.1F(\'3z\',1f)}});F B}});I.J.1m.1n(I.2F.1i,{D6:E(a){a.wi();B.2u();F B},D5:E(a){a.wj({3E:B.2u.3l(B)});F B}});I.1u.1l=I.1u.1l||{};I.1u.1l.2G=I.J.1z({1p:\'2G\',2c:E(a){if(a){B.7g(a)}},7g:E(a){R(G b in a){B[b]=a[b]}},1B:E(){F{1p:B.1p}},iY:E(){F B.1B()}});I.1u.1l.2G.2a=E(a,b){G c=1c I.1u.1l[a.1p](a);b&&b(c);F c};(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.ot=1z(1l.2G,{1p:\'ot\',2c:E(a){a=a||{};B.8h=a.8h||0},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,8h=B.8h;R(G i=0,1d=1b.N;i<1d;i+=4){1b[i]+=8h;1b[i+1]+=8h;1b[i+2]+=8h}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{8h:B.8h})}});d.1u.1l.ot.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(h){\'2z 2H\';G i=h.I||(h.I={}),1n=i.J.1m.1n,1l=i.1u.1l,1z=i.J.1z;1l.og=1z(1l.2G,{1p:\'og\',2c:E(a){a=a||{};B.dA=a.dA;B.2J=a.2J||[0,0,0,0,1,0,0,0,0]},4t:E(c){G d=B.2J,7h=c.2o(\'2d\'),8i=7h.3d(0,0,c.K,c.O),dG=1a.4o(1a.5E(d.N)),nZ=1a.4e(dG/2),3F=8i.1b,sw=8i.K,sh=8i.O,nt=7h.D1(sw,sh),dS=nt.1b,wB=B.dA?1:0,r,g,b,a,bw,dU,e0,bn,wt;R(G y=0;y<sh;y++){R(G x=0;x<sw;x++){bw=(y*sw+x)*4;r=0;g=0;b=0;a=0;R(G e=0;e<dG;e++){R(G f=0;f<dG;f++){e0=y+e-nZ;dU=x+f-nZ;if(e0<0||e0>sh||dU<0||dU>sw){3t}bn=(e0*sw+dU)*4;wt=d[e*dG+f];r+=3F[bn]*wt;g+=3F[bn+1]*wt;b+=3F[bn+2]*wt;a+=3F[bn+3]*wt}}dS[bw]=r;dS[bw+1]=g;dS[bw+2]=b;dS[bw+3]=a+wB*(2x-a)}}7h.4b(nt,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{dA:B.dA,2J:B.2J})}});i.1u.1l.og.2a=i.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.n3=1z(1l.2G,{1p:\'n3\',2c:E(a){a=a||{};B.5T=a.5T||3h},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,5T=B.5T,mV=1b.N;R(G i=0,1d=1b.N;i<1d;i+=4){1b[i+3]=5T+2x*(mV-i)/mV}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{5T:B.5T})}});d.1u.1l.n3.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1l=d.1u.1l,1z=d.J.1z;1l.gz=1z(1l.2G,{1p:\'gz\',4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,1d=1M.K*1M.O*4,2l=0,5v;31(2l<1d){5v=(1b[2l]+1b[2l+1]+1b[2l+2])/3;1b[2l]=5v;1b[2l+1]=5v;1b[2l+2]=5v;2l+=4}b.4b(1M,0,0)}});d.1u.1l.gz.2a=E(a,b){a=a||{};a.1p=\'gz\';F d.1u.1l.2G.2a(a,b)}})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1l=d.1u.1l,1z=d.J.1z;1l.gy=1z(1l.2G,{1p:\'gy\',4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,4C=1b.N,i;R(i=0;i<4C;i+=4){1b[i]=2x-1b[i];1b[i+1]=2x-1b[i+1];1b[i+2]=2x-1b[i+2]}b.4b(1M,0,0)}});d.1u.1l.gy.2a=E(a,b){a=a||{};a.1p=\'gy\';F d.1u.1l.2G.2a(a,b)}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1n=e.J.1m.1n,1l=e.1u.1l,1z=e.J.1z;1l.gw=1z(1l.2G,{1p:\'gw\',2c:E(a){a=a||{};B.7E=a.7E;B.8Z=[0,1,2,3].2Z(a.8Z)>-1?a.8Z:0},4t:E(a){if(!B.7E){F}G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,wO=B.7E.7D(),e8=e.J.6a(),8Z=B.8Z,i,4C=1M.K*1M.O*4;e8.K=a.K;e8.O=a.O;e8.2o(\'2d\').fC(wO,0,0,a.K,a.O);G c=e8.2o(\'2d\').3d(0,0,a.K,a.O),wQ=c.1b;R(i=0;i<4C;i+=4){1b[i+3]=wQ[i+8Z]}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{7E:B.7E.1B(),8Z:B.8Z})}});e.1u.1l.gw.2a=E(b,c){e.J.87(b.7E.3F,E(a){b.7E=1c e.1u(a,b.7E);F e.1u.1l.2G.2a(b,c)})};e.1u.1l.gw.9b=U})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.ms=1z(1l.2G,{1p:\'ms\',2c:E(a){a=a||{};B.9W=a.9W||0},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,9W=B.9W,e9;R(G i=0,1d=1b.N;i<1d;i+=4){e9=(0.5-1a.rI())*9W;1b[i]+=e9;1b[i+1]+=e9;1b[i+2]+=e9}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{9W:B.9W})}});d.1u.1l.ms.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(h){\'2z 2H\';G k=h.I||(h.I={}),1n=k.J.1m.1n,1l=k.1u.1l,1z=k.J.1z;1l.mf=1z(1l.2G,{1p:\'mf\',2c:E(a){a=a||{};B.93=a.93||4},4t:E(c){G d=c.2o(\'2d\'),1M=d.3d(0,0,c.K,c.O),1b=1M.1b,4C=1M.O,cd=1M.K,2l,i,j,r,g,b,a;R(i=0;i<4C;i+=B.93){R(j=0;j<cd;j+=B.93){2l=(i*4)*cd+(j*4);r=1b[2l];g=1b[2l+1];b=1b[2l+2];a=1b[2l+3];R(G e=i,wW=i+B.93;e<wW;e++){R(G f=j,wX=j+B.93;f<wX;f++){2l=(e*4)*cd+(f*4);1b[2l]=r;1b[2l+1]=g;1b[2l+2]=b;1b[2l+3]=a}}}}d.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{93:B.93})}});k.1u.1l.mf.2a=k.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1n=e.J.1m.1n,1l=e.1u.1l,1z=e.J.1z;1l.m9=1z(1l.2G,{1p:\'m9\',2c:E(a){a=a||{};B.5T=a.5T||30;B.8m=a.8m||20},4t:E(a){G c=a.2o(\'2d\'),1M=c.3d(0,0,a.K,a.O),1b=1M.1b,5T=B.5T,8m=B.8m,gb=2x-5T,2f=1a.2f,r,g,b;R(G i=0,1d=1b.N;i<1d;i+=4){r=1b[i];g=1b[i+1];b=1b[i+2];if(r>gb&&g>gb&&b>gb&&2f(r-g)<8m&&2f(r-b)<8m&&2f(g-b)<8m){1b[i+3]=0}}c.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{5T:B.5T,8m:B.8m})}});e.1u.1l.m9.2a=e.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1l=d.1u.1l,1z=d.J.1z;1l.g5=1z(1l.2G,{1p:\'g5\',4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,4C=1b.N,i,ei;R(i=0;i<4C;i+=4){ei=0.3*1b[i]+0.59*1b[i+1]+0.11*1b[i+2];1b[i]=ei+3h;1b[i+1]=ei+50;1b[i+2]=ei+2x}b.4b(1M,0,0)}});d.1u.1l.g5.2a=E(a,b){a=a||{};a.1p=\'g5\';F 1c d.1u.1l.2G.2a(a,b)}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1l=e.1u.1l,1z=e.J.1z;1l.k2=1z(1l.2G,{1p:\'k2\',4t:E(a){G c=a.2o(\'2d\'),1M=c.3d(0,0,a.K,a.O),1b=1M.1b,4C=1b.N,i,r,g,b;R(i=0;i<4C;i+=4){r=1b[i];g=1b[i+1];b=1b[i+2];1b[i]=(r*0.CG+g*0.CC+b*0.CA)/1.Cy;1b[i+1]=(r*0.Cx+g*0.Cw+b*0.Cv)/1.Cu;1b[i+2]=(r*0.Cr+g*0.Cq+b*0.Cp)/2.Co}c.4b(1M,0,0)}});e.1u.1l.k2.2a=E(a,b){a=a||{};a.1p=\'k2\';F 1c e.1u.1l.2G.2a(a,b)}})(1j 1E!==\'1v\'?1E:B);(E(d){\'2z 2H\';G e=d.I||(d.I={}),1n=e.J.1m.1n,1l=e.1u.1l,1z=e.J.1z;1l.lO=1z(1l.2G,{1p:\'lO\',2c:E(a){a=a||{};B.29=a.29||\'#pr\';B.1V=1j a.1V!==\'1v\'?a.1V:1c e.2e(B.29).82()},4t:E(a){G c=a.2o(\'2d\'),1M=c.3d(0,0,a.K,a.O),1b=1M.1b,4C=1b.N,i,lK,lJ,lF,r,g,b,ej,1Y;1Y=1c e.2e(B.29).4m();lK=1Y[0]*B.1V;lJ=1Y[1]*B.1V;lF=1Y[2]*B.1V;ej=1-B.1V;R(i=0;i<4C;i+=4){r=1b[i];g=1b[i+1];b=1b[i+2];1b[i]=lK+r*ej;1b[i+1]=lJ+g*ej;1b[i+2]=lF+b*ej}c.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{29:B.29,1V:B.1V})}});e.1u.1l.lO.2a=e.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.lD=1z(1l.2G,{1p:\'lD\',2c:E(a){a=a||{};B.29=a.29||\'#pr\'},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,4C=1b.N,i,1Y;1Y=1c d.2e(B.29).4m();R(i=0;i<4C;i+=4){1b[i]*=1Y[0]/2x;1b[i+1]*=1Y[1]/2x;1b[i+2]*=1Y[2]/2x}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{29:B.29})}});d.1u.1l.lD.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(h){\'2z 2H\';G j=h.I,1l=j.1u.1l,1z=j.J.1z;1l.lC=1z(1l.2G,{1p:\'lC\',2c:E(a){a=a||{};B.29=a.29||\'#Ch\';B.4q=a.4q||1f;B.eo=a.eo||\'n4\';B.4v=a.4v||1},4t:E(a){G c=a.2o(\'2d\'),1M=c.3d(0,0,a.K,a.O),1b=1M.1b,tr,tg,tb,r,g,b,jF,jD,jC,1Y,lu=1f;if(B.4q){lu=U;G d=j.J.6a();d.K=B.4q.K;d.O=B.4q.O;G e=1c j.2F(d);e.5F(B.4q);G f=e.2o(\'2d\');1Y=f.3d(0,0,e.K,e.O).1b}P{1Y=1c j.2e(B.29).4m();tr=1Y[0]*B.4v;tg=1Y[1]*B.4v;tb=1Y[2]*B.4v}R(G i=0,1d=1b.N;i<1d;i+=4){r=1b[i];g=1b[i+1];b=1b[i+2];if(lu){tr=1Y[i]*B.4v;tg=1Y[i+1]*B.4v;tb=1Y[i+2]*B.4v}6R(B.eo){1C\'n4\':1b[i]=r*tr/2x;1b[i+1]=g*tg/2x;1b[i+2]=b*tb/2x;1P;1C\'Cb\':1b[i]=1-(1-r)*(1-tr);1b[i+1]=1-(1-g)*(1-tg);1b[i+2]=1-(1-b)*(1-tb);1P;1C\'5F\':1b[i]=1a.2n(2x,r+tr);1b[i+1]=1a.2n(2x,g+tg);1b[i+2]=1a.2n(2x,b+tb);1P;1C\'aQ\':1C\'C6\':1b[i]=1a.2f(r-tr);1b[i+1]=1a.2f(g-tg);1b[i+2]=1a.2f(b-tb);1P;1C\'zK\':jF=r-tr;jD=g-tg;jC=b-tb;1b[i]=(jF<0)?0:jF;1b[i+1]=(jD<0)?0:jD;1b[i+2]=(jC<0)?0:jC;1P;1C\'C3\':1b[i]=1a.2n(r,tr);1b[i+1]=1a.2n(g,tg);1b[i+2]=1a.2n(b,tb);1P;1C\'C1\':1b[i]=1a.1J(r,tr);1b[i+1]=1a.1J(g,tg);1b[i+2]=1a.1J(b,tb);1P}}c.4b(1M,0,0)},1B:E(){F{29:B.29,4q:B.4q,eo:B.eo,4v:B.4v}}});j.1u.1l.lC.2a=j.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(n){\'2z 2H\';G o=n.I||(n.I={}),5w=1a.5w,4e=1a.4e,5E=1a.5E,2f=1a.2f,1J=1a.1J,4o=1a.4o,3e=1a.3e,6M=1a.6M,1l=o.1u.1l,1z=o.J.1z;1l.dq=1z(1l.2G,{1p:\'dq\',9P:\'xG\',1r:0,1t:0,aK:3,4t:E(a,b,c){if(b===1&&c===1){F}B.ev=1/b;B.ew=1/c;G d=a.K,oH=a.O,dW=4o(d*b),dH=4o(oH*c),1M;if(B.9P===\'BU\'){1M=B.xO(a,d,oH,dW,dH)}if(B.9P===\'xG\'){1M=B.xP(a,d,oH,dW,dH)}if(B.9P===\'BS\'){1M=B.xR(a,d,oH,dW,dH)}if(B.9P===\'kQ\'){1M=B.xT(a,d,oH,dW,dH)}a.K=dW;a.O=dH;a.2o(\'2d\').4b(1M,0,0)},xO:E(a,b,c,d,e){G f=a.2o(\'2d\'),1M,ib=0.5,i7=0.5,i4=1,hY=1,kA=1f,kl=1f,97=b,98=c,f6=o.J.6a(),y3=f6.2o(\'2d\');d=4e(d);e=4e(e);f6.K=1J(d,b);f6.O=1J(e,c);if(d>b){ib=2;i4=-1}if(e>c){i7=2;hY=-1}1M=f.3d(0,0,b,c);a.K=1J(d,b);a.O=1J(e,c);f.4b(1M,0,0);31(!kA||!kl){b=97;c=98;if(d*i4<4e(97*ib*i4)){97=4e(97*ib)}P{97=d;kA=U}if(e*hY<4e(98*i7*hY)){98=4e(98*i7)}P{98=e;kl=U}1M=f.3d(0,0,b,c);y3.4b(1M,0,0);f.a5(0,0,97,98);f.fC(f6,0,0,b,c,0,0,97,98)}F f.3d(0,0,d,e)},xT:E(c,d,e,f,g){E y4(b){F E(x){if(x>b){F 0}x*=1a.4u;if(2f(x)<1e-16){F 1}G a=x/b;F 3e(x)*3e(a)/x/a}}E he(u){G v,i,3G,3v,a,fo,fz,fB,4v,fX,fY;1G.x=(u+0.5)*bX;9C.x=4e(1G.x);R(v=0;v<g;v++){1G.y=(v+0.5)*bU;9C.y=4e(1G.y);a=0;fo=0;fz=0;fB=0;4v=0;R(i=9C.x-qe;i<=9C.x+qe;i++){if(i<0||i>=d){3t}fX=4e(bA*2f(i-1G.x));if(!bR[fX]){bR[fX]={}}R(G j=9C.y-qb;j<=9C.y+qb;j++){if(j<0||j>=e){3t}fY=4e(bA*2f(j-1G.y));if(!bR[fX][fY]){bR[fX][fY]=kQ(5E(5w(fX*yf,2)+5w(fY*yg,2))/bA)}3G=bR[fX][fY];if(3G>0){3v=(j*d+i)*4;a+=3G;fo+=3G*fh[3v];fz+=3G*fh[3v+1];fB+=3G*fh[3v+2];4v+=3G*fh[3v+3]}}}3v=(v*f+u)*4;fi[3v]=fo/a;fi[3v+1]=fz/a;fi[3v+2]=fB/a;fi[3v+3]=4v/a}if(++u<f){F he(u)}P{F q7}}G h=c.2o(\'2d\'),yk=h.3d(0,0,d,e),q7=h.3d(0,0,f,g),fh=yk.1b,fi=q7.1b,kQ=y4(B.aK),bX=B.ev,bU=B.ew,yf=2/B.ev,yg=2/B.ew,qe=6M(bX*B.aK/2),qb=6M(bU*B.aK/2),bR={},1G={},9C={};F he(0)},xR:E(e,f,g,h,k){G a,b,c,d,x,y,i,j,bK,bG,9d,29,24=0,bE,bX=B.ev,bU=B.ew,7h=e.2o(\'2d\'),w4=4*(f-1),cK=7h.3d(0,0,f,g),8i=cK.1b,q1=7h.3d(0,0,h,k),yr=q1.1b;R(i=0;i<k;i++){R(j=0;j<h;j++){x=4e(bX*j);y=4e(bU*i);bK=bX*j-x;bG=bU*i-y;bE=4*(y*f+x);R(9d=0;9d<4;9d++){a=8i[bE+9d];b=8i[bE+4+9d];c=8i[bE+w4+9d];d=8i[bE+w4+4+9d];29=a*(1-bK)*(1-bG)+b*bK*(1-bG)+c*bG*(1-bK)+d*bK*bG;yr[24++]=29}}}F q1},xP:E(a,b,c,d,e){G f=B.ev,fu=B.ew,yt=6M(f/2),yu=6M(fu/2),7h=a.2o(\'2d\'),cK=7h.3d(0,0,b,c),1b=cK.1b,pW=7h.3d(0,0,d,e),fv=pW.1b;R(G j=0;j<e;j++){R(G i=0;i<d;i++){G g=(i+j*d)*4,3G=0,fw=0,pT=0,pQ=0,pO=0,pM=0,pL=0,yE=(j+0.5)*fu;R(G h=4e(j*fu);h<(j+1)*fu;h++){G k=2f(yE-(h+0.5))/yu,yF=(i+0.5)*f,w0=k*k;R(G l=4e(i*f);l<(i+1)*f;l++){G m=2f(yF-(l+0.5))/yt,w=5E(w0+m*m);if(w>1&&w<-1){3t}3G=2*w*w*w-3*w*w+1;if(3G>0){m=4*(l+h*b);pL+=3G*1b[m+3];pT+=3G;if(1b[m+3]<2x){3G=3G*1b[m+3]/B9}pQ+=3G*1b[m];pO+=3G*1b[m+1];pM+=3G*1b[m+2];fw+=3G}}}fv[g]=pQ/fw;fv[g+1]=pO/fw;fv[g+2]=pM/fw;fv[g+3]=pL/pT}}F pW},1B:E(){F{1p:B.1p,1r:B.1r,1t:B.1t,9P:B.9P,aK:B.aK}}});o.1u.1l.dq.2a=o.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(e){\'2z 2H\';G f=e.I||(e.I={}),1n=f.J.1m.1n,1l=f.1u.1l,1z=f.J.1z;1l.pK=1z(1l.2G,{1p:\'pK\',2c:E(a){a||(a={});B.2J=a.2J||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},4t:E(c){G d=c.2o(\'2d\'),1M=d.3d(0,0,c.K,c.O),1b=1M.1b,4C=1b.N,i,r,g,b,a,m=B.2J;R(i=0;i<4C;i+=4){r=1b[i];g=1b[i+1];b=1b[i+2];a=1b[i+3];1b[i]=r*m[0]+g*m[1]+b*m[2]+a*m[3]+m[4];1b[i+1]=r*m[5]+g*m[6]+b*m[7]+a*m[8]+m[9];1b[i+2]=r*m[10]+g*m[11]+b*m[12]+a*m[13]+m[14];1b[i+3]=r*m[15]+g*m[16]+b*m[17]+a*m[18]+m[19]}d.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{1p:B.1p,2J:B.2J})}});f.1u.1l.pK.2a=f.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.pD=1z(1l.2G,{1p:\'pD\',2c:E(a){a=a||{};B.bg=a.bg||0},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,gB=yO*(B.bg+2x)/(2x*(yO-B.bg));R(G i=0,1d=1b.N;i<1d;i+=4){1b[i]=gB*(1b[i]-bd)+bd;1b[i+1]=gB*(1b[i+1]-bd)+bd;1b[i+2]=gB*(1b[i+2]-bd)+bd}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{bg:B.bg})}});d.1u.1l.pD.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(c){\'2z 2H\';G d=c.I||(c.I={}),1n=d.J.1m.1n,1l=d.1u.1l,1z=d.J.1z;1l.pw=1z(1l.2G,{1p:\'pw\',2c:E(a){a=a||{};B.fA=a.fA||0},4t:E(a){G b=a.2o(\'2d\'),1M=b.3d(0,0,a.K,a.O),1b=1M.1b,1J,gq=-B.fA*0.kV;R(G i=0,1d=1b.N;i<1d;i+=4){1J=1a.1J(1b[i],1b[i+1],1b[i+2]);1b[i]+=1J!==1b[i]?(1J-1b[i])*gq:0;1b[i+1]+=1J!==1b[i+1]?(1J-1b[i+1])*gq:0;1b[i+2]+=1J!==1b[i+2]?(1J-1b[i+2])*gq:0}b.4b(1M,0,0)},1B:E(){F 1n(B.1K(\'1B\'),{fA:B.fA})}});d.1u.1l.pw.2a=d.1u.1l.2G.2a})(1j 1E!==\'1v\'?1E:B);(E(k){\'2z 2H\';G l=k.I||(k.I={}),26=l.J.26,2m=l.1H.2m,yT=2;if(l.4W){l.4B(\'I.4W is 5k 53\');F}G m=l.1H.1i.5q.2v();m.1o(\'2E\',\'3n\',\'2h\',\'1x\',\'3p\',\'5r\',\'3N\',\'2R\',\'47\',\'5O\');G n=l.1H.1i.4g.2v();n.1o(\'2E\',\'3n\',\'2h\',\'1x\',\'3p\',\'5r\',\'3N\',\'2R\',\'47\',\'5O\',\'22\');l.4W=l.J.1z(l.1H,{aX:[\'2h\',\'3n\',\'2E\',\'3N\',\'2R\',\'1x\',\'5O\',\'5r\'],p6:/\\r?\\n/,p5:/[ \\t\\r]+/g,1p:\'1x\',2h:40,3n:\'bq\',2E:\'AX AW AV\',3p:\'\',5r:\'1g\',3N:\'\',2R:1.16,47:\'\',5q:m,4g:n,1D:1k,2w:1k,5B:0.25,8r:1.13,5O:0,2c:E(a,b){b=b||{};B.1x=a;B.gj=U;B.1K(\'2c\',b);B.gj=1f;B.9w();B.a4({7y:\'aX\'})},9w:E(a){if(B.gj){F}if(!a){a=l.J.6a().2o(\'2d\');B.9v(a)}B.2b=B.aO();B.fH();B.K=B.za(a)||B.aL||yT;B.O=B.jI(a)},3s:E(){F\'#<I.4W (\'+B.5l()+\'): { "1x": "\'+B.1x+\'", "2E": "\'+B.2E+\'" }>\'},jT:E(){G a=B.1K(\'jT\');G b=1a.6M(B.2h)*2;a.K+=b;a.O+=b;F a},58:E(a){B.9v(a);if(B.1s&&B.1s.1p===\'1Q-1s\'){a.3T(B.1g,B.1h)}B.jn(a);B.ze(a);B.j2(a)},ze:E(a){B.zg(a);B.zh(a)},9v:E(a){a.AL=\'AK\';a.3S=B.o7()},jI:E(){F B.o5()+(B.2b.N-1)*B.42()},za:E(a){G b=B.3W(a,0);R(G i=1,1d=B.2b.N;i<1d;i++){G c=B.3W(a,i);if(c>b){b=c}}F b},cv:E(a,b,c,d,e){G f=a.2P(0,-4),8u,K;if(B[f].4c){G g=-B.K/2+B[f].2O||0,2A=-B.O/2+B[f].2A||0;b.3i();b.3T(g,2A);d-=g;e-=2A}if(B.5O!==0){G h=B.6V();c=c.2S(\'\');R(G i=0,1d=c.N;i<1d;i++){8u=c[i];K=b.bu(8u).K+h;b[a](8u,d,e);d+=K>0?K:0}}P{b[a](c,d,e)}B[f].4c&&b.3f()},i1:E(a,b,c,d,e,f){e-=B.2h*B.5B;G g=B.3W(b,f);if(B.5r!==\'hV\'||B.K<g){B.cv(a,b,c,d,e,f);F}G h=c.2S(/\\s+/),6Y=0,aG=B.9q(b,h.2p(\' \'),f,0),bF=B.K-aG,9k=h.N-1,ht=9k>0?bF/9k:0,3L=0,5P;R(G i=0,1d=h.N;i<1d;i++){31(c[6Y]===\' \'&&6Y<c.N){6Y++}5P=h[i];B.cv(a,b,5P,d+3L,e,f,6Y);3L+=B.9q(b,5P,f,6Y)+ht;6Y+=5P.N}},9q:E(a,b){G c=a.bu(b).K,6m,66;if(B.5O!==0){6m=b.2S(\'\').N;66=6m*B.6V();c+=66}F c>0?c:0},b6:E(){F-B.K/2},cV:E(){F-B.O/2},9l:E(){F U},n5:E(a,b){G c=0,1g=B.b6(),1h=B.cV();R(G i=0,1d=B.2b.N;i<1d;i++){G d=B.42(a,i),7L=d/B.2R,4d=B.3W(a,i),3L=B.4V(4d);B.i1(b,a,B.2b[i],1g+3L,1h+c+7L,i);c+=d}},zg:E(a){if(!B.1A&&B.9l()){F}B.n5(a,\'g1\')},zh:E(a){if((!B.1D||B.2s===0)&&B.9l()){F}if(B.2w&&!B.2w.9O){B.b7(a)}a.3i();B.9N(a,B.2K);a.3Q();B.n5(a,\'g0\');a.5j();a.3f()},42:E(){F B.o5()*B.2R},o5:E(){F B.2h*B.8r},jn:E(a){if(!B.47){F}G b=0,5Y,4d,4A,zO=a.4F;a.4F=B.47;R(G i=0,1d=B.2b.N;i<1d;i++){5Y=B.42(a,i);4d=B.3W(a,i);if(4d>0){4A=B.4V(4d);a.6h(B.b6()+4A,B.cV()+b,4d,5Y/B.2R)}b+=5Y}a.4F=zO;B.b7(a)},4V:E(a){if(B.5r===\'1G\'){F(B.K-a)/2}if(B.5r===\'3H\'){F B.K-a}F 0},fH:E(){B.aT=[];B.fm=[]},zR:E(){G a=B.gJ;a||(a=B.jq(\'aX\'));if(a){B.b9({7y:\'aX\'});B.6b=U}F a},3W:E(a,b){if(B.aT[b]){F B.aT[b]===-1?B.K:B.aT[b]}G c,mq,2r=B.2b[b];if(2r===\'\'){c=0}P{c=B.mh(a,b)}B.aT[b]=c;if(c&&B.5r===\'hV\'){mq=2r.2S(/\\s+/);if(mq.N>1){B.aT[b]=-1}}F c},6V:E(){if(B.5O!==0){F B.2h*B.5O/bA}F 0},mh:E(a,b){G c=B.2b[b],K=a.bu(c).K,66=0,6m,gv;if(B.5O!==0){6m=c.2S(\'\').N;66=(6m-1)*B.6V()}gv=K+66;F gv>0?gv:0},j2:E(b){if(!B.3p){F}G c=B.O/2,2I=B,62=[];E zX(a){G i,2R=0,1d,j,lX,4d,4A,5Y;R(i=0,1d=2I.2b.N;i<1d;i++){4d=2I.3W(b,i);4A=2I.4V(4d);5Y=2I.42(b,i);R(j=0,lX=a.N;j<lX;j++){b.6h(2I.b6()+4A,2R+(2I.8r-1+a[j])*2I.2h-c,4d,2I.2h/15)}2R+=5Y}}if(B.3p.2Z(\'lW\')>-1){62.1o(0.85)}if(B.3p.2Z(\'2r-lR\')>-1){62.1o(0.43)}if(B.3p.2Z(\'ly\')>-1){62.1o(-0.12)}if(62.N>0){zX(62)}},o7:E(){F[(l.7d?B.3n:B.3N),(l.7d?B.3N:B.3n),B.2h+\'px\',(l.7d?(\'"\'+B.2E+\'"\'):B.2E)].2p(\' \')},4I:E(a,b){if(!B.4X){F}if(B.zR()){B.9v(a);B.9w(a)}B.1K(\'4I\',a,b)},aO:E(){F B.1x.2S(B.p6)},1B:E(a){G b=[\'1x\',\'2h\',\'3n\',\'2E\',\'3N\',\'2R\',\'3p\',\'5r\',\'47\',\'5O\'].2v(a);F B.1K(\'1B\',b)},3D:E(a){if(!B.1O){B.1O=l.J.6a().2o(\'2d\')}G b=B.6s(),62=B.A4(B.1O),A5=B.A6(62.j6,62.iV);B.A9(b,A5);F a?a(b.2p(\'\')):b.2p(\'\')},A4:E(a){G b=B.42(a,0),iV=-B.K/2,j6=0;F{iV:iV+(B.1s&&B.1s.1p===\'1Q-1s\'?B.1g:0),j6:j6+(B.1s&&B.1s.1p===\'1Q-1s\'?-B.1h:0),iU:b}},A9:E(a,b){G c=U,44=B.az(),1L=44===\'\'?\'\':\' 1L="\'+44+\'"\';a.1o(\'\\t<g \',B.6F(),\'23="\',B.61(),B.6y(),\'"\',1L,\'>\\n\',b.9T.2p(\'\'),\'\\t\\t<1x \',(B.2E?\'3S-fG="\'+B.2E.2M(/"/g,\'\\\'\')+\'" \':\'\'),(B.2h?\'3S-9B="\'+B.2h+\'" \':\'\'),(B.3N?\'3S-1L="\'+B.3N+\'" \':\'\'),(B.3n?\'3S-3G="\'+B.3n+\'" \':\'\'),(B.3p?\'1x-8B="\'+B.3p+\'" \':\'\'),\'1L="\',B.5C(c),\'" >\\n\',b.Ab.2p(\'\'),\'\\t\\t</1x>\\n\',\'\\t</g>\\n\')},A6:E(a,b){G c=[],9T=[],O=0;B.Aa(9T);R(G i=0,1d=B.2b.N;i<1d;i++){if(B.47){B.A8(9T,i,b,a,O)}B.iP(i,c,O,b,a,9T);O+=B.42(B.1O,i)}F{Ab:c,9T:9T}},iP:E(i,a,b,c,d){G e=B.2h*(B.8r-B.5B)-d+b-B.O/2;if(B.5r===\'hV\'){B.A0(i,a,e,c);F}a.1o(\'\\t\\t\\t<b5 x="\',26(c+B.4V(B.3W(B.1O,i)),2m),\'" \',\'y="\',26(e,2m),\'" \',B.ea(B.1A),\'>\',l.J.2N.bf(B.2b[i]),\'</b5>\\n\')},A0:E(i,a,b,c){G d=l.J.6a().2o(\'2d\');B.9v(d);G e=B.2b[i],91=e.2S(/\\s+/),aG=B.9q(d,91.2p(\'\')),bF=B.K-aG,9k=91.N-1,ht=9k>0?bF/9k:0,5P,gG=B.ea(B.1A),1d;c+=B.4V(B.3W(d,i));R(i=0,1d=91.N;i<1d;i++){5P=91[i];a.1o(\'\\t\\t\\t<b5 x="\',26(c,2m),\'" \',\'y="\',26(b,2m),\'" \',gG,\'>\',l.J.2N.bf(5P),\'</b5>\\n\');c+=B.9q(d,5P)+ht}},A8:E(a,i,b,c,d){a.1o(\'\\t\\t<5i \',B.ea(B.47),\' x="\',26(b+B.4V(B.3W(B.1O,i)),2m),\'" y="\',26(d-B.O/2,2m),\'" K="\',26(B.3W(B.1O,i),2m),\'" O="\',26(B.42(B.1O,i)/B.2R,2m),\'"></5i>\\n\')},Aa:E(a){if(B.3w){a.1o(\'\\t\\t<5i \',B.ea(B.3w),\' x="\',26(-B.K/2,2m),\'" y="\',26(-B.O/2,2m),\'" K="\',26(B.K,2m),\'" O="\',26(B.O,2m),\'"></5i>\\n\')}},ea:E(a){G b=(a&&1j a===\'2N\')?1c l.2e(a):\'\';if(!b||!b.4m()||b.82()===1){F\'1A="\'+a+\'"\'}F\'1V="\'+b.82()+\'" 1A="\'+b.cM(1).fK()+\'"\'},3I:E(a,b){B.1K(\'3I\',a,b);if(B.aX.2Z(a)>-1){B.9w();B.3C()}},5l:E(){F 1}});l.4W.4x=l.8b.2v(\'x y dx dy 3S-fG 3S-1L 3S-3G 3S-9B 1x-8B 1x-yP\'.2S(\' \'));l.4W.hi=16;l.4W.5X=E(a,b){if(!a){F 1k}G c=l.78(a,l.4W.4x);b=l.J.1m.1n((b?l.J.1m.3m(b):{}),c);b.1h=b.1h||0;b.1g=b.1g||0;if(\'dx\'in c){b.1g+=c.dx}if(\'dy\'in c){b.1h+=c.dy}if(!(\'2h\'in b)){b.2h=l.4W.hi}if(!b.1T){b.1T=\'1g\'}G d=\'\';if(!(\'lP\'in a)){if(\'76\'in a&&a.76!==1k){if(\'1b\'in a.76&&a.76.1b!==1k){d=a.76.1b}}}P{d=a.lP}d=d.2M(/^\\s+|\\s+$|\\n+/g,\'\').2M(/\\s+/g,\' \');G e=1c l.4W(d,b),zP=e.63()/e.O,zL=(e.O+e.2s)*e.2R-e.O,zJ=zL*zP,zI=e.63()+zJ,ik=0;if(e.1T===\'1g\'){ik=e.5V()/2}if(e.1T===\'3H\'){ik=-e.5V()/2}e.1F({1g:e.pH()+ik,1h:e.pG()-zI/2+e.2h*(0.18+e.5B)/e.2R});F e};l.4W.2a=E(a,b,c){F l.1H.6I(\'4W\',a,b,c,\'1x\')};l.J.mw(l.4W)})(1j 1E!==\'1v\'?1E:B);(E(){G k=I.J.1m.3m;I.6E=I.J.1z(I.4W,I.bV,{1p:\'i-1x\',1w:0,1R:0,d5:\'7P(17,Aq,2x,0.3)\',4y:1f,hM:U,zH:\'7P(qI,qH,2x,0.25)\',aL:2,zG:\'#Au\',zF:bA,kX:b4,22:1k,hB:U,bv:/\\s|\\n/,8U:0,4U:1k,AA:1f,du:[],2c:E(a,b){B.22=b?(b.22||{}):{};B.1K(\'2c\',a,b);B.zy()},fH:E(){B.1K(\'fH\');B.du=[]},9l:E(){if(!B.22){F U}G a=B.22;R(G b in a){R(G c in a[b]){R(G d in a[b][c]){F 1f}}}F U},gL:E(a){a=1a.1J(a,0);B.kp(\'1w\',a)},zw:E(a){a=1a.2n(a,B.1x.N);B.kp(\'1R\',a)},kp:E(a,b){if(B[a]!==b){B.71();B[a]=b}B.70()},71:E(){B.1U(\'4H:cG\');B.W&&B.W.1U(\'1x:4H:cG\',{1q:B})},qx:E(a,b){if(2Q.N===2){G c=[];R(G i=a;i<b;i++){c.1o(B.qx(i))}F c}G d=B.5N(a),1L=B.5M(d.1S,d.2j);F 1L||{}},AN:E(a){if(B.1w===B.1R){B.qa(B.1w,a)}P{R(G i=B.1w;i<B.1R;i++){B.qa(i,a)}}B.gJ=U;F B},qa:E(a,b){G c=B.5N(a);if(!B.bI(c.1S)){B.hh(c.1S,{})}if(!B.5M(c.1S,c.2j)){B.q5(c.1S,c.2j,{})}I.J.1m.1n(B.5M(c.1S,c.2j),b)},9w:E(a){if(!a){B.dN()}B.1K(\'9w\',a)},4I:E(a,b){B.dN();B.1K(\'4I\',a,b);B.a3={};B.9g()},58:E(a){B.1K(\'58\',a);B.1O=a},dN:E(){if(!B.3z||!B.4y){F}if(B.W&&B.W.3o){G a=B.W.3o;a.3i();a.23.2W(a,B.W.3c);B.23(a);B.4l&&a.23.2W(a,B.4l);B.pU(a);a.3f()}},9g:E(){if(!B.3z||!B.4y){F}G a=B.1x.2S(\'\'),6f,1O;if(B.W&&B.W.3o){1O=B.W.3o;1O.3i();1O.23.2W(1O,B.W.3c);B.23(1O);B.4l&&1O.23.2W(1O,B.4l);B.pU(1O)}P{1O=B.1O;1O.3i()}if(B.1w===B.1R){6f=B.iS(a,\'er\');B.yV(6f,1O)}P{6f=B.iS(a,\'4H\');B.yU(a,6f,1O)}1O.3f()},pU:E(a){G b=B.K+4,O=B.O+4;a.a5(-b/2,-O/2,b,O)},5N:E(a){if(1j a===\'1v\'){a=B.1w}G b=B.2b.N;R(G i=0;i<b;i++){if(a<=B.2b[i].N){F{1S:i,2j:a}}a-=B.2b[i].N+1}F{1S:i-1,2j:B.2b[i-1].N<a?B.2b[i-1].N:a}},oV:E(a,b){G c=B.5M(a,b===0?0:b-1);F{2h:c&&c.2h||B.2h,1A:c&&c.1A||B.1A,47:c&&c.47||B.47,3p:c&&c.3p||B.3p,2E:c&&c.2E||B.2E,3n:c&&c.3n||B.3n,3N:c&&c.3N||B.3N,1D:c&&c.1D||B.1D,2s:c&&c.2s||B.2s}},eY:E(a,b){G c=B.5M(a,b===0?0:b-1);F c&&c.2h?c.2h:B.2h},yQ:E(a,b){G c=B.5M(a,b===0?0:b-1);F c&&c.1A?c.1A:B.zG},iS:E(a,b){G c=1a.4o(B.b6()),1h=B.cV(),62=B.ob(a,b);F{1g:c,1h:1h,3L:62.1g+62.o0,6L:62.1h}},ob:E(a,b){if(B.a3&&\'1h\'in B.a3){F B.a3}G c=0,1S=0,2j=0,6L=0,3L=0,6f;R(G i=0;i<B.1w;i++){if(a[i]===\'\\n\'){3L=0;6L+=B.42(B.1O,1S);1S++;2j=0}P{3L+=B.5G(B.1O,a[i],1S,2j);2j++}c=B.4V(B.3W(B.1O,1S))}if(b===\'er\'){6L+=(1-B.5B)*B.42(B.1O,1S)/B.2R-B.eY(1S,2j)*(1-B.5B)}if(B.5O!==0&&2j===B.2b[1S].N){3L-=B.6V()}6f={1h:6L,1g:3L>0?3L:0,o0:c};B.a3=6f;F B.a3},yV:E(a,b){if(!B.W)F;G c=B.5N(),1S=c.1S,2j=c.2j,6P=B.eY(1S,2j),3L=(1S===0&&2j===0)?B.4V(B.3W(b,1S)):a.3L,cc=B.1r*B.W.bs(),aL=B.aL/cc;b.4F=B.yQ(1S,2j);b.cS=B.fI?1:B.8U;b.6h(a.1g+3L-aL/2,a.1h+a.6L,aL,6P)},yU:E(a,b,c){c.4F=B.d5;G d=B.5N(B.1w),7f=B.5N(B.1R),gu=d.1S,aJ=7f.1S;R(G i=gu;i<=aJ;i++){G e=B.4V(B.3W(c,i))||0,2R=B.42(B.1O,i),n8=0,8S=0,2r=B.2b[i];if(i===gu){R(G j=0,1d=2r.N;j<1d;j++){if(j>=d.2j&&(i!==aJ||j<7f.2j)){8S+=B.5G(c,2r[j],i,j)}if(j<d.2j){e+=B.5G(c,2r[j],i,j)}}if(j===2r.N){8S-=B.6V()}}P if(i>gu&&i<aJ){8S+=B.3W(c,i)||5}P if(i===aJ){R(G f=0,yD=7f.2j;f<yD;f++){8S+=B.5G(c,2r[f],i,f)}if(7f.2j===2r.N){8S-=B.6V()}}n8=2R;if(B.2R<1||(i===aJ&&B.2R>1)){2R/=B.2R}c.6h(b.1g+e,b.1h+b.6L,8S>0?8S:0,2R);b.6L+=n8}},cv:E(a,b,c,d,e,f,g){if(B.9l()){F B.yB(a,b,c,d,e)}g=g||0;G h=B.42(b,f),fP,h0,g3=\'\';b.3i();e-=h/B.2R*B.5B;R(G i=g,1d=c.N+g;i<=1d;i++){fP=fP||B.oV(f,i);h0=B.oV(f,i+1);if(B.yz(fP,h0)||i===1d){B.yy(a,b,f,i-1,g3,d,e,h);g3=\'\';fP=h0}g3+=c[i-g]}b.3f()},yB:E(a,b,c,d,e){if(a===\'g1\'&&B.1A){B.1K(\'cv\',a,b,c,d,e)}if(a===\'g0\'&&((B.1D&&B.2s>0)||B.Bi)){B.1K(\'cv\',a,b,c,d,e)}},yy:E(a,b,c,i,d,e,f,g){G h,6P,bN,aR,7F=B.5M(c,i),24,3p,h6,66,hw;if(7F){6P=B.iT(b,d,c,i);aR=7F.1D;bN=7F.1A;3p=7F.3p}P{6P=B.2h}aR=(aR||B.1D)&&a===\'g0\';bN=(bN||B.1A)&&a===\'g1\';7F&&b.3i();h=B.lL(b,d,c,i,7F||1k);3p=3p||B.3p;if(7F&&7F.47){B.b7(b)}if(B.5O!==0){66=B.6V();h6=d.2S(\'\');h=0;R(G j=0,1d=h6.N,8u;j<1d;j++){8u=h6[j];bN&&b.g1(8u,e+h,f);aR&&b.g0(8u,e+h,f);hw=b.bu(8u).K+66;h+=hw>0?hw:0}}P{bN&&b.g1(d,e,f);aR&&b.g0(d,e,f)}if(3p||3p!==\'\'){24=B.5B*g/B.2R;B.yq(b,3p,e,f,24,h,6P)}7F&&b.3f();b.3T(h,0)},yz:E(a,b){F(a.1A!==b.1A||a.2h!==b.2h||a.47!==b.47||a.3p!==b.3p||a.2E!==b.2E||a.3n!==b.3n||a.3N!==b.3N||a.1D!==b.1D||a.2s!==b.2s)},yq:E(a,b,c,d,e,f,g){if(!b){F}G h=g/15,yp={lW:d+g/10,\'2r-lR\':d-g*(B.5B+B.8r-1)+h,ly:d-(B.8r-B.5B)*g},lI=[\'lW\',\'2r-lR\',\'ly\'],i,8B;R(i=0;i<lI.N;i++){8B=lI[i];if(b.2Z(8B)>-1){a.6h(c,yp[8B],f,h)}}},i1:E(a,b,c,d,e,f){if(!B.9l()){e+=B.2h*(B.5B+0.Bt)}B.1K(\'i1\',a,b,c,d,e,f)},j2:E(a){if(B.9l()){F B.1K(\'j2\',a)}},jn:E(a){B.1K(\'jn\',a);G b=0,5Y,4d,4A,3L=B.b6(),6L=B.cV(),8D=\'\',2r,4S,1L,8I,9x,7N,7O;a.3i();R(G i=0,1d=B.2b.N;i<1d;i++){5Y=B.42(a,i);2r=B.2b[i];if(2r===\'\'||!B.22||!B.bI(i)){b+=5Y;3t}4d=B.3W(a,i);4A=B.4V(4d);8I=9x=7N=7O=0;R(G j=0,4O=2r.N;j<4O;j++){1L=B.5M(i,j)||{};if(8D!==1L.47){if(7O&&7N){a.4F=8D;a.6h(8I,9x,7N,7O)}8I=9x=7N=7O=0;8D=1L.47||\'\'}if(!1L.47){8D=\'\';3t}4S=2r[j];if(8D===1L.47){8D=1L.47;if(!8I){8I=3L+4A+B.kz(a,i,j)}9x=6L+b;7N+=B.5G(a,4S,i,j);7O=5Y/B.2R}}if(7O&&7N){a.4F=8D;a.6h(8I,9x,7N,7O);8I=9x=7N=7O=0}b+=5Y}a.3f()},ym:E(a,b){F a+b.2h+b.3n+b.3N},yl:E(a){if(!I.6j[a]){I.6j[a]={}}F I.6j[a]},lL:E(a,b,c,d,e){G f=e||B.5M(c,d),3Z=k(f),K,9y,6j;B.ye(3Z);6j=B.yl(3Z.2E);9y=B.ym(b,3Z);if(!f&&6j[9y]&&B.hB){F 6j[9y]}if(1j 3Z.2w===\'2N\'){3Z.2w=1c I.6o(3Z.2w)}G g=3Z.1A||B.1A;a.4F=g.4c?g.4c(a,B):g;if(3Z.1D){a.6t=(3Z.1D&&3Z.1D.4c)?3Z.1D.4c(a,B):3Z.1D}a.4d=3Z.2s||B.2s;a.3S=B.o7.1W(3Z);if(3Z.2w){3Z.1r=B.1r;3Z.1t=B.1t;3Z.W=B.W;3Z.ax=B.ax;B.ar.1W(3Z,a)}if(!B.hB||!6j[9y]){K=a.bu(b).K;B.hB&&(6j[9y]=K);F K}F 6j[9y]},ye:E(a){if(!a.2E){a.2E=B.2E}if(!a.2h){a.2h=B.2h}if(!a.3n){a.3n=B.3n}if(!a.3N){a.3N=B.3N}},5M:E(a,b,c){if(c){F(B.22[a]&&B.22[a][b])?k(B.22[a][b]):{}}F B.22[a]&&B.22[a][b]?B.22[a][b]:1k},q5:E(a,b,c){B.22[a][b]=c},yd:E(a,b){2Y B.22[a][b]},bI:E(a){F B.22[a]},hh:E(a,b){B.22[a]=b},yb:E(a){2Y B.22[a]},5G:E(a,b,c,d){if(!B.km&&B.5r===\'hV\'&&B.p5.3a(b)){F B.y9(a,c)}a.3i();G e=B.lL(a,b,c,d);if(B.5O!==0){e+=B.6V()}a.3f();F e>0?e:0},iT:E(a,b,c){G d=B.5M(b,c);F d&&d.2h?d.2h:B.2h},kz:E(a,b,c){G d=0,i,4S;R(i=0;i<c;i++){4S=B.2b[b][i];d+=B.5G(a,4S,b,i)}F d},mh:E(a,b){B.km=U;G c=B.kz(a,b,B.2b[b].N);if(B.5O!==0){c-=B.6V()}B.km=1f;F c>0?c:0},y9:E(a,b){if(B.du[b]){F B.du[b]}G c=B.2b[b],aG=B.9q(a,c,b,0),bF=B.K-aG,9k=c.N-c.2M(B.p5,\'\').N,K=1a.1J(bF/9k,a.bu(\' \').K);B.du[b]=K;F K},9q:E(a,b,c,d){G e=0;R(G f=0;f<b.N;f++){G g=b[f];if(!g.3K(/\\s/)){e+=B.5G(a,g,c,f+d)}}F e},42:E(a,b){if(B.fm[b]){F B.fm[b]}G c=B.2b[b],7L=B.iT(a,b,0);R(G i=1,1d=c.N;i<1d;i++){G d=B.iT(a,b,i);if(d>7L){7L=d}}B.fm[b]=7L*B.2R*B.8r;F B.fm[b]},jI:E(a){G b,O=0;R(G i=0,1d=B.2b.N;i<1d;i++){b=B.42(a,i);O+=(i===1d-1?b/B.2R:b)}F O},1B:E(a){F I.J.1m.1n(B.1K(\'1B\',a),{22:k(B.22,U)})}});I.6E.2a=E(a,b,c){F I.1H.6I(\'6E\',a,b,c,\'1x\')}})();(E(){G j=I.J.1m.3m;I.J.1m.1n(I.6E.1i,{zy:E(){B.y8();B.y6();B.xY();B.xW();B.fq=B.fq.3l(B)},9H:E(){B.4y&&B.aA();B.7e=1f},y8:E(){G b=B;B.on(\'nC\',E(){G a=b.W;if(a){if(!a.dO){a.dO=U;b.xV(a)}a.6r=a.6r||[];a.6r.1o(b)}})},y6:E(){G b=B;B.on(\'5g\',E(){G a=b.W;if(a){a.6r=a.6r||[];I.J.6i(a.6r,b);if(a.6r.N===0){a.dO=1f;b.xU(a)}}})},xV:E(b){b.hd=(E(){if(b.6r){b.6r.4j(E(a){a.fI=1f})}}).3l(B);b.on(\'5Z:up\',b.hd)},xU:E(a){a.fS(\'5Z:up\',a.hd)},hS:E(){B.bB=B.qM(B,1,B.kX,\'xQ\')},qM:E(a,b,c,d){G e;e={aI:1f,7H:E(){B.aI=U},};a.6X(\'8U\',b,{6e:c,3j:E(){if(!e.aI){a[d]()}},3E:E(){if(a.W&&a.1w===a.1R){a.9g()}},7H:E(){F e.aI}});F e},xQ:E(){G a=B;if(B.hk){q3(B.hk)}B.hk=ft(E(){a.cj=a.qM(a,0,B.kX/2,\'hS\')},3h)},d7:E(a){G b=B,xJ=a?0:B.zF;B.cz();B.8U=1;B.xI=ft(E(){b.hS()},xJ)},cz:E(){G a=B.bB||B.cj;B.bB&&B.bB.7H();B.cj&&B.cj.7H();q3(B.hk);q3(B.xI);B.8U=0;if(a){B.W&&B.W.5Q(B.W.3o||B.1O)}},xE:E(){B.1w=0;B.1R=B.1x.N;B.71();B.70()},pA:E(){F B.1x.2P(B.1w,B.1R)},xD:E(a){G b=0,2l=a-1;if(B.bv.3a(B.1x.3J(2l))){31(B.bv.3a(B.1x.3J(2l))){b++;2l--}}31(/\\S/.3a(B.1x.3J(2l))&&2l>-1){b++;2l--}F a-b},C4:E(a){G b=0,2l=a;if(B.bv.3a(B.1x.3J(2l))){31(B.bv.3a(B.1x.3J(2l))){b++;2l++}}31(/\\S/.3a(B.1x.3J(2l))&&2l<B.1x.N){b++;2l++}F a+b},pz:E(a){G b=0,2l=a-1;31(!/\\n/.3a(B.1x.3J(2l))&&2l>-1){b++;2l--}F a-b},xB:E(a){G b=0,2l=a;31(!/\\n/.3a(B.1x.3J(2l))&&2l<B.1x.N){b++;2l++}F a+b},C7:E(){G a=B.pA(),pu=0;R(G i=0,1d=a.N;i<1d;i++){if(a[i]===\'\\n\'){pu++}}F pu},ps:E(a,b){G c=B.bv.3a(B.1x.3J(a))?a-1:a,4S=B.1x.3J(c),pm=/[ \\n\\.,;!\\?\\-]/;31(!pm.3a(4S)&&c>0&&c<B.1x.N){c+=b;4S=B.1x.3J(c)}if(pm.3a(4S)&&4S!==\'\\n\'){c+=b===1?0:1}F c},xz:E(a){a=a||B.1w;G b=B.ps(a,-1),k4=B.ps(a,1);B.1w=b;B.1R=k4;B.71();B.70();B.9g()},xx:E(a){a=a||B.1w;G b=B.pz(a),k4=B.xB(a);B.1w=b;B.1R=k4;B.71();B.70()},xw:E(e){if(B.4y||!B.hM){F}if(B.W){B.xt(B.W)}B.4y=U;B.xs(e);B.32.xq();B.70();B.xp();B.xo();B.xm=B.1x;B.hS();B.1U(\'gH:xk\');B.71();if(!B.W){F B}B.W.1U(\'1x:gH:xk\',{1q:B});B.xj();B.W.2u();F B},xt:E(b){if(b.6r){b.6r.4j(E(a){a.7e=1f;if(a.4y){a.aA()}})}},xj:E(){B.W.on(\'5Z:co\',B.fq)},fq:E(a){if(!B.fI||!B.4y){F}G b=B.ep(a.e),h2=B.1w,h8=B.1R;if((b!==B.e4||h2===h8)&&(h2===b||h8===b)){F}if(b>B.e4){B.1w=B.e4;B.1R=b}P{B.1w=b;B.1R=B.e4}if(B.1w!==h2||B.1R!==h8){B.o9();B.71();B.70();B.9g()}},xo:E(){B.8G=\'1x\';if(B.W){B.W.8c=B.W.7A=\'1x\'}B.92=B.zH;B.6D=B.7G=1f;B.9f=B.9e=U},70:E(){if(!B.32||B.gO){F}B.a3={};B.32.4M=B.1x;B.32.1w=B.1w;B.32.1R=B.1R;if(B.1w===B.1R){G a=B.nN();B.32.1L.1g=a.1g;B.32.1L.1h=a.1h;B.32.1L.2h=a.2h}},nN:E(){if(!B.W){F{x:1,y:1}}G a=B.1x.2S(\'\'),6f=B.iS(a,\'er\'),4z=B.5N(),1S=4z.1S,2j=4z.2j,6P=B.eY(1S,2j),3L=(1S===0&&2j===0)?B.4V(B.3W(B.1O,1S)):6f.3L,m=B.bP(),p={x:6f.1g+3L,y:6f.1h+6f.6L+6P},nK=B.W.2k,nG=nK.K-6P,7L=nK.O-6P;p=I.J.4w(p,m);p=I.J.4w(p,B.W.3c);if(p.x<0){p.x=0}if(p.x>nG){p.x=nG}if(p.y<0){p.y=0}if(p.y>7L){p.y=7L}p.x+=B.W.e6.1g;p.y+=B.W.e6.1h;F{1g:p.x+\'px\',1h:p.y+\'px\',2h:6P}},xp:E(){B.8t={6D:B.6D,92:B.92,9f:B.9f,9e:B.9e,8G:B.8G,8c:B.W&&B.W.8c,7A:B.W&&B.W.7A}},x9:E(){if(!B.8t){F}B.8G=B.8t.CB;B.6D=B.8t.6D;B.92=B.8t.92;B.9f=B.8t.9f;B.9e=B.8t.9e;if(B.W){B.W.8c=B.8t.8c;B.W.7A=B.8t.7A}},aA:E(){G a=(B.xm!==B.1x);B.7e=1f;B.4y=1f;B.7G=U;B.1R=B.1w;if(B.32){B.32.5R&&B.32.5R();B.W&&B.32.4K.oo(B.32);B.32=1k}B.cz();B.x9();B.8U=0;B.1U(\'gH:x8\');a&&B.1U(\'jr\');if(B.W){B.W.fS(\'5Z:co\',B.fq);B.W.1U(\'1x:gH:x8\',{1q:B});a&&B.W.1U(\'1m:jr\',{1q:B})}F B},nD:E(){R(G a in B.22){if(!B.2b[a]){2Y B.22[a]}}},fQ:E(a,b){31(b!==a){B.nn(a+1);b--}B.1w=a;B.1R=a},nn:E(a){G b=B.1x[a-1]===\'\\n\',x7=b?a:a-1;B.nm(b,x7);B.1x=B.1x.2P(0,a-1)+B.1x.2P(a);B.2b=B.aO()},fT:E(a,b){G c;if(B.1R-B.1w>1){B.fQ(B.1w,B.1R)}if(!b&&B.9l()){B.mZ(a,1f);F}R(G i=0,1d=a.N;i<1d;i++){if(b){c=I.J.1m.3m(I.mQ[i],U)}B.mZ(a[i],i<1d-1,c)}},mZ:E(a,b,c){G d=B.1x[B.1w]===\'\\n\';B.1x=B.1x.2P(0,B.1w)+a+B.1x.2P(B.1R);B.2b=B.aO();B.x3(a,d,c);B.1w+=a.N;B.1R=B.1w;if(b){F}B.70();B.3C();B.71();B.1U(\'cG\');B.o9();if(B.W){B.W.1U(\'1x:cG\',{1q:B});B.W.2u()}},o9:E(){if(!B.bB||B.bB.aI||!B.cj||B.cj.aI){B.d7()}},hr:E(a,b,c){B.hs(a,+1);if(!B.22[a+1]){B.22[a+1]={}}G d={},fM={};if(B.22[a]&&B.22[a][b-1]){d=B.22[a][b-1]}if(c){fM[0]=j(d);B.22[a+1]=fM}P{R(G e in B.22[a]){if(3r(e,10)>=b){fM[3r(e,10)-b]=B.22[a][e];2Y B.22[a][e]}}B.22[a+1]=fM}B.gJ=U},g7:E(a,b,c){G d=B.22[a],hf=j(d);if(b===0&&!c){b=1}R(G e in hf){G f=3r(e,10);if(f>=b){d[f+1]=hf[f];if(!hf[f-1]){2Y d[f]}}}B.22[a][b]=c||j(d[b-1]);B.gJ=U},x3:E(a,b,c){G d=B.5N(),1S=d.1S,2j=d.2j;if(!B.bI(1S)){B.hh(1S,{})}if(a===\'\\n\'){B.hr(1S,2j,b)}P{B.g7(1S,2j,c)}},hs:E(a,b){G c=j(B.22);R(G d in B.22){G e=3r(d,10);if(e>a){B.22[e+b]=c[e];if(!c[e-b]){2Y B.22[e]}}}},nm:E(a,b){G c=B.5N(b),1S=c.1S,2j=c.2j;B.lh(a,c,1S,2j)},ku:E(a){F B.2b[a-1]},lh:E(a,b,c,d){if(a){G e=B.ku(b.1S),wM=e?e.N:0;if(!B.22[c-1]){B.22[c-1]={}}R(d in B.22[c]){B.22[c-1][3r(d,10)+wM]=B.22[c][d]}B.hs(b.1S,-1)}P{G f=B.22[c];if(f){2Y f[d]}G g=j(f);R(G i in g){G h=3r(i,10);if(h>=d&&h!==0){f[h-1]=g[h];2Y f[h]}}}},wL:E(){B.fT(\'\\n\')},kt:E(a,b,c){if(c<=a){if(b===a){B.4U=\'1g\'}P if(B.4U===\'3H\'){B.4U=\'1g\';B.1R=a}B.1w=c}P if(c>a&&c<b){if(B.4U===\'3H\'){B.1R=c}P{B.1w=c}}P{if(b===a){B.4U=\'3H\'}P if(B.4U===\'1g\'){B.4U=\'3H\';B.1w=b}B.1R=c}},wI:E(){G a=B.1x.N;if(B.1w>a){B.1w=a}P if(B.1w<0){B.1w=0}if(B.1R>a){B.1R=a}P if(B.1R<0){B.1R=0}}})})();I.J.1m.1n(I.6E.1i,{xW:E(){B.cp=+1c dE();B.kk=+1c dE();B.cs={};B.on(\'cu\',B.cB.3l(B))},cB:E(a){if(!B.W)F;B.hE=+1c dE();G b=B.W.48(a.e);if(B.wC(b)){B.1U(\'wz\',a);B.qB(a.e)}P if(B.wy(b)){B.1U(\'wm\',a);B.qB(a.e)}B.kk=B.cp;B.cp=B.hE;B.cs=b;B.wl=B.4y;B.wk=B.7e},wy:E(a){F B.hE-B.cp<a0&&B.cs.x===a.x&&B.cs.y===a.y&&B.wl},wC:E(a){F B.hE-B.cp<a0&&B.cp-B.kk<a0&&B.cs.x===a.x&&B.cs.y===a.y},qB:E(e){e.7R&&e.7R();e.j9&&e.j9()},xY:E(){B.wa();B.w6();B.vZ()},vZ:E(){B.on(\'wm\',E(a){B.xz(B.ep(a.e))});B.on(\'wz\',E(a){B.xx(B.ep(a.e))})},wa:E(){B.on(\'cu\',E(a){if(!B.hM||!B.W){F}G b=B.W.48(a.e);B.vX=b.x;B.vW=b.y;B.fI=U;if(B.7e){B.vV(a.e)}if(B.4y){B.e4=B.1w;if(B.1w===B.1R){B.cz()}B.9g()}})},vU:E(e){if(!B.W)F 1f;G a=B.W.48(e);F B.vX!==a.x||B.vW!==a.y},w6:E(){B.on(\'pa\',E(a){B.fI=1f;if(!B.hM||B.vU(a.e)){F}if(B.wk&&!B.fp){B.xw(a.e);if(B.1w===B.1R){B.d7(U)}P{B.9g()}}B.7e=U})},vV:E(e){G a=B.ep(e),9F=B.1w,7f=B.1R;if(e.6N){B.kt(9F,7f,a)}P{B.1w=a;B.1R=a}if(B.4y){B.71();B.70()}},ep:E(e){G a=B.s2(e),hH=0,K=0,O=0,2j=0,95,2r;R(G i=0,1d=B.2b.N;i<1d;i++){2r=B.2b[i];O+=B.42(B.1O,i)*B.1t;G b=B.3W(B.1O,i),4A=B.4V(b);K=4A*B.1r;R(G j=0,4O=2r.N;j<4O;j++){hH=K;K+=B.5G(B.1O,2r[j],i,B.4N?4O-j:j)*B.1r;if(O<=a.y||K<=a.x){2j++;3t}F B.eL(a,hH,K,2j+i,4O)}if(a.y<O){F B.eL(a,hH,K,2j+i-1,4O)}}if(1j 95===\'1v\'){F B.1x.N}},eL:E(a,b,c,d,e){G f=a.x-b,vM=c-a.x,24=vM>f?0:1,95=d+24;if(B.4N){95=e-95}if(95>B.1x.N){95=B.1x.N}F 95}});I.J.1m.1n(I.6E.1i,{xs:E(){B.32=I.2X.69(\'Dh\');B.32.5H(\'Di\',\'fS\');G a=B.nN();B.32.1L.hy=\'9U: sW; 1h: \'+a.1h+\'; 1g: \'+a.1g+\';\'+\' 1V: 0; K: vL; O: vL; z-2l: -Dk;\';I.2X.8v.9j(B.32);I.J.2V(B.32,\'Dl\',B.vK.3l(B));I.J.2V(B.32,\'Dn\',B.vJ.3l(B));I.J.2V(B.32,\'Dp\',B.vH.3l(B));I.J.2V(B.32,\'eG\',B.eG.3l(B));I.J.2V(B.32,\'iM\',B.iM.3l(B));I.J.2V(B.32,\'ow\',B.ow.3l(B));I.J.2V(B.32,\'Du\',B.vA.3l(B));I.J.2V(B.32,\'Dw\',B.vx.3l(B));I.J.2V(B.32,\'Dy\',B.vw.3l(B));if(!B.vv&&B.W){I.J.2V(B.W.2k,\'DB\',B.vu.3l(B));B.vv=U}},ov:{8:\'j1\',9:\'aA\',27:\'aA\',13:\'wL\',33:\'nU\',34:\'nS\',35:\'jZ\',36:\'nb\',37:\'nb\',38:\'nU\',39:\'jZ\',40:\'nS\',46:\'v7\'},n1:{67:\'eG\',88:\'iM\'},mR:{65:\'xE\'},vu:E(){B.32&&B.32.xq()},vK:E(e){if(!B.4y){F}if(e.6A in B.ov){B[B.ov[e.6A]](e)}P if((e.6A in B.mR)&&(e.uM||e.bc)){B[B.mR[e.6A]](e)}P{F}e.gr();e.7R();if(e.6A>=33&&e.6A<=40){B.dN();B.9g()}P{B.W&&B.W.2u()}},vJ:E(e){if(!B.4y||B.mo){B.mo=1f;F}if((e.6A in B.n1)&&(e.uM||e.bc)){B[B.n1[e.6A]](e)}P{F}e.gr();e.7R();B.W&&B.W.2u()},vH:E(e){if(!B.4y||B.gO){F}G a=B.1w||0,me=B.1R||0,gD=B.1x.N,gE=B.32.4M.N,aQ,gM,9F;if(gE>gD){9F=B.4U===\'1g\'?me:a;aQ=gE-gD;gM=B.32.4M.2P(9F,9F+aQ)}P{aQ=gE-gD+me-a;gM=B.32.4M.2P(a,a+aQ)}B.fT(gM);e.j9()},vA:E(){B.gO=U;B.ko=0;B.kh=B.1w},vw:E(){B.gO=1f},vx:E(e){G a=e.1b;B.1w=B.kh;B.1R=B.1R===B.1w?B.kh+B.ko:B.1R;B.fT(a,1f);B.ko=a.N},v7:E(e){if(B.1w===B.1R){if(B.1w===B.1x.N){F}B.jZ(e)}B.j1(e)},eG:E(e){if(B.1w===B.1R){F}G a=B.pA(),8V=B.qL(e);if(8V){8V.DZ(\'1x\',a)}I.qE=a;I.mQ=B.qx(B.1w,B.1R);e.gr();e.7R();B.mo=U},ow:E(e){G a=1k,8V=B.qL(e),op=U;if(8V){a=8V.E2(\'1x\').2M(/\\r/g,\'\');if(!I.mQ||I.qE!==a){op=1f}}P{a=I.qE}if(a){B.fT(a,op)}e.gr();e.7R()},iM:E(e){if(B.1w===B.1R){F}B.eG(e);B.j1(e)},qL:E(e){F(e&&e.8V)||I.4i.8V},o6:E(a,b){G c=B.2b[a].2P(0,b),uq=B.3W(B.1O,a),a9=B.4V(uq),4S;R(G i=0,1d=c.N;i<1d;i++){4S=c[i];a9+=B.5G(B.1O,4S,a,i)}F a9},E5:E(e,a){G b=B.nV(e,a),4z=B.5N(b),1S=4z.1S;if(1S===B.2b.N-1||e.bc||e.6A===34){F B.1x.N-b}G c=4z.2j,a9=B.o6(1S,c),hu=B.nE(1S+1,a9),uk=B.2b[1S].2P(c);F uk.N+hu+2},nV:E(e,a){if(e.6N&&B.1w!==B.1R&&a){F B.1R}P{F B.1w}},E9:E(e,a){G b=B.nV(e,a),4z=B.5N(b),1S=4z.1S;if(1S===0||e.bc||e.6A===33){F-b}G c=4z.2j,a9=B.o6(1S,c),hu=B.nE(1S-1,a9),ui=B.2b[1S].2P(0,c);F-B.2b[1S-1].N+hu-ui.N},nE:E(a,b){G c=B.3W(B.1O,a),hA=B.2b[a],4A=B.4V(c),dB=4A,hR=0,mF;R(G j=0,4O=hA.N;j<4O;j++){G d=hA[j],lA=B.5G(B.1O,d,a,j);dB+=lA;if(dB>b){mF=U;G e=dB-lA,tJ=dB,tw=1a.2f(e-b),ti=1a.2f(tJ-b);hR=ti<tw?j:(j-1);1P}}if(!mF){hR=hA.N-1}F hR},nS:E(e){if(B.1w>=B.1x.N&&B.1R>=B.1x.N){F}B.lx(\'Ej\',e)},nU:E(e){if(B.1w===0&&B.1R===0){F}B.lx(\'Ek\',e)},lx:E(a,e){G b=\'1Z\'+a+\'El\',24=B[b](e,B.4U===\'3H\');if(e.6N){B.t3(24)}P{B.t0(24)}if(24!==0){B.wI();B.cz();B.8U=1;B.d7();B.71();B.70()}},t3:E(a){G b=B.4U===\'1g\'?B.1w+a:B.1R+a;B.kt(B.1w,B.1R,b);F a!==0},t0:E(a){if(a<0){B.1w+=a;B.1R=B.1w}P{B.1R+=a;B.1w=B.1R}F a!==0},nb:E(e){if(B.1w===0&&B.1R===0){F}B.oC(\'m3\',e)},pY:E(e,a,b){G c;if(e.ap){c=B[\'Er\'+b](B[a])}P if(e.bc||e.6A===35||e.6A===36){c=B[\'Es\'+b](B[a])}P{B[a]+=b===\'m3\'?-1:1;F U}if(1j c!==1v&&B[a]!==c){B[a]=c;F U}},jP:E(e,a){F B.pY(e,a,\'m3\')},g2:E(e,a){F B.pY(e,a,\'sU\')},Ew:E(e){G a=U;B.4U=\'1g\';if(B.1R===B.1w&&B.1w!==0){a=B.jP(e,\'1w\')}B.1R=B.1w;F a},Ex:E(e){if(B.4U===\'3H\'&&B.1w!==B.1R){F B.jP(e,\'1R\')}P if(B.1w!==0){B.4U=\'1g\';F B.jP(e,\'1w\')}},jZ:E(e){if(B.1w>=B.1x.N&&B.1R>=B.1x.N){F}B.oC(\'sU\',e)},oC:E(a,e){G b=\'7A\'+a+\'Ey\';B.8U=1;if(e.6N){b+=\'Ez\'}P{b+=\'EA\'}if(B[b](e)){B.cz();B.d7();B.71();B.70()}},EB:E(e){if(B.4U===\'1g\'&&B.1w!==B.1R){F B.g2(e,\'1w\')}P if(B.1R!==B.1x.N){B.4U=\'3H\';F B.g2(e,\'1R\')}},EC:E(e){G a=U;B.4U=\'3H\';if(B.1w===B.1R){a=B.g2(e,\'1w\');B.1R=B.1w}P{B.1w=B.1R}F a},j1:E(e){if(B.1w===B.1R){B.sT(e)}P{B.fQ(B.1w,B.1R)}B.1F(\'6b\',U);B.zw(B.1w);B.nD();B.W&&B.W.2u();B.3C();B.1U(\'cG\');B.W&&B.W.1U(\'1x:cG\',{1q:B})},sT:E(e){if(B.1w===0){F}if(e.bc){G a=B.pz(B.1w);B.fQ(a,B.1w);B.gL(a)}P if(e.ap){G b=B.xD(B.1w);B.fQ(b,B.1w);B.gL(b)}P{B.nn(B.1w);B.gL(B.1w-1)}}});(E(){G k=I.J.26,2m=I.1H.2m;I.J.1m.1n(I.6E.1i,{iP:E(a,b,c,d,e,f){if(!B.bI(a)){I.4W.1i.iP.1W(B,a,b,c,d,e)}P{B.sI(a,b,c,d,f)}},sI:E(a,b,c,d,e){G f=B.2b[a],6Y=0,4A=B.4V(B.3W(B.1O,a))-B.K/2,g8=B.sH(a),5Y=B.42(B.1O,a);R(G i=0,1d=f.N;i<1d;i++){G g=B.5M(a,i)||{};b.1o(B.sG(f[i],g,4A,g8.iU+g8.24,6Y));G h=B.5G(B.1O,f[i],a,i);if(g.47){e.1o(B.sF(g,4A,g8.iU,5Y,h,6Y))}6Y+=h}},sH:E(a){G b=0,nJ=0;R(G j=0;j<a;j++){b+=B.42(B.1O,j)}nJ=B.42(B.1O,j);F{iU:b,24:(B.8r-B.5B)*nJ/(B.2R*B.8r)}},sF:E(a,b,c,d,e,f){F[\'\\t\\t<5i 1A="\',a.47,\'" x="\',k(b+f,2m),\'" y="\',k(c-B.O/2,2m),\'" K="\',k(e,2m),\'" O="\',k(d/B.2R,2m),\'"></5i>\\n\'].2p(\'\')},sG:E(a,b,c,d,e){G f=B.5C.1W(I.J.1m.1n({4X:U,1A:B.1A,1D:B.1D,1p:\'1x\',az:I.1H.1i.az},b));F[\'\\t\\t\\t<b5 x="\',k(c+e,2m),\'" y="\',k(d-B.O/2,2m),\'" \',(b.2E?\'3S-fG="\'+b.2E.2M(/"/g,\'\\\'\')+\'" \':\'\'),(b.2h?\'3S-9B="\'+b.2h+\'" \':\'\'),(b.3N?\'3S-1L="\'+b.3N+\'" \':\'\'),(b.3n?\'3S-3G="\'+b.3n+\'" \':\'\'),(b.3p?\'1x-8B="\'+b.3p+\'" \':\'\'),\'1L="\',f,\'">\',I.J.2N.bf(a),\'</b5>\\n\'].2p(\'\')}})})();(E(f){\'2z 2H\';G g=f.I||(f.I={});g.7z=g.J.1z(g.6E,g.bV,{1p:\'EI\',qJ:20,aj:2,EL:1k,9S:U,ef:U,qu:1f,2c:E(a,b){B.1K(\'2c\',a,b);B.mi(g.7z.pE());B.1O=B.7I?B.8A:g.J.6a().2o(\'2d\');B.aX.1o(\'K\')},9w:E(a){if(B.gj){F}if(!a){a=g.J.6a().2o(\'2d\');B.9v(a);B.dN()}B.aj=0;B.2b=B.aO(a);if(B.aj>B.K){B.3I(\'K\',B.aj)}B.fH();B.O=B.jI(a)},sx:E(){G a=0,dm=0,6m=0,4r={};R(G i=0;i<B.2b.N;i++){if(B.1x[6m]===\'\\n\'&&i>0){dm=0;6m++;a++}P if(B.1x[6m]===\' \'&&i>0){dm++;6m++}4r[i]={2r:a,24:dm};6m+=B.2b[i].N;dm+=B.2b[i].N}F 4r},5M:E(a,b,c){if(B.4R){G d=B.4R[a];if(!d){F c?{}:1k}a=d.2r;b=d.24+b}F B.1K(\'5M\',a,b,c)},q5:E(a,b,c){G d=B.4R[a];a=d.2r;b=d.24+b;B.22[a][b]=c},yd:E(a,b){G c=B.4R[a];a=c.2r;b=c.24+b;2Y B.22[a][b]},bI:E(a){G b=B.4R[a];F B.22[b.2r]},hh:E(a,b){G c=B.4R[a];B.22[c.2r]=b},yb:E(a){G b=B.4R[a];2Y B.22[b.2r]},s6:E(a,b){G c=b.2S(B.p6),h7=[],i;R(i=0;i<c.N;i++){h7=h7.2v(B.s0(a,c[i],i))}F h7},np:E(a,b,c,d){G e=0;d=d||0;R(G i=0,1d=b.N;i<1d;i++){e+=B.5G(a,b[i],c,i+d)}F e},s0:E(a,b,c){G d=0,7U=[],2r=\'\',91=b.2S(\' \'),5P=\'\',24=0,mG=\' \',bD=0,lQ=0,dP=0,dQ=U,66=B.6V();R(G i=0;i<91.N;i++){5P=91[i];bD=B.np(a,5P,c,24);24+=5P.N;d+=lQ+bD-66;if(d>=B.K&&!dQ){7U.1o(2r);2r=\'\';d=bD;dQ=U}P{d+=66}if(!dQ){2r+=mG}2r+=5P;lQ=B.np(a,mG,c,24);24++;dQ=1f;if(bD>dP){dP=bD}}i&&7U.1o(2r);if(dP>B.aj){B.aj=dP-66}F 7U},aO:E(a){a=a||B.1O;G b=B.5r;B.4R=1k;a.3i();B.9v(a);B.5r=\'1g\';G c=B.s6(a,B.1x);B.5r=b;a.3f();B.2b=c;B.4R=B.sx();F c},pZ:E(a,b){if(a===\'1r\'){B.1F(\'1r\',1a.2f(1/b));B.1F(\'K\',(B.1Z(\'K\')*b)/(1j B.q6===\'1v\'?1:B.q6));B.q6=b}},5N:E(a){if(1j a===\'1v\'){a=B.1w}G b=B.2b.N,5g=0;R(G i=0;i<b;i++){G c=B.2b[i],nL=c.N;if(a<=5g+nL){F{1S:i,2j:a-5g}}5g+=nL;if(B.1x[5g]===\'\\n\'||B.1x[5g]===\' \'){5g++}}F{1S:b-1,2j:B.2b[b-1].N}},ob:E(a,b){G c=0,3L=0,4z=B.5N(),rY=B.2b[4z.1S].2S(\'\'),4A=B.4V(B.3W(B.1O,4z.1S));R(G i=0;i<4z.2j;i++){3L+=B.5G(B.1O,rY[i],4z.1S,i)}R(i=0;i<4z.1S;i++){c+=B.42(B.1O,i)}if(b===\'er\'){c+=(1-B.5B)*B.42(B.1O,4z.1S)/B.2R-B.eY(4z.1S,4z.2j)*(1-B.5B)}F{1h:c,1g:3L,o0:4A}},rV:E(){F 1a.1J(B.qJ,B.aj)},1B:E(a){F B.1K(\'1B\',[\'qJ\'].2v(a))}});g.7z.2a=E(a,b,c){F g.1H.6I(\'7z\',a,b,c,\'1x\')};g.7z.pE=E(){F{tl:1f,tr:1f,br:1f,bl:1f,ml:U,mt:1f,mr:U,mb:1f,7B:U}}})(1j 1E!==\'1v\'?1E:B);(E(){G h=I.3O.1i.hK;I.3O.1i.hK=E(a,b,c,d,e,f,g){G t=b.1q;if(t 5D I.7z){G w=t.K*((a.x/b.1r)/(t.K+t.2s));if(w>=t.rV()){t.1F(\'K\',w);F U}}P{F h.1W(I.3O.1i,a,b,c,d,e,f,g)}};I.7a.1i.F2=E(){if(1j I.7z===\'1v\'){F}R(G i=B.1y.N;i--;){if(B.1y[i]5D I.7z){B.mi(I.7z.pE());F}}};G j=I.J.1m.3m;I.J.1m.1n(I.7z.1i,{nD:E(){R(G a in B.4R){if(!B.2b[a]){2Y B.22[B.4R[a].2r]}}},g7:E(a,b,c){G d=B.4R[a];a=d.2r;b=d.24+b;I.6E.1i.g7.2W(B,[a,b,c])},hr:E(a,b,c){G d=B.4R[a];a=d.2r;b=d.24+b;I.6E.1i.hr.2W(B,[a,b,c])},hs:E(a,b){G c=j(B.22),4r=B.4R[a];a=4r.2r;R(G d in B.22){G e=3r(d,10);if(e>a){B.22[e+b]=c[e];if(!c[e-b]){2Y B.22[e]}}}},ku:E(a){G b=B.2b[a-1];31(B.4R[a-2]&&B.4R[a-2].2r===B.4R[a-1].2r){b=B.2b[a-2]+b;a--}F b},nm:E(a,b){G c=B.5N(b),4r=B.4R[c.1S],1S=4r.2r,2j=4r.24+c.2j;B.lh(a,c,1S,2j)}})})();(E(){G g=I.6E.1i.eL;I.6E.1i.eL=E(a,b,c,d,e){d=g.1W(B,a,b,c,d,e);G f=0,5g=0;R(G i=0;i<B.2b.N;i++){f+=B.2b[i].N;if(f+5g>=d){1P}if(B.1x[f+5g]===\'\\n\'||B.1x[f+5g]===\' \'){5g++}}F d-i+5g}})();(E(){if(1j 2X!==\'1v\'&&1j 4i!==\'1v\'){F}G i=8J(\'F3\').m8,rU=8J(\'9Q\'),rS=8J(\'c9\'),rN=8J(\'li\'),3O=8J(\'W\'),1u=8J(\'W\').1u;E 8g(d,e,f){G g=rU.gg(d);if(!g.eF){g.eF=(g.rE.2Z(\'li:\')===0)?Fa:80}G h=(g.rE.2Z(\'li:\')===0)?rN:rS,oP=h.8g({mB:g.mB,eF:g.eF,1Q:g.1Q,gn:\'oX\'},E(b){G c=\'\';if(e){b.Fd(e)}b.on(\'7f\',E(){f(c)});b.on(\'1b\',E(a){if(b.Fe===zZ){c+=a}})});oP.on(\'Ff\',E(a){if(a.Fg===he.rt){I.af(\'rt: Fi Fj to \'+g.mB+\':\'+g.eF)}P{I.af(a.Fk)}f(1k)});oP.7f()}E lw(c,d){G e=8J(\'fs\');e.Fm(c,E(a,b){if(a){I.af(a);bz a;}P{d(b)}})}I.J.87=E(b,c,d){E oZ(a){if(a){e.3F=1c r4(a,\'qX\');e.oU=b;c&&c.1W(d,e)}P{e=1k;c&&c.1W(d,1k,U)}}G e=1c 1u();if(b&&(b 5D r4||b.2Z(\'1b\')===0)){e.3F=e.oU=b;c&&c.1W(d,e)}P if(b&&b.2Z(\'c9\')!==0){lw(b,oZ)}P if(b){8g(b,\'qX\',oZ)}P{c&&c.1W(d,b)}};I.gp=E(b,c,d){b=b.2M(/^\\n\\s*/,\'\').2M(/\\?.*$/,\'\').4T();if(b.2Z(\'c9\')!==0){lw(b,E(a){I.gC(a.3s(),c,d)})}P{8g(b,\'\',E(a){I.gC(a,c,d)})}};I.gC=E(c,d,e){G f=1c i().mc(c);I.hg(f.7i,E(a,b){d&&d(a,b)},e)};I.J.j5=E(b,c){8g(b,\'\',E(a){Fq(a);c&&c()})};I.Fr=E(a,b,c,d){d=d||c;G e=I.2X.69(\'W\'),5n=1c 3O(a||b4,b||b4,d),8C=1c 3O(a||b4,b||b4,d);e.1L={};e.K=5n.K;e.O=5n.O;c=c||{};c.5n=5n;c.8C=8C;G f=I.3O||I.2F,9u=1c f(e,c);9u.5n=5n;9u.8C=8C;9u.7q=5n.2o(\'2d\');9u.h3=8C.2o(\'2d\');9u.k0=3O.k0;F 9u};G j=I.2F.1i.eh;I.2F.1i.eh=E(a,b){a=a||I.2X.69(\'W\');B.5n=1c 3O(a.K,a.O);B.8C=1c 3O(a.K,a.O);j.1W(B,a,b);B.7q=B.5n.2o(\'2d\');B.h3=B.8C.2o(\'2d\');B.k0=3O.k0};I.2F.1i.qR=E(){F B.5n.qR()};I.2F.1i.qP=E(a){F B.5n.qP(a)};I.2F.1i.9V=E(){if(!B.bb()){F}B.3A.5H(\'K\',B.K*I.5a);B.3A.5H(\'O\',B.O*I.5a);B.5n.K=B.K*I.5a;B.5n.O=B.O*I.5a;B.7q.3k(I.5a,I.5a);F B};if(I.3O){I.3O.1i.9V=I.2F.1i.9V}G k=I.2F.1i.bm;I.2F.1i.bm=E(a,b){k.1W(B,a,b);B.5n[a]=b;F B};if(I.3O){I.3O.1i.bm=I.2F.1i.bm}})();',62,2576,'|||||||||||||||||||||||||||||||||||||this|||function|return|var||fabric|util|width|||length|height|else||for|||true||canvas||||||||||||||Math|data|new|len||false|left|top|prototype|typeof|null|filters|object|extend|push|type|target|scaleX|group|scaleY|Image|undefined|selectionStart|text|_objects|createClass|fill|toObject|case|stroke|exports|set|center|Object|current|max|callSuper|style|imageData|Point|ctx|break|path|selectionEnd|lineIndex|originX|fire|opacity|call|controlX|source|get||controlY|styles|transform|offset||toFixed||points|color|fromObject|_textLines|initialize||Color|abs|originY|fontSize|angle|charIndex|upperCanvasEl|index|NUM_FRACTION_DIGITS|min|getContext|join|bounds|line|strokeWidth|obj|renderAll|concat|shadow|255|tempX|use|offsetY|tempY|coords|getAttribute|fontFamily|StaticCanvas|BaseFilter|strict|_this|matrix|strokeDashArray|skewX|replace|string|offsetX|slice|arguments|lineHeight|split|radius|skewY|addListener|apply|document|delete|indexOf||while|hiddenTextarea||||||||test|Intersection|viewportTransform|getImageData|sin|restore|Array|100|save|onComplete|scale|bind|clone|fontWeight|contextTop|textDecoration|parseFloat|parseInt|toString|continue|options|idx|backgroundColor|result|number|active|lowerCanvasEl|removeListener|setCoords|toSVG|onChange|src|weight|right|_set|charAt|match|leftOffset|cos|fontStyle|Canvas|_currentTransform|beginPath|colorStops|font|translate|getCenterPoint|markup|_getLineWidth|action|paths|styleDeclaration||lineTo|_getHeightOfLine||filter|||textBackgroundColor|getPointer|getObjects|clipTo|putImageData|toLive|lineWidth|floor|vpt|cacheProperties|getActiveGroup|window|forEach|minY|transformMatrix|getSource|none|round|repeat|image|map|activeObject|applyTo|PI|alpha|transformPoint|ATTRIBUTE_NAMES|isEditing|cursorLocation|lineLeftOffset|warn|iLen|degreesToRadians|backgroundImage|fillStyle|includeDefaultValues|selection|render|prop|parentNode|drawDashedLine|value|flipX|jlen|gradientTransform|segs|_styleMap|_char|trim|_selectionDirection|_getLineLeftOffset|Text|visible|minX|scaled||nodeName|moveTo|defined||strokeLineCap|flipY|overlayImage|_render||devicePixelRatio|objs|toDataURL|parsedDim|svg|iLine|removed|dim|rect|closePath|already|complexity|heightBy2|nodeCanvas|corner|actionPerformed|stateProperties|textAlign|_groupSelector|rotate|_onMouseMove|average|pow|xlink|strokeLineJoin|el2|array|_fontSizeFraction|getSvgStyles|instanceof|sqrt|add|_getWidthOfChar|setAttribute|_element|objects|_activeObject|_hoveredTarget|_getStyleDeclaration|get2DCursorLocation|charSpacing|word|clearContext|blur|eventjs|threshold|pointer|getWidth|overlayColor|fromElement|heightOfLine|mouse||getSvgTransform|offsets|getHeight|renderOnAddRemove||additionalSpace||viewBox|createElement|createCanvasElement|dirty|handlers|alignX|duration|boundaries|original|fillRect|removeFromArray|charWidthsCache|args|Path|charCount|__eventListeners|Shadow|sourcePath|crossOrigin|_iTextInstances|_createBaseSVGMarkup|strokeStyle|getBoundsOfCurve|klass|previous|preserveAspectRatio|getSvgTransformMatrix|alignY|keyCode|pathOffset|bottom|hasControls|IText|getSvgId|parseUnit|attr|_fromObject|resizeFilters|bound|topOffset|ceil|shiftKey|360|charHeight|atan2|switch|zoomY|commaWsp|listeners|_getWidthOfCharSpacing|strokeMiterLimit|animate|charOffset|oCoords|_updateTextarea|_fireSelectionChanged||currentObject|remove||firstChild|Rect|parseAttributes|zoomX|Group|startValue|_activeGroup|isLikelyNode|selected|end|setOptions|context|documentElement|skew|loaded|transparentCorners|newIdx|_points|_renderStroke|Polyline|contextContainer|sinTh|cosTh|Circle|padding|methodName|_getTransformedDimensions|_drawControl|propertySet|Textbox|moveCursor|mtr|resize|getElement|mask|decl|selectable|abort|objectCaching|endValue|Line|maxHeight|splice|widthCache|heightCache|rgba|_handleEvent|preventDefault|gradientDefs|getCoords|lines|_onMouseDown|Gradient|activeGroup|atop|aleft||setCursor|getAlpha|newValue|translateToOriginPoint||toUpperCase|loadImage||_getNonTransformedDimensions|getActiveObject|SHARED_ATTRIBUTES|defaultCursor|Ellipse|Polygon|xhr|request|brightness|pixels|bezierCurveTo|wrapperEl|interactive|distance|constructor|ElementsParser|zoom|key|_fontSizeMult|hsl|_savedProps|char|body|segsNorm|_previousOriginY|_previousOriginX|propPair|_cacheContext|decoration|nodeCacheCanvas|colorCache|hasRotatingPoint|PathGroup|hoverCursor|fillRule|leftCache|require|parsed|isCacheDirty|subpathStartX|subpathStartY|multiplyTransformMatrices|coordsParsed|setLineDash|scaling|boxWidth|svgUid|_currentCursorOpacity|clipboardData|_fire|capitalize|scriptEl|channel||words|borderColor|blocksize|_renderFill|newSelectionStart|_renderDashedStroke|stepW|stepH|invertTransform||async|stop|chnl|lockMovementY|lockMovementX|renderCursorOrSelection|setSource|RegExp|appendChild|numSpaces|isEmptyStyles|origin|_otherBy|ActiveXObject|globalCompositeOperation|_getWidthOfWords|point|appendPoints|circle|fabricCanvas|_setTextStyles|_initDimensions|topCache|cacheProp|getBoundingRect|isMoving|size|icenter|_onMouseUp|xPoints|start|linear|onDeselect|Function|ellipseMatrix|getRandomInt|targets|findTarget|_setLineDash|affectStroke|resizeType|url|lockUniScaling|lockScalingY|textBgRects|position|_initRetinaScaling|noise|translateMatrix|reNum|skipAbsolute|500|||cursorOffsetCache|setupState|clearRect|_renderControls|cleared|descendants|widthBeforeCursor|_findTargetCorner|containsPoint|getCenter|_centerObject|onload|log|axis1|axis2|dtheta|dynamicMinWidth|matcher|isContainedWithinObject|meetOrSlice|align|selectionDashArray|altKey|_createCacheCanvas|_setShadow|href|attrs|scaleMatrix|addClass|radial|getObjectScaling|Pattern|getSvgFilter|exitEditing|SVGID_|PiBy180|objectBoundingBox|getElementOffset|multFactor|wordsWidth|rgb|isAborted|endLine|lanczosLobes|cursorWidth|_onObjectRemoved|setElement|_splitTextIntoLines|status|diff|shouldStroke|maxX|__lineWidths|forbidScalingY|forbidScalingX|maxY|_dimensionAffectingProps||toArray|lockScalingX|||_by|600|tspan|_getLeftOffset|_removeShadow|otherBy|saveState|calcOffset|_isRetinaScaling|metaKey|128||escapeXml|contrast|getElementsByTagName|toLowerCase|Number|easing||_setBackstoreDimension|srcOff|skewed|cacheCanvasEl|normal||getZoom|70158|measureText|_reSpace|dstOff|intersectLinePolygon||throw|1000|_currentTickState|matrices|wordWidth|origPix|widthDiff|yDiff|selectionBackgroundColor|_getLineStyle|tvalues|xDiff|hasBorders|multiplyMatrices|shouldFill|parentMatching|calcTransformMatrix|statefullCache|cacheLanc|background|mouseYSign|ratioY|Observable|mouseXSign|ratioX|objsToRender|setPositionByOrigin|classNames|toDatalessObject|_toObject|marginY|marginX|enlivenObjects|calcCoords|retinaScaling|instances|http|onLoaded|mDelta|multiplier|jLen|fontList|_cacheCanvas|startAngle|endAngle|fromY|_currentTickCompleteState|elements|touchmove||mousemove|move|__lastClickTime|toBeParsed|supports|__lastPointer|aspectRatioAttrs|mousedown|_renderChars|String|||abortCursorAnimation|setAngle|onMouseDown|patternCtx|tan|addTransform|parentAttributes|changed|currentWidth|_onObjectAdded|created|img|propName|setAlpha|arc|translateX|quadraticCurveTo|sprayChunks|sprayChunkPoints|globalAlpha|translateY|patternCanvas|_getTopOffset|isRounded|widthAttr|STROKE_OFFSET|meet|Triangle|populateWithProperties|centeredRotation|setShadow|setSourcePath|selectionColor|heightAttr|initDelayedCursor|pop|segmentToBezierCache|_updateObjectsCoords|fontPaths||rx2|console|ry2|calcLinePoints|isDrawingMode||snapThreshold|farthest|nearest|realLineCharCount|_originalElement||dimension|Resize|imageMargins|elementToDraw|costh3|__widthOfSpace|_setWidthHeight|requestAnimFrame|||sinth3|opaque|widthOfCharsOnLine|overlay|__uid|Date|drawArc|side||drawControls|pattern|iVpt|default|FX_DURATION|clearContextTop|_hasITextHandlers|largestWordWidth|lineJustStarted|clear|dst|DPI|scx|time||origins|flipSign|skewSign|scy|setDimensions|toLocalPoint|sinHalfOffset|__selectionStartOnMouseDown|byValue|_offset|cosHalfOffset|maskCanvasEl|rand|_getFillAttributes|Dummy|_scaleObject|imageSmoothingEnabled|superclass|lockScalingFlip|properties|_initStatic|avg|alpha1|newScaleX|||newScaleY|mode|getSelectionStartFromPointer||cursor|areHostMethods|isNaN|getUniqueId|rcpScaleX|rcpScaleY|||activeTarget|_searchPossibleTargets|_fireOverOutEvents|rotatePoint|mouseout|radiansToDegrees|port|copy|boundsWidth|boundsHeight|cssScale|listener|_getNewSelectionStartFromOffset|commonAttributes|dimY|getScrollLeftTop|linearGradient|setActiveObject|dimX|setStyle|setOpacity|_calculateCurrentDimensions|allRules|_onResize|rules|getCurrentCharFontSize|makeElementUnselectable|reduce|_onMouseOut|_onMouseEnter|_onMouseWheel|_onContextMenu|passive|tmpCanvas|contains|_onGesture|_onDrag|_onOrientationChange|reviver|_onShake|_onLongPress|normalizeValue|isShortNotation|aCoords|srcData|destData|normalizeAttr|cssRules|offsetTo|__lineHeights|offsetFrom|red|__corner|mouseMoveHandler|originXOffset||setTimeout|ratioH|data2|weights|||green|saturate|blue|drawImage|easeOutBounce|drawObject|getById|family|_clearCache|__isMousedown|selectProp|toRgb|className|newLineStyles|resolveGradient|wrapElement|prevStyle|_removeCharsFromTo|format|off|insertChars|inter|rotatingPointOffset|minScaleLimit|||__setBgOverlay|strokeText|fillText|_moveRight|charsToRender|stateful|Sepia|draw|insertCharStyleObject|lineOffset|iMatrix|_getLeftTopCoords|limit|currentAlpha|enableRetinaScaling|rot|vptCoords|parse|centeredScaling||__skipDimension|currentTrans|altActionKey|try|method|ruleObj|loadSVGFromURL|adjust|stopImmediatePropagation|easeInBounce||startLine|finalWidth|Mask|perPixelTargetFind|Invert|Grayscale|_createCanvasElement|contrastF|loadSVGFromString|textLength|newTextLength|applyViewboxTransform|attributes|editing|freeDrawingBrush|_forceClearCache|loading|setSelectionStart|charsToInsert|ellipse|inCompositionMode|_resetCurrentTransform|viewBoxWidth|checkIfDone|_setOriginToCenter|viewBoxHeight|createImage|val|normalize|parseTransformAttribute|hue2rgb|fromSource|thisStyle|scrollLeftTop|currentStart|contextCache|sqrtb2ac|camelize|chars|wrapped|currentEnd|centerTransform|box|b2ac|substring|_mouseUpITextHandler|process|currentLineStylesCloned|parseSVGDocument|_setLineStyle|DEFAULT_SVG_FONT_SIZE|readyState|_cursorTimeout1|before|exec|currentStyle|onStart|lockSkewingX|lockSkewingY|insertNewlineStyleObject|shiftLineStyles|spaceWidth|indexOnOtherLine|onreadystatechange|_charWidth|visibility|cssText|dimNoSkew|textOnLine|caching|scrollTop|newDimMouse|__newClickTime|5625|getVpCenter|prevWidth|scrollLeft|isControlVisible|_setObjectScale|touchend|editable|changeX|changeY|_controlsVisibility|destination|indexOnLine|_tick|scales|lockRotation|justify|originalSet|gradientUnits|signH|th3|strokeRect|_renderTextLine|getSrc|shouldUseAttachEventDetachEvent|signW|_filteredEl|applyFilters|multH|toRgba|nodeArray|mTheta|multW|subTarget||translatePart|||root|addFactor|row|offX|rotateMatrix|getFunctionBody||bbox|_removeEventListener|_restoreObjectsState|ignoreZoom||_initPattern|_discardActiveObject|discardActiveObject|_calcBounds|setActiveGroup|discardActiveGroup|_angle|_setCursorFromEvent|currentHeight|event|_setSVGObject|sendToBack|_join|_initGradient|_setOptions|xcount|bringToFront|sendBackwards|boundsOfCurveCache|cut|www|bringForward|_setSVGTextLineText|dispose|patternImgSrc|_getCursorBoundaries|_getHeightOfChar|lineTop|textLeft|commandLength|jpeg|toJSON|BaseBrush|_getImageLines|removeChars|_renderTextDecoration|_setBrushStyles|Mid|getScript|textTop|makeElement|offsetsAndBlur|stopPropagation|shadowColor|_originalOriginY|_originalOriginX|shadowBlur|shadowOffsetX|_previousPointer|groupSelector|isClick|_isCurrentlyDrawing|shadowOffsetY|_resetShadow|translateToGivenOrigin|PencilBrush|_renderTextLinesBackground|fBoxY|item|hasStateChanged|modified||currentPath|unselectable|objectLeftTop|onMouseMove|onMouseUp|forEachObject|QqTt|colorAttributes|multY|_b|_g|CcSs|_r|getViewportTransform|createPath|_getTextHeight|getAngle|cacheHeight|cacheWidth|saveCoords|radialGradient|addWithUpdate|_moveLeft|idsToXlinkMap|clipContext|getterName|_getCacheCanvasDimensions|feMergeNode|selectionX1Y1|selectionX2Y2|setterName|capitalizedPropName|moveCursorRight|Font|quality|Sepia2|onselectstart|newSelectionEnd|dotWidth|dotWidthVariance|stopObserving|err|borderScaleFactor|valueOf|catch|parsedAttributes|supportsLineDash|observe|cornerSize|_renderBackground|compositionStart|G_vmlCanvasManager|every|__lastLastClickTime|doneH|_isMeasuring|nodeValue|prevCompositionLength|_updateAndFire|div|drawDot|animateColor|setSelectionStartEndWithShift|_getTextOnPreviousLine|addColorStop|endColor|reOpacity|py2|_getWidthOfCharsAt|doneW|missingViewBox|missingDimAttr|elastic|easeOutCubic|addSprayChunk|easeInOutCubic|easeInQuart|commonRender|easeOutQuart|easeInOutQuart|easeInQuint|getPatternSrc|easeOutQuint|easeInOutQuint|_convertPercentUnitsToValues|lanczos|easeInSine|topLeft|easeOutSine|easeInOutSine|01|widthBy2|cursorDuration|easeInExpo|easeOutExpo|easeInOutExpo|patternWidth|patternHeight|centeredKey|easeInCirc|easeOutCirc|easeInOutCirc|selectionKey|easeInElastic|px2|selectionBorderColor|selectionLineWidth|easeOutElastic|easeInOutElastic|easeInBack|easeOutBack|easeInOutBack|_removeStyleObject|https|invoke|reOffsetsAndBlur|find|yMult|makeBoundingBoxFromPoints|BLUR_BOX|preserveObjectStacking|snapAngle|getElementById|elList||isImage|Element|requestFs|_moveCursorUpOrDown|overline|easeInOutBounce|widthOfChar|makeEdgeToOriginGetter|Blend|Multiply|parsePointsAttribute|tintB|activeGroupObjects|contextTopDirty|decorations|tintG|tintR|_applyCharStylesGetWidth|_shouldCenterTransform|CANVAS_INIT_ERROR|Tint|textContent|infixWidth|through|propertyValuePairs|property|calcVectorAngle|_normalizePointer|underline|oLen|from|controlsAboveOverlay|restorePointerVpt|_animate|class|Left|temp|skipCallbacks|DOCTYPE|onerror|DOMParser|RemoveWhite|evented||parseFromString|xml|offsetEnd|Pixelate|_setImageSmoothing|_measureLine|setControlsVisibility|drag|polygon|||_getControlsVisibility|_copyDone|setBackgroundImage|wordCount||Noise||lastX|lastY|createAccessors|replaceChild|newLeft|newTop|moveX|hostname|moveY|docElement|scaleOffset|foundMatch|infix|originA|originB|symbol|__setBgOverlayImage|_skewObject|__setBgOverlayColor|parsePreserveAspectRatioAttribute|sinth2|Error|copiedTextStyle|_ctrlKeysMapDown|actualMouseByOrigin||constraintPosition|total|_applyCanvasStyle|scalarAdd|defs|insertChar|newDim|_ctrlKeysMapUp|doc|GradientTransparency|multiply|_renderTextCommon|cornerHypotenuse|newTheta|realLineHeight|attributesMap|ownerDocument|moveCursorLeft|localMouse|somethingRemoved||toX|setViewportTransform|offsetAttributes|ingoreVpt|midPointFrom|toY|calcViewportBoundaries|removeStyleObject|_removeSingleCharAndStyle||_measureText|CommonMethods|_|lastDist|output|_isEqual|Subclass||saveProps|hasRoated|rightAngleLocked|leftAngleLocked|getBoundingClientRect|added|_removeExtraneousStyles|_getIndexOnLine|defaultView|maxWidth|uaT|ubT|lastHeight|upperCanvas|lineLen|renderCanvas|_calcTextareaPosition|out|over|linecap|getKlass|moveCursorDown|normalizedPointer|moveCursorUp|_getSelectionForOffset|topRight|bottomLeft|makeElementSelectable|halfSide|lineLeft|_renderBackgroundOrOverlay|subtractEquals|str|getSvgColorString|_getHeightOfSingleLine|_getWidthBeforeCursor|_getFontDeclaration|colorNameMap|restartCursorIfNeeded|deselected|_getCursorBoundariesOffsets|sourceFromHex|sourceFromRgb|sourceFromHsl||Convolute|_discardActiveGroup|_calcDimensionsTransformMatrix|_rgbToHsl|deactivateAll|_setCornerCoords|_hypotenuse||removeChild|useCopiedStyle|_realizeGroupTransformOnObject|_unwindGroupTransformOnObject|realizeTransform|Brightness|qrDecompose|_keysMap|paste|_toObjectMethod|wrappedHandler|denom|_getAngleValueForStraighten|excludeFromExport|_moveCursorLeftOrRight|preserveAR|_initFilters|Microsoft|_setSVGBgOverlayColor||_setSVGBgOverlayImage|XMLHTTP|wheel|yPoints|version|touchstart|getBoundsOfArc|req|rotateVector|pointBR|minimumScale|_findCrossPoints|_src|getCurrentCharStyle|removeEventListener|GET|org|createImageAndCallBack|attachEvent|||otherAlpha|_getMultipleNodes|_reSpacesAndTabs|_reNewline|_lastScaleY|_lastScaleX|maxXY|mouseup|parameters||nodeList|_shouldRender|props|detachEvent|searchTarget||delegatedProperties|_setObjectActive||reNonWord|skewMatrix|hypotFull|rowIndex|translateToCenterPoint|000000|searchWordBoundary||numNewLines|originYOffset|Saturate|||findLineBoundaryLeft|getSelectedText|__origHasControls|numTotalObjects|Contrast|getTextboxControlVisibility|down|getTop|getLeft|shouldGroup|boundingRect|ColorMatrix|gxA|gxB|_applyPatternGradientTransform|gxG|reset|gxR|intersectsWithObject|_setStrokeStyles|weightsAlpha|_clearTextArea|Collection|img2|currentAction|_move|setOnGroup|_constrainScale|destImage|_transformDone|clearTimeout|arcToSegments|_setStyleDeclaration|__oldScaleX|destImg|retina|scroll|_extendStyles|range2Y|objectScale|selectorMatches|range2X|pointerY|_updateCacheCanvas|coordsStr|clientX|finish|clientY|_getPointer|addEventListener|fromX|touches|origHeight|scaledWidth|scaledHeight|newZoom|resetObjectTransform|noScaleCache|originalInteractive|nodelist|getSelectionStyles|_captureDrawingPath|colorAlpha|loadFromJSON|_stopEvent|borderOpacityWhenMoving|butt|copiedText|cornerStrokeColor|borderDashArray|153|102|minWidth|_addPoint|_getClipboardData|_animateCursor|numPatterns|backgroundImageStretch|createJPEGStream|cloneWithoutData|createPNGStream|cornerColor|insertAt|cornerStyle|cornerDashArray|_initClipping|binary|_setBgOverlay|miter|_enlivenObjects|||JSON|Buffer|toDataURLWithMultiplier|jpg|__toDataURL|newVp|__toDataURLWithMultiplier|needsItsOwnCache|cropping|png|setObjectsCoords||isContainedWithinRect|intersectsWithRect|_setObject|_collectObjects|_groupSelectedObjects|groupObjects|isActiveLower|_createGroup|removeWithUpdate|_createActiveGroup|_updateActiveGroup|_removeDefaultValues|_getRotatedCornerCursor|_setCornerCursor|ECONNREFUSED|180||_setupCompositeOperation|||drawSelectionBackground|_setOpacity|skewing|_onScale|drawCacheOnCanvas|protocol|_setFillStyles|_performTransformAction|_beforeScaleTransform|random|drawBordersInGroup|drawBorders|_transformObject|addEquals|HTTPS|_beforeTransform|evenodd|_handleGrouping|_clearSelection|HTTP|_shouldGroup|URL|getMinWidth|which|_onMouseMoveInDrawingMode|lineChars|_resetOrigin|_wrapLine|falseFunction|getLocalPointer|_onMouseDownInDrawingMode|_restoreOriginXY|_scaling|_wrapText|_handleCursorAndEvent|_maybeGroupObjects|getPointByOrigin|resolveNamespace|_finalizeCurrentTransform|xFull|yFull||_onMouseUpInDrawingMode|__onMouseMove||__onMouseUp|__onMouseDown|__onLongPress|__onShake|__onOrientationChange|__onMouseWheel|__onDrag|intersection|__onTransformGesture|longpress|shake|orientation|numLoadedObjects|gesture||_generateStyleMap|forceAsync|enlivenPatterns|numLoadedPatterns|contextmenu|mouseenter|_bindEvents|groupSVGElements|_createTextCharBg|_createTextCharSpan|_getSVGLineTopOffset|_setSVGTextLineChars|cursorMap|_drawObjectsControls|removeListeners|deactivateAllWithDispatch|_calcRotateMatrix|dimensionMatrix|destroy|skewMatrixY|_setActiveGroup|_setActiveObject|_removeCharsNearCursor|Right|clip|absolute|customTransformMatrix|_copyCanvasStyle|isTransparent|moveCursorWithoutShift|||moveCursorWithShift|subTargetCheck|anglePart|scalePart|skewXPart|skewYPart|addTranslateX|flipXPart||addTranslateY|flipYPart|_checkTarget|cx1|||offsetFromRightEdge|curAngle|deep||_rotateObject|keys||_flipObject|_scaleObjectEqually||isVML|equally|_setLocalMouse|atan|offsetFromLeftEdge|||_setObjectSkew|lastMouseByCenter|actualMouseByCenter|_changeSkewTransformOrigin|_translateObject|theta|_setupCurrentTransform|setControlVisible|_getActionFromCorner|_getOriginFromCorner|rightEdge|_shouldClearSelection|cy1|originalColor|isTargetTransparent|vptPointer|invertedM|segmentToBezier|coordProps|_drawSelection|renderTop|_getLeftToOriginX|_getTopToOriginY|_chooseObjectsToRender|_initEventListeners|_createUpperCanvas|_initWrapperElement|fireRightClick|stopContextMenu|skipTargetFind|targetFindTolerance|cp1X|containerClass|_callback|rotationCursor|crosshair|freeDrawingCursor|setRadius||startY|endX|endY|largeFlag|altSelectionKey|cp1Y|textBeforeCursor|isValidRadius|textAfterCursor|cp2X|cp2Y|large|sweep||widthOfLine|uniScaleKey|uniScaleTransform|_initInteractive|piBy2|supportLineDash|TypeError|some|_initRxRy|getPattern|xA0||getPatternSrcFunction|_calcDimensions|dotDistance|_getOptimizedRects|ilen|optimizeOverlapping|_toString|commandLengths|repeatedCommands|mzlhvcsqta|ctrlKey|_parsePath|_setPositionDimensions|_parseDimensions|_renderPathCommands|randomOpacity|density|circleColor|circleRadius|addPoint|emptyFunction|convertPointsToSVGPath|_reset|_finalizeAndAddPath|_prepareForDrawing|IS_DONTENUM_BUGGY|lineJoin|lineCap|toDataURLWithQuality|repeatedCommand|klen|forwardDelete|addMethods|deltaX|deltaY|_findNewUpperIndex|parseDimensionsFromPaths|_findNewLowerIndex|unshift|isSameColor|shift|subclasses|_updateObjectCoords|objectTop|unknown|__uniqueID|createSVGRefElementsMarkup|createSVGFontFacesMarkup|createListener||_renderObject|_restoreObjectState|_originalLeft|_originalTop|onClick|_clickHandlerInitialized|onCompositionEnd|onCompositionUpdate|_getBounds|desc|onCompositionStart|handler|minimumScaleTrigger|createWrappedHandler|createDispatcher|_initElement|xmlns|onInput|_initConfig|onKeyUp|onKeyDown|0px|distanceBtwNextCharAndCursor|_stroke|srcElement|SVG|filtered|getSvgSrc|DTD|isTouchSupported|_isObjectMoved|setCursorByClick|__mousedownY|__mousedownX|pngCompression|initClicks||_findMargins|encoding|||_needsResize|initMouseupHandler|_setSVGObjects|_setSVGHeader|Max|initMousedownHandler|CSS_CANVAS|_setSVGPreamble|fromURL|svgViewportTransformation|__serializeBgOverlay|_toObjects||straighten|fxStraighten|__lastSelected|__lastIsEditing|dblclick|viewportCenterObjectV|viewportCenterObjectH|viewportCenterObject|centerObject|centerObjectV|centerObjectH||Vpt|after|_renderOverlay|_renderObjects|isDoubleClick|tripleclick|absolutePan|alphaFac|isTripleClick|zoomToPoint|_setCssDimension|cssFloat|cssOnly|styleFloat|setSelectionInBoundaries|lower|supportsOpacity|insertNewline|newCharIndexOnPrevLine|supportsFilters|maskEl|getRetinaScaling|maskData|setOverlayColor|setBackgroundColor|setOverlayImage|_initOptions|_createLowerCanvas|_ilen|_jlen|onBeforeScaleRotate|host|nodeType|||insertStyleObjects|allowTouchScrolling|getElementStyle|not|indexStyle|exited|_restoreEditingProps|getComputedStyle|userSelect|MozUserSelect|WebkitUserSelect|KhtmlUserSelect|complete|addParamToUrl|Msxml2||initMouseMoveHandler|entered|proto|_textBeforeEdit|feMerge|_setEditingProps|_saveEditingProps|focus|emptyFn|initHiddenTextarea|exitEditingOnOthers|oBlur|feOffset|enterEditing|selectLine||selectWord|feGaussianBlur|findLineBoundaryRight||findWordBoundaryLeft|selectAll|_parseShadow|hermite|createPattern|_cursorTimeout2|delay|patternOffsetY|patternOffsetX|Infinity|tick|sliceByTwo|hermiteFastResize|_onTickComplete|bilinearFiltering|forObject|lanczosResize|_removeCanvasHandlers|_initCanvasHandlers|initDoubleClickSimulation|userSpaceOnUse|initCursorSelectionHandlers|getRadialCoords|getLinearCoords|||tmpCtx|lanczosCreate|getColorStop|initRemovedHandler|isRGBa|initAddedHandler|_getWidthOfSpace|fromHsl|_deleteLineStyle|fromRgb|_deleteStyleDeclaration|_applyFontStyles|rcpRatioX|rcpRatioY|calculateColor|white|colorEasing|srcImg|_getFontCache|_getCacheProp|asin|525|positions|_renderCharDecoration|destPixels|reAllowedSVGTagNames|ratioWHalf|ratioHHalf|polyline|backgroundImageOpacity|reViewBoxTagNames|_renderChar|_hasStyleChanged|reNotAllowedAncestors|_renderCharsFast||j2len|centerY|centerX|reAllowedParents|fillOpacity|rule|dasharray|linejoin|miterlimit|808080|strokeOpacity|259|anchor|getCurrentCharColor|hidden|_setStrokeFillOpacity|MIN_TEXT_WIDTH|renderSelection|renderCursor|reHex|reHSLa|reRGBa|multiplierY|transforms|transformList|otherSource|reTransformList|reTransform|operation|parseStyleString|parseStyleObject|toHex|hsla|_getTextWidth|getGlobalStylesForElement|elementMatchesRule|_source|_renderText|doesSomeParentMatch|_renderTextFill|_renderTextStroke|elementById|_tryParsingColor|inter4|inter3|inter2|inter1|intersectPolygonRectangle|intersectPolygonPolygon|parseUseDirectives|substr|intersectLineLine|appendPoint|cloneNode|oldLength|setSelectionEnd|instantiated_by_use|initBehavior|hasAncestorWithNodeName||lerp|getGradientDefs|getCSSRules|parseElements|cursorDelay|cursorColor|editingBorderColor|textHeight|scaledDiff|subtract|lineHeightDiff|createCallback|_createObject|originalFill|textHeightScaleFactor|createObject|_shouldClearDimensionCache|createObjects|numElements|callback|loadXML|XMLDOM|renderLinesAtOffset|responseText|200|_setSVGTextLineJustifed|declaration|400|parseStyleAttribute|_getSVGLeftTopOffsets|textAndBg|_getSVGTextAndBg|parseFontDeclaration|_setSVGTextLineBg|_wrapSVGTextAndBg|_setSVGBg|textSpans|setZoom|700|900|300|responseXML|lighter|tagName|scalarAddEquals|scalarSubtract|scalarSubtractEquals|bolder|bold|caps|small|119|italic|multiplyEquals|divide|333|divideEquals|lte|gte|name|selectNodes|_abortCursorAnimation|distanceFrom|setXY|removeAttribute|setX|setY|setFromPoint|swap|Coincident|Parallel|alphabetic|textBaseline|transparent|setSelectionStyles|toHsl|toHsla|toHexa|toGrayscale|toBlackWhite|127|overlayWith|Roman|New|Times|aqua|00FFFF|black|0000FF|fuchsia|FF00FF|gray|grey|008000|lime|display|250|clipPath|00FF00|maroon|metadata|800000|view|navy|000080|skipFillStrokeCheck|marker|olive|orange|FFA500|easeInCubic|easeInOutQuad|easeOutQuad|purple|800080|easeInQuad|03|ease|984375|625|9375|FF0000|silver|C0C0C0|teal|008080|FFFFFF|yellow|FFFF00|fromRgba|fromHsla|fromHex|FF|sort|createLinearGradient|msRequestAnimationFrame|createRadialGradient|LINEARGRADIENT|oRequestAnimationFrame|mozRequestAnimationFrame|webkitRequestAnimationFrame|bilinear|requestAnimationFrame|sliceHack|send|urlencoded|form|naturalWidth|application|naturalHeight|lighten|Type|darken|findWordBoundaryRight|Content|difference|getNumNewLinesInSelectedText|setRequestHeader|PUT|POST|screen|open|SourceAlpha|stdDeviation|feFlood|flood|000|feComposite|in2|operator|SourceGraphic|XMLHttpRequest|Could|140|131|534|272|script|head|203|168|686|349|351|clientTop|189|overCursor|769|clientLeft|paddingTop|paddingLeft|393|borderTopWidth|borderLeftWidth|fixed|element|backgroundVpt|overlayVpt|htmlFor|childNodes|9999|hasLayout|webkitImageSmoothingEnabled|mozImageSmoothingEnabled|msImageSmoothingEnabled|oImageSmoothingEnabled|setWidth|setHeight|backstoreOnly|float|pageY|800|createImageData|pageX|relativePan|toDatalessJSON|fxStraightenObject|straightenObject|_resetWidthHeight|suppressPreamble|UTF|toBuffer|standalone|PUBLIC|W3C|setSrc|changedTouches|getOriginalSize|textarea|autocapitalize|setCrossOrigin|999|keydown|Graphics|keyup|svg11|input|dtd|2000|1999|space|compositionstart|preserve|compositionupdate|Created|compositionend|with|Fabric|click|hasMoved|uniqueID__|face|tfont|tsrc|css|CDATA|originalState|orignalPaths|DataURLExporter|EMPTY_JSON|CircleBrush|SprayBrush|PatternBrush|apos|quot|amp|5522847498|hasOwnProperty|getRy|NEGATIVE_INFINITY|POSITIVE_INFINITY|getRx|setData|void|triangle|getData|negative|can|getDownCursorOffset|and|required|attribute|getUpCursorOffset|getRadiusY|getRadiusX|container|fxRemove|fxCenterObjectV|fxCenterObjectH|707106|_resetObjectTransform|mouseover|Down|Up|CursorOffset|getSkewY|getSkewX|clearFabricFontCache|upper|relative|findWordBoundary|findLineBoundary|touch|initElement|getSelectionContext|moveCursorLeftWithoutShift|moveCursorLeftWithShift|With|Shift|outShift|moveCursorRightWithShift|moveCursorRightWithoutShift|getSelectionElement|scaleToHeight|scaleToWidth|getBoundingRectHeight|getBoundingRectWidth|textbox|leftline|bottomline|__cachedLines|rightline||topline|isOnScreen|adjustPosition|subTargets|viewportCenter|viewportCenterV|centerV|viewportCenterH|centerH|setColor|setPatternFill|setGradient|isType|fff|_refreshControlsVisibility|xmldom|button|cloneAsImage|patternTransform|_setCenterToOrigin|miterLimit|rotating|443|moving|boolean|setEncoding|statusCode|error|errno|scaleEqually|connection|refused|message|toggle|readFile|reverse|loadFromDatalessJSON|_toDataURL|eval|createCanvasForNode|nonzero|isEmpty|_toDataURLWithMultiplier|trigger|stringify|808000'.split('|'),0,{}));eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(p(j){"1L 1M";7 k=j.Q||(j.Q={}),14=k.K.1k.14,15=k.K.1k.15;8(k.B){k.1N(\'Q.B 1O 1P 1Q\');x}7 l=k.R.16.1l.1R();l.17(\'q\',\'v\',\'s\',\'N\');7 m=k.R.16.18;m[\'q\']=o;m[\'v\']=o;m[\'s\']=o;m[\'1S\']=o;m[\'t\']=o;m[\'z\']=o;m[\'N\']=o;m[\'1T\']=o;m[\'1m\']=o;7 n=k.1n.16.S;n[\'1U\']=o;n[\'1V\']=o;n[\'1W\']=o;n[\'1X\']=o;n[\'1o\']=o;n[\'1m\']=o;n[\'1Y\']=o;n[\'1Z\']=o;n[\'1o\']=o;n[\'C\']=o;k.B=k.K.21(k.R,k.22,{23:\'24\',q:25,N:5,v:20,s:M,1l:l,S:n,18:m,19:0,1a:p(){3.T(\'1a\')},26:p(a,b){b||(b={});3.4=1b k.1n([],{1c:M,U:0});3.1d=o;3.27(b);3.1d=M;3.V(a)},V:p(a){8(3.4){28(a.D!==0&&3.4.W()>=a.D){3.4.29(3.4.6(3.4.W()-1))}E(7 i=0;i<a.D;i++){8(3.4.6(i)===1p){3.4.2a(1b k.R(a[i]))}1e{3.4.6(i).V(a[i])}}}3.T(\'V\',a)},1q:p(a){8(3.1d){x}8(!a){a=k.K.2b().2c(\'2d\');3.2e(a)}3.2f=3.u.2g(3.2h);3.2i();7 b=3.C;3.C=\'F\';3.t=3.2j(a);3.C=b;3.z=3.2k(a);3.1r(a)},1r:p(a){7 b=k.K.2l(2m,2n);3.19=b;8(3.4){7 c=0,2o=0,G=0,O=0,X=0,Y=1s(3.v),2p=0,2q=3.4.6(0).t;E(7 i=0,w=3.u.D;i<w-1;i++){L=3.4.6(i).t;8(3.4.6(i+1)&&[\'i\',\'I\',\'f\',\'l\',\'r\',\'y\',\'j\'].1t(3.4.6(i+1).u)>-1)L*=0.5;X+=L+Y};X-=Y;c=-(((X/2)/3.q)/(A.Z/11));8(3.s)c=-c;7 d=0,P=3.s?-1:1,1f=0,1g=0,u=\'\',L=0;E(7 i=0,w=3.u.D;i<w;i++){8(b!==3.19)x;E(7 e 1h 3.S){3.4.6(i).9(e,3.H(e))};3.4.6(i).9(\'C\',\'1u\');3.4.6(i).9(\'F\',(d));3.4.6(i).9(\'J\',(0));3.4.6(i).1i(0);3.4.6(i).9(\'U\',0);L=3.4.6(i).t;8(3.4.6(i+1)&&[\'i\',\'I\',\'f\',\'l\',\'r\',\'y\',\'j\'].1t(3.4.6(i+1).u)>-1)L*=0.5;1f=((L+Y)/3.q)/(A.Z/11);c=P*((P*c)+1g);G=c*(A.Z/11);1g=1f;3.4.6(i).1i(c);3.4.6(i).9(\'J\',P*-1*(A.1v(G)*3.q));3.4.6(i).9(\'F\',P*(A.1w(G)*3.q));3.4.6(i).9(\'U\',0);3.4.6(i).9(\'1c\',M)}7 f=3.4.H(\'12\');7 g=3.4.H(\'13\');7 h=3.4.H(\'1j\');3.4.9(\'12\',1);3.4.9(\'13\',1);3.4.9(\'1j\',0);3.4.1x();3.4.2r();3.4.1y();3.4.9(\'12\',f);3.4.9(\'13\',g);3.4.9(\'1j\',h);3.t=3.4.t;3.z=3.4.z;3.4.F=-(3.4.t/2);3.4.J=-(3.4.z/2)}},2s:p(a){8(3.4){7 b=0,G=0,O=0;7 c=0;8(3.s){c=0.5}8(3.H(\'C\')===\'1u\'||3.H(\'C\')===\'2t\'){O=(3.v/2)*(3.u.D-c)}1e 8(3.H(\'C\')===\'2u\'){O=(3.v)*(3.u.D-c)}7 d=3.s?1:-1;E(7 i=0,w=3.u.D;i<w;i++){b=d*(-i*1s(3.v,10)+O);G=b*(A.Z/11);E(7 e 1h 3.S){3.4.6(i).9(e,3.H(e))}3.4.6(i).9(\'J\',(d-A.1v(G)*3.q));3.4.6(i).9(\'F\',(d+A.1w(G)*3.q));3.4.6(i).1i(b);3.4.6(i).9(\'U\',0);3.4.6(i).9(\'1c\',M)}3.4.1x();8(3.s){3.4.J=3.4.J-3.z*2.5}1e{3.4.J=0}3.4.F=3.4.F-3.t/2;3.4.1y();3.t=3.4.t;3.z=3.4.z;3.4.F=-(3.4.t/2);3.4.J=-(3.4.z/2)}},1z:p(a,b){8(!3.1A)x;8(!3.4)x;a.2v();3.1B(a);7 c=A.2w(3.12,3.13);3.1C&&k.K.2x(3,a);E(7 i=0,w=3.4.W();i<w;i++){7 d=3.4.6(i),2y=d.2z,2A=d.2B;8(!d.1A)2C;d.1z(a)}3.1C&&a.1D();a.1D();3.1E()},1F:p(a,b){3.T(\'1F\',a,b);8(3.4){3.4.9(a,b);8(a 1h 3.18){3.1q();3.1E()}}},1G:p(a){7 b=14(3.T(\'1G\',a),{q:3.q,v:3.v,s:3.s,N:3.N,});8(!3.2D){3.2E(b)}x b},2F:p(){x\'#<Q.B (\'+3.1a()+\'): { "u": "\'+3.u+\'", "1H": "\'+3.1H+\'", "q": "\'+3.q+\'", "v": "\'+3.v+\'", "s": "\'+3.s+\'" }>\'},1I:p(a){7 b=[\'<g \',\'1B="\',3.2G(),\'">\'];8(3.4){E(7 i=0,w=3.4.W();i<w;i++){b.17(3.4.6(i).1I(a))}}b.17(\'</g>\');x a?a(b.1J(\'\')):b.1J(\'\')}});k.B.2H=p(a){x 1b k.B(a.u,15(a))};k.K.2I(k.B);k.B.2J=M})(2K 1K!==\'1p\'?1K:3);',62,171,'|||this|letters||item|var|if|set|||||||||||||||true|function|radius||reverse|width|text|spacing|len|return||height|Math|CurvedText|textAlign|length|for|left|angleRadians|get||top|util|cw|false|range|align|multiplier|fabric|Text|delegatedProperties|callSuper|padding|setText|size|textWidth|space|PI||180|scaleX|scaleY|extend|clone|prototype|push|_dimensionAffectingProps|_isRendering|complexity|new|selectable|__skipDimension|else|thisLetterAngle|lastLetterAngle|in|setAngle|angle|object|stateProperties|shadow|Group|strokeWidth|undefined|_initDimensions|_render|parseInt|indexOf|center|cos|sin|_calcBounds|saveCoords|render|visible|transform|clipTo|restore|setCoords|_set|toObject|fontFamily|toSVG|join|exports|use|strict|warn|is|already|defined|concat|fill|fontSize|backgroundColor|textBackgroundColor|textDecoration|stroke|fontWeight|fontStyle||createClass|Collection|type|curvedText|50|initialize|setOptions|while|remove|add|createCanvasElement|getContext||_setTextStyles|_textLines|split|_reNewline|_clearCache|_getTextWidth|_getTextHeight|getRandomInt|100|999|curAngleRotation|fixedLetterAngle|minw|_updateObjectsCoords|_renderOld|justify|right|save|max|clipContext|originalScaleFactor|borderScaleFactor|originalHasRotatingPoint|hasRotatingPoint|continue|includeDefaultValues|_removeDefaultValues|toString|getSvgTransform|fromObject|createAccessors|async|typeof'.split('|'),0,{}));eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('4j.4l={4e:4g(R,G,B){4f{r:R,g:G,b:B}},4i:4g(){4f 4h.4e([0,0,0,1,1,2,3,3,3,4,4,4,5,5,5,6,6,7,7,7,7,8,8,8,9,9,9,9,10,10,10,10,11,11,12,12,12,12,13,13,13,14,14,15,15,16,16,17,17,17,18,19,19,20,21,22,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,39,40,41,42,44,45,47,48,49,4d,4b,3Y,3P,3S,3M,3W,2F,1J,3h,3w,3x,2i,1p,1a,2x,t,H,2K,T,1d,1n,2M,3A,1O,2W,Q,2N,3K,2j,W,2C,3D,2E,1F,d,2H,2b,Y,V,1C,m,2f,1U,Z,1Q,1B,2I,1i,2c,O,2O,1f,j,1M,1X,1N,1h,y,q,1b,1c,1y,1H,1T,2v,3u,3o,3J,3y,3I,2V,3U,2U,2B,3t,2Q,3z,1A,2P,n,2r,3m,3b,3V,2z,3R,3q,o,o,3Q,2T,2R,3B,3O,2G,1I,1g,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,1x,3n,1Y,1Y,1r,N,N,w,w,1t,2s,2s,1o,1o,U,2L,2L,A,A,A,1L,E,E,F,F,p,p,p,x,i,i,l,l,l,f,e,e,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,0,1,2,2,3,5,5,6,7,8,8,10,11,11,12,13,15,15,16,17,18,18,19,21,22,22,23,24,26,26,27,28,29,31,31,32,33,34,35,35,37,38,39,40,41,43,44,44,45,46,47,48,3Z,4c,4d,3T,4b,1q,3P,4a,3S,3M,3X,2l,3F,2F,3g,1J,2Z,3h,2m,3x,2X,2i,1u,3L,1p,1a,1v,2x,t,2y,3H,H,2K,z,T,1d,1K,1n,2d,1S,2M,1k,1O,2g,2W,2u,2Y,Q,2h,2N,3K,1s,3f,3v,1D,2C,v,3D,1m,1Z,2E,1F,d,c,2H,2p,s,2b,Y,V,D,L,1C,C,m,3l,1U,M,1e,Z,1Q,I,2q,2n,2I,1i,3E,2c,X,O,2O,3e,2A,j,2w,2e,1X,1l,1N,2J,S,1h,y,q,3p,2D,3r,1c,1y,K,K,3d,1T,2v,3u,3o,3G,3J,3y,3y,3I,3N,2k,3U,2U,2B,2B,3t,2Q,1W,3z,1A,2P,2P,n,k,2r,3m,3b,3V,3V,2z,3R,3k,3q,o,o,3Q,2T,2R,3B,3B,3O,2G,1I,1I,1g,1P,1P,3i,3c,2S,1j,1j,1j,1V,1x,3n,3n,1Y,1Y,1r,N,N,w,w,1t,1t,2s,1o,1o,1o,U,2L,A,A,1L,1L,E,E,F,p,p,p,x,i,i,l,l,l,f,e,a],[3T,3T,3T,4b,4b,4b,3Y,3Y,3Y,1q,3P,3P,3P,4a,4a,4a,3S,3S,3S,3M,3X,3X,3X,3W,3W,2l,2l,2l,3F,2F,2F,2F,3g,3g,1J,1J,1J,2Z,3h,3h,3h,3w,3w,2m,2m,3x,2X,2X,2X,2i,2i,1u,1u,3L,1p,1p,h,h,1a,1a,1v,2x,2x,3j,3j,t,t,2y,3H,3H,H,H,2o,2o,2K,z,z,T,T,u,u,1K,1K,1n,1n,2d,2d,1S,2M,1E,1E,3A,3A,1k,1O,2g,2g,2W,2a,2u,2u,2Y,2Y,Q,2h,2N,2N,J,3K,3K,2j,1s,3f,3f,3v,W,1D,1D,2C,v,v,3a,3a,1m,1m,1Z,2E,1R,1F,1F,d,c,2H,2H,1G,2p,s,s,2b,1w,1w,Y,V,D,D,L,P,1C,1C,C,m,m,2f,3l,1U,1U,M,M,1e,1e,Z,Z,1Q,I,1B,1B,2q,2q,2n,2I,3C,3C,1i,1i,3E,2c,X,X,3s,3s,O,O,2O,3e,3e,1f,1f,2A,2A,j,2w,2w,2e,2e,1M,1M,1X,1l,1l,1N,1N,2J,2J,S,1h,1h,y,y,y,q,q,3p,1b,1b,2D,2D,2D,3r,3r,1c,1y,1y,1y,1H,1H,K,K,K,3d,1T,1T,1T,2v,2v,2v,3u,3u,1z,1z,3o,3o,3G,3G,3G,3J,3J,3J,3y,3I,3I,3I,3N,3N,3N,2V,2k])},4k:4g(){4f 4h.4e([1,2,2,4,4,6,6,8,8,10,12,12,14,14,16,18,18,20,22,24,24,26,28,28,30,32,34,36,36,38,40,42,44,44,46,48,3Z,4d,4b,1q,1q,4a,3M,3W,3F,2F,1J,3h,2m,2X,1u,1p,1a,2x,3j,2y,H,2K,T,1d,1K,2d,2M,3A,1k,2g,2a,2Y,Q,2N,1s,3f,W,2C,v,3a,1m,2E,1F,2H,1G,s,2b,Y,D,P,C,m,3l,1U,2t,Z,I,1B,2n,2I,1i,2c,X,3s,2O,1f,2A,j,2e,1X,1l,1N,2J,1h,q,3p,1b,2D,1c,1y,1H,K,1T,2v,3u,1z,3G,3J,3y,3I,3N,2V,2k,3U,2B,2B,3t,2Q,3z,3z,1A,2P,n,k,2r,3m,3b,3V,3V,2z,3k,3k,3q,3q,o,3Q,2T,2R,2R,3B,3O,2G,2G,1I,1g,1g,1P,1P,3i,3c,2S,2S,1j,1j,1V,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,U,2L,2L,A,A,A,1L,1L,1L,E,E,F,F,F,p,p,p,x,x,x,i,i,l,l,l,l,f,f,f,e,e,e,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,1,1,3,3,4,4,5,5,6,8,8,9,9,10,12,12,13,14,15,15,17,18,18,19,21,22,23,23,24,26,27,28,28,30,31,32,33,35,36,36,37,38,40,41,42,43,45,46,47,48,3Z,4c,4d,3T,4b,1q,3P,4a,3S,3X,3W,2l,3F,2F,3g,2Z,3h,3w,2m,2X,1u,3L,1p,h,1a,1v,2x,t,3H,H,2o,2K,z,T,1d,1n,2d,1S,2M,1E,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,2j,1s,3f,3v,1D,2C,v,3D,3a,1Z,2E,1R,1F,c,2H,1G,2p,2b,1w,1w,Y,D,L,P,1C,m,2f,3l,3l,M,2t,1e,Z,I,1B,1B,2q,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1N,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,1H,K,1T,1T,2v,3u,1z,1z,3G,3J,3y,3y,3I,3N,2V,2V,2k,2U,2U,2B,3t,2Q,2Q,1W,3z,1A,1A,2P,n,k,k,2r,3m,3m,3b,3V,2z,2z,3R,3k,3q,3q,o,3Q,3Q,2T,2R,2R,3B,3B,3O,2G,1I,1I,1I,1g,1P,1P,3i,3i,3c,2S,2S,1j,1j,1V,1V,1V,1x,3n,1Y,1Y,1Y,1r,1r,N,N,N,w,w,1t,1t,2s,2s,2s,2s,1o],[2X,2i,2i,1u,1u,1u,1u,3L,3L,3L,1p,1p,1p,1p,1p,h,h,h,1a,1a,1a,1a,1v,1v,1v,2x,2x,3j,3j,3j,3j,t,t,t,2y,2y,2y,3H,3H,H,H,H,2o,2o,2o,2K,2K,z,z,T,T,T,u,u,1d,1d,1d,1K,1K,1n,1n,2d,2d,2d,1S,1S,2M,2M,2M,1E,3A,3A,1k,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,J,J,3K,3K,2j,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,3D,3a,3a,3a,1m,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,1w,1w,1w,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,2I,3C,3C,1i,3E,3E,3E,2c,2c,X,X,X,3s,3s,O,O,2O,2O,2O,3e,3e,1f,1f,1f,2A,2A,j,j,2w,2w,2w,2e,2e,2e,1M,1M,1X,1X,1X,1l,1l,1l,1N,1N,1N,1N,2J,2J,S,S,S,1h,1h,1h,1h,y,y,y,q,q,q,q,q,3p,3p,3p,1b,1b,1b,1b,2D,2D,2D])},4m:4g(){4f 4h.4e([1,2,2,4,4,6,6,7,7,9,11,11,13,13,15,17,17,18,20,22,22,24,26,26,28,29,31,33,33,35,37,39,40,40,42,44,46,47,49,4c,4c,3T,3Y,1q,4a,3M,3X,2l,2F,1J,2Z,3w,3x,2X,1u,1p,h,1v,3j,t,3H,H,2K,T,u,1K,1n,1S,2M,3A,2g,2W,2u,2Y,2h,2N,J,2j,1s,W,1D,v,3D,1m,1Z,1F,d,c,2H,2p,s,Y,V,D,L,1C,m,2f,3l,1U,2t,Z,1Q,I,1B,2I,3C,1i,3E,2c,3s,O,2O,3e,2A,j,2w,2e,1X,1l,1N,2J,1h,y,q,3p,2D,3r,1c,1y,K,3d,3d,1T,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,n,2r,3m,3m,3b,3V,2z,3R,3k,3k,3q,3Q,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3c,3c,2S,1j,1j,1V,1V,1x,3n,1Y,1r,1r,N,w,w,1t,1t,2s,1o,1o,U,U,2L,A,A,1L,E,E,F,F,p,x,x,i,i,l,f,f,f,e,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[1,1,1,1,1,2,2,3,3,3,4,4,5,5,5,6,6,7,8,8,8,9,10,10,10,11,12,12,12,13,14,14,15,15,16,17,17,18,19,19,19,20,21,22,22,23,24,25,25,26,27,28,28,29,30,31,31,32,33,34,34,35,36,37,38,39,39,40,41,42,44,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,3S,3M,3X,3W,2l,3F,3g,1J,2Z,3h,3w,3x,2X,2i,1u,3L,1a,1v,2x,3j,2y,3H,2o,2K,z,u,1K,1n,2d,2M,3A,1k,1O,2a,2u,2Y,2h,J,3K,1s,3f,1D,2C,v,3a,2E,1R,1F,c,1G,s,2b,Y,D,P,1C,m,1U,M,1e,Z,1B,2q,2I,3C,3E,3s,O,3e,1f,2w,1M,1X,1N,2J,y,3p,1b,3r,1y,3d,1T,3u,1z,3G,3J,2V,2k,2U,2B,2Q,1W,n,k,3m,3b,2z,3k,3q,3Q,2T,3O,1I,1P,3i,2S,1j,1x,1Y,1r,w,2s,1o,2L,A,E,p,x,l,f,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,1,1,2,2,3,3,4,4,5,6,6,7,7,8,9,9,10,11,12,12,13,14,14,15,16,17,18,18,19,20,21,22,22,23,24,25,26,27,28,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,3S,3M,3X,3W,2l,3F,2F,3g,1J,3h,3w,2m,3x,2X,2i,3L,1p,h,1a,1v,2x,t,2y,3H,H,2o,z,T,u,1d,1K,2d,1S,2M,1E,1k,1O,2g,2W,2a,2Y,Q,2h,2N,3K,2j,1s,3f,W,1D,2C,v,3a,1m,1Z,2E,1F,d,c,2H,2p,s,2b,1w,V,D,L,P,C,m,2f,3l,M,2t,1e,Z,I,1B,2q,2n,2I,1i,3E,2c,X,O,2O,3e,1f,2A,2w,2e,1M,1X,1l,2J,S,1h,y,q,3p,2D,3r,1c,1y,1H,K,1T,2v,3u,1z,3o,3G,3J,3y,3I,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1V,1V,1x,3n,1Y,1r,1r,N,w,1t,2s,2s,1o,U,U,2L,A,1L,1L,E,F,F,p,p,x,i,i,l,l,f,f,e,e,a])},4n:4g(){4f 4h.4e([0,2,3,5,7,8,10,12,13,15,17,18,20,21,23,25,26,28,30,31,33,35,36,38,39,41,43,44,46,48,49,4c,4d,4b,1q,3P,3S,3M,3W,2l,2F,1J,2Z,3w,2m,2X,2i,3L,1p,1a,1v,3j,t,3H,H,2K,z,u,1d,1n,2d,2M,1E,1k,1O,2g,2a,2u,Q,2h,2N,3K,2j,1s,3v,W,1D,v,3D,3a,1Z,2E,1R,1F,c,2H,1G,2p,2b,1w,Y,V,D,P,1C,C,m,2f,3l,1U,M,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,2J,S,1h,y,q,3p,1b,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3o,3G,3J,3y,3y,3I,3N,2V,2V,2k,3U,3U,2U,2B,3t,3t,2Q,1W,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,2z,2z,3R,3R,3k,3q,3q,o,3Q,3Q,2T,2T,2R,3B,3B,3O,3O,2G,1I,1I,1g,1g,1P,1P,3i,3c,3c,2S,2S,1j,1j,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,f,f,e,a,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[0,1,1,2,3,3,4,5,6,6,7,8,8,9,10,10,11,12,13,13,14,15,15,16,17,17,18,19,20,20,21,22,22,23,24,24,25,26,26,27,28,29,29,30,31,31,32,33,33,34,35,36,36,37,38,38,39,40,40,41,42,43,43,44,45,45,46,47,47,48,49,49,3Z,4c,4d,4d,3T,4b,4b,3Y,1q,1q,3P,4a,3S,3S,3M,3X,3X,3W,2l,2l,3F,2F,3g,3g,1J,2Z,2Z,3h,3w,3w,2m,3x,3x,2X,2i,1u,1u,3L,1p,1p,h,1a,1a,1v,2x,3j,3j,t,2y,2y,3H,H,H,2o,2K,z,z,T,u,u,1d,1K,1K,1n,2d,1S,1S,2M,1E,1E,3A,1k,1k,1O,2g,2g,2W,2a,2u,2u,2Y,Q,Q,2h,2N,2N,J,3K,2j,2j,1s,3f,3f,3v,W,W,1D,2C,v,v,3D,3a,3a,1m,1Z,1Z,2E,1R,1R,1F,d,c,c,2H,1G,1G,2p,s,s,2b,1w,Y,Y,V,D,D,L,P,P,1C,C,m,m,2f,3l,3l,1U,M,M,2t,1e,1e,Z,1Q,I,I,1B,2q,2q,2n,2I,2I,3C,1i,3E,3E,2c,X,X,3s,O,O,2O,3e,1f,1f,2A,j,j,2w,2e,2e,1M,1X,1X,1l,1N,2J,2J,S,1h,1h,y,q])},4o:4g(){4f 4h.4e([0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,6,6,6,7,7,7,7,8,8,8,9,9,9,10,10,10,11,11,11,12,12,13,13,13,14,14,15,15,16,16,17,17,18,18,19,20,20,21,21,22,23,23,24,25,25,26,27,27,28,29,30,31,31,32,33,34,35,36,37,38,38,39,41,42,43,45,46,48,3Z,4d,4b,1q,3S,3X,3F,3g,3h,3x,1u,1p,1v,t,H,z,1d,2d,1E,1O,2a,Q,2N,2j,3v,1D,3D,1m,2E,1F,c,1G,s,1w,V,L,1C,m,3l,1U,2t,Z,I,1B,2n,3C,1i,2c,3s,O,3e,1f,j,2w,2e,1X,1l,1N,S,1h,y,q,3p,1b,2D,3r,1c,1c,1y,1H,K,3d,1T,1T,2v,3u,1z,1z,3o,3G,3J,3J,3y,3I,3I,3N,2V,2V,2k,3U,3U,2U,2B,2B,3t,2Q,2Q,1W,1W,3z,1A,1A,2P,2P,n,k,k,2r,2r,3m,3m,3b,3b,3V,2z,2z,3R,3R,3k,3k,3q,3q,o,o,3Q,3Q,2T,2T,2R,2R,3B,3B,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3i,3i,3c,3c,2S,2S,1j,1j,1V,1V,1V,1x,1x,3n],[0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,12,13,13,14,14,15,16,16,17,17,18,18,19,20,20,21,21,22,23,23,24,25,25,26,26,27,28,28,29,30,30,31,32,32,33,34,35,35,36,37,37,38,39,40,40,41,42,43,44,44,45,46,47,48,49,49,3Z,4c,4d,3T,4b,3Y,1q,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,1J,2Z,3h,2m,3x,2i,3L,1p,1a,2x,t,3H,2o,z,u,1K,2d,2M,3A,1O,2W,2u,2h,J,2j,3f,W,2C,3D,1m,2E,1R,c,1G,2p,2b,Y,D,P,C,2f,3l,M,1e,1Q,1B,2n,3C,3E,X,O,3e,2A,j,2e,1X,1N,S,1h,q,1b,3r,1c,1H,K,1T,3u,1z,3o,3J,3y,3I,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,k,2r,3m,3b,3V,2z,3R,3R,3k,3q,o,o,3Q,2T,2R,2R,3B,3O,2G,2G,1I,1g,1g,1P,3i,3i,3c,2S,2S,1j,1V,1V,1x,1x,3n,1Y,1Y,1r,1r,N,N,w,w,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,x,i,i,l,l,f,f,e,e,a,a],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,18,18,19,20,20,21,22,22,23,24,25,25,26,27,28,29,30,31,31,32,33,34,35,36,38,39,42,44,46,49,4d,3Y,3S,3W,3g,3h,2X,1p,2x,3H,z,1K,2M,1O,2a,2h,2j,3v,v,1m,1R,c,2p,1w,V,P,m,3l,2t,1Q,1B,2I,1i,X,O,1f,j,2e,1l,2J,1h,q,1b,3r,1y,K,3d,2v,1z,3o,3G,3y,3I,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,2P,n,k,2r,3m,3b,3b,3V,2z,3R,3R,3k,3q,o,o,3Q,2T,2R,2R,3B,3O,3O,2G,1I,1I,1g,1g,1P,3i,3i,3c,3c,2S,1j,1j,1V,1V,1x,1x,3n,1Y,1Y,1r,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,2L,A,A,1L,1L,E,E,F,F,p,p,p,x,x,i,i,l,l,l,f,f,e,e,a,a])},4p:4g(){4f 4h.4e([1,1,2,2,2,2,4,4,2,3,5,4,4,5,6,6,6,7,7,8,9,10,10,9,10,11,11,12,13,13,14,14,15,16,17,17,18,19,19,18,21,20,21,22,23,23,24,25,26,26,28,29,30,29,30,31,32,32,33,34,35,36,37,37,39,39,40,41,41,42,43,44,46,47,48,49,3Z,4c,4d,3T,3Y,3Y,1q,3P,4a,3S,3M,3W,2l,3F,2F,3g,2Z,3h,3w,3x,2i,1u,3L,1p,h,1a,t,t,2y,3H,2K,z,T,1K,1K,1S,2M,1E,1k,2g,2W,2Y,Q,2h,2N,2j,3f,1D,1D,2C,3D,3a,2E,1R,d,c,2p,s,2b,1w,L,P,1C,m,1U,1U,M,1Q,1B,2q,2n,2I,1i,X,3s,2O,2O,2A,j,2e,2e,1M,S,S,y,q,q,2D,3r,1c,1H,1H,3d,3u,1z,3o,3G,3J,3y,3N,2V,2k,3U,2B,2Q,1W,1W,1A,2P,n,k,2r,3m,3b,3m,3b,3V,2z,3q,3q,o,3Q,2T,2T,3B,3B,2G,2G,1I,1I,1g,1P,1P,3c,2S,2S,1j,1V,3n,1x,1Y,1Y,1r,1Y,1r,N,w,1t,2s,2s,1o,U,1o,1o,U,2L,2L,A,A,E,F,1L,F,p,p,x,p,p,x,x,l,i,i,f,f,e,e,f,f,e],[1,1,2,2,3,3,4,4,6,7,6,8,8,9,10,10,11,12,12,13,14,15,15,17,18,19,19,20,21,22,23,23,24,25,26,28,29,30,30,31,32,33,34,35,36,38,39,40,40,40,42,43,44,46,47,48,49,3Z,4c,4d,3T,4b,3Y,3P,3P,3P,3M,3M,3M,3X,3W,2l,2F,3g,1J,2Z,3h,3w,2m,3x,2i,2i,1u,3L,1p,h,1a,2x,2x,3j,t,2y,3H,H,2o,z,z,T,u,1d,1K,1n,2d,2d,1S,2M,1E,3A,1k,1k,1k,2g,2g,2W,2Y,2Y,Q,Q,2h,2N,J,3K,3K,3f,3f,3v,3v,W,1D,2C,1D,v,3D,3a,1m,1Z,2E,1R,1R,d,c,c,2H,1G,1G,s,2b,2b,Y,V,D,D,D,C,m,m,m,2f,1U,1U,2t,1e,1e,1Q,I,1B,2n,2n,3C,1i,3E,2c,X,3s,O,3e,1f,2A,j,2w,1M,1X,1l,S,1h,y,q,3p,1b,2D,1c,1y,1H,K,K,2v,3u,1z,3o,3J,3y,3I,2V,2V,2k,2B,3t,2Q,3z,1A,2P,k,2r,3m,3V,2z,3k,3k,3q,3Q,2T,2R,2G,1I,2G,1g,1P,3i,2S,2S,1j,1V,3n,1Y,1Y,N,w,w,2s,1o,1o,U,A,A,1L,1L,F,p,p,i,i,l,l,e,e,a],[1,1,2,4,5,5,6,6,7,8,8,9,9,10,13,13,14,15,15,16,17,19,19,20,21,22,22,23,24,27,28,28,29,30,31,34,35,36,36,37,38,39,42,43,44,45,46,47,49,49,4c,4d,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3g,1J,2Z,3h,3h,2m,2i,2i,1u,3L,1p,1v,2x,3j,t,2y,3H,H,z,u,u,1d,1K,1n,2d,1S,1E,1O,2g,2W,2a,2u,2Y,Q,2N,J,3K,2j,3v,W,1D,v,v,3D,3a,1Z,2E,1R,1F,1F,c,2p,s,s,2b,V,D,L,P,1C,m,m,1U,1U,M,2t,1e,1Q,I,I,1Q,1B,2I,3C,1i,1i,3E,3E,X,O,O,2O,1f,2A,1f,2A,2e,1X,1M,1X,1l,1l,1N,2J,y,y,1h,3p,3p,2D,3r,3r,1y,1c,1y,K,K,1T,1T,2v,3u,1z,3o,1z,3G,3J,3y,3I,3y,3N,2V,2k,2k,3U,2U,2B,2B,3t,1W,1W,2Q,1W,3z,1A,n,k,n,k,2r,k,2r,3b,3b,3V,2z,3R,3k,3q,3k,3q,o,3q,o,2T,2T,2T,2T,2R,3B,3O,3B,2G,1I,1I,1g,1g,1P,3i,3i,1P,3i,3c,2S,2S,2S,1j,2S,1V,1j,1j,1V,1x,1x,3n,3n,1Y,1Y,1Y,N,N,w,1r,N,N,w])},4q:4g(){4f 4h.4e([0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,10,10,11,11,11,12,12,13,13,14,15,15,16,16,17,18,18,19,20,21,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,40,41,42,43,44,46,47,48,49,4c,3T,3Y,1q,4a,3X,2l,2F,1J,3w,3x,1u,1p,1v,t,H,z,1d,1n,2M,1k,2a,Q,J,1s,W,v,1m,1F,2H,s,Y,L,C,1U,1e,I,2n,1i,X,2O,2A,2e,1l,S,y,1b,1c,1H,1T,3u,3o,3y,3N,2k,2U,3t,1W,3z,2P,n,2r,3m,3b,2z,3R,3k,3q,o,3Q,2T,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1V,1x,1x,3n,1Y,1r,1r,N,w,w,1t,1t,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,E,F,F,F,p,p,p,x,x,x,x,i,i,i,i,l,l,l,l,l,f,f,f,f,f,f,f,e,e,e,e,e,e,e,e,e,e,e,e,a,a,a,a,a,a,a,a,a,a,a],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,10,10,11,11,11,12,12,13,13,14,15,15,16,16,17,18,18,19,20,21,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,40,41,42,43,44,46,47,48,49,4c,3T,3Y,1q,4a,3X,2l,2F,1J,3w,3x,1u,1p,1v,t,H,z,1d,1n,2M,1k,2a,Q,J,1s,W,v,1m,1F,2H,s,Y,L,C,1U,1e,I,2n,1i,X,2O,2A,2e,1l,S,y,1b,1c,1H,1T,3u,3o,3y,3N,2k,2U,3t,1W,3z,2P,n,2r,3m,3b,2z,3R,3k,3q,o,3Q,2T,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1V,1x,1x,3n,1Y,1r,1r,N,w,w,1t,1t,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,E,F,F,F,p,p,p,x,x,x,x,i,i,i,i,l,l,l,l,l,f,f,f,f,f,f,f,e,e,e,e,e,e,e,e,e,e,e,e,a,a,a,a,a,a,a,a,a,a,a],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,10,10,11,11,11,12,12,13,13,14,15,15,16,16,17,18,18,19,20,21,21,22,23,24,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,40,41,42,43,44,46,47,48,49,4c,3T,3Y,1q,4a,3X,2l,2F,1J,3w,3x,1u,1p,1v,t,H,z,1d,1n,2M,1k,2a,Q,J,1s,W,v,1m,1F,2H,s,Y,L,C,1U,1e,I,2n,1i,X,2O,2A,2e,1l,S,y,1b,1c,1H,1T,3u,3o,3y,3N,2k,2U,3t,1W,3z,2P,n,2r,3m,3b,2z,3R,3k,3q,o,3Q,2T,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1V,1x,1x,3n,1Y,1r,1r,N,w,w,1t,1t,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,E,F,F,F,p,p,p,x,x,x,x,i,i,i,i,l,l,l,l,l,f,f,f,f,f,f,f,e,e,e,e,e,e,e,e,e,e,e,e,a,a,a,a,a,a,a,a,a,a,a])},4r:4g(){4f 4h.4e([0,1,1,2,3,3,4,5,6,6,7,8,8,9,10,10,11,12,13,13,14,15,15,16,17,17,18,19,20,20,21,22,22,23,24,24,25,26,27,27,28,29,29,30,31,32,32,33,34,35,35,36,37,37,38,39,40,40,41,42,43,43,44,45,46,46,47,48,49,49,3Z,4c,4d,3T,3T,4b,3Y,1q,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,3F,2F,3g,1J,2Z,2Z,3h,3w,2m,3x,2X,2X,2i,1u,3L,1p,h,1a,1a,1v,2x,3j,t,2y,3H,H,H,2o,2K,z,T,u,1d,1K,1n,2d,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3f,3v,W,1D,2C,v,3D,3a,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,V,D,L,P,1C,C,2f,3l,1U,M,2t,1e,1Q,I,1B,2q,2n,3C,1i,3E,2c,3s,O,2O,3e,2A,j,2w,2e,1X,1l,1N,2J,1h,y,q,1b,2D,3r,1c,1H,K,3d,2v,3u,1z,3G,3J,3y,3N,2V,2k,2U,2B,3t,1W,3z,1A,n,k,3m,3b,3V,3R,3k,3q,3Q,2T,3B,3O,2G,1g,1P,3i,2S,1j,1x,3n,1Y,N,w,2s,1o,U,A,1L,F,p,x,l,f,a],[0,1,2,4,5,6,7,9,10,11,12,13,15,16,17,18,20,21,22,23,24,26,27,28,29,31,32,33,34,35,37,38,39,40,41,43,44,45,46,47,49,3Z,4c,4d,3T,3Y,1q,3P,4a,3S,3X,3W,2l,3F,2F,1J,2Z,3h,3w,2m,3x,2i,1u,3L,1p,h,1a,2x,3j,t,2y,3H,H,2o,z,T,u,1d,1K,1n,2d,2M,1E,3A,1k,1O,2g,2W,2a,2u,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,1C,C,m,2f,3l,1U,M,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,1h,y,q,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,2v,3u,1z,1z,3o,3G,3J,3y,3I,3N,3N,2V,2k,3U,2U,2B,3t,3t,2Q,1W,3z,1A,2P,2P,n,k,2r,3m,3b,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3c,3c,2S,1j,1V,1x,3n,3n,1Y,1r,N,w,w,1t,2s,1o,U,U,2L,A,1L,1L,E,F,p,x,x,i,l,f,e,e,a],[0,3,5,8,10,13,15,18,20,23,25,28,30,32,35,37,39,41,44,46,48,3Z,4d,3T,3Y,3P,3S,3M,3W,2l,3F,2F,1J,2Z,3h,3h,3w,2m,2m,3x,2X,2X,2i,1u,1u,3L,3L,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,2y,3H,3H,H,H,2o,2o,2o,2K,2K,z,z,z,T,T,u,u,u,1d,1d,1d,1K,1K,1K,1n,1n,1n,2d,2d,2d,1S,1S,1S,1S,2M,2M,2M,1E,1E,1E,1E,3A,3A,3A,1k,1k,1k,1k,1O,1O,1O,1O,2g,2g,2g,2g,2W,2W,2W,2W,2a,2a,2a,2u,2u,2u,2u,2Y,2Y,2Y,2Y,Q,Q,Q,2h,2h,2h,2h,2N,2N,2N,J,J,J,3K,3K,3K,2j,2j,2j,1s,1s,1s,3f,3f,3f,3v,3v,3v,W,W,1D,1D,1D,2C,2C,v,v,3D,3D,3a,3a,3a,1m,1m,1Z,1Z,2E,2E,1R,1F,1F,d,d,c,c,2H,1G,1G,2p,2p,s,2b,2b,1w,Y,V,V,D,L,L,P,1C,C,m,m,2f,3l,1U,M,2t,1e,Z,1Q,1B,2q,2I,3C,3E,X,3s,2O,1f,j,1M,1l,2J,1h,3p,2D,1y,K,2v,3o,3J,3N,3U,3t,1W,2P,2r,3V,3k,3Q,3B,1I,3i,1j,1Y,w,1o,A,F,i,a])},4s:4g(){4f 4h.4e([0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,18,18,19,19,20,20,21,21,22,23,23,24,24,25,25,26,27,27,28,28,29,30,30,31,32,32,33,34,34,35,36,36,37,38,39,39,40,41,42,42,43,44,45,45,46,47,48,49,3Z,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,3x,2X,2i,1u,3L,1p,h,1a,2x,3j,t,2y,3H,2o,2K,z,T,1d,1K,1n,1S,2M,3A,1k,2g,2W,2u,Q,2h,J,2j,3f,W,2C,3D,1m,2E,1F,c,1G,s,Y,D,P,m,3l,M,Z,I,2n,3C,2c,O,3e,j,1M,1l,S,q,2D,1y,K,2v,3o,3y,2V,2U,2Q,1A,k,3b,3R,o,2R,2G,1P,2S,1x,1r,1t,U,1L,p,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,0,1,1,2,2,3,3,4,4,5,5,6,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,21,21,22,22,23,23,24,25,25,26,26,27,28,28,29,29,30,31,31,32,33,33,34,35,35,36,37,37,38,39,40,40,41,42,43,43,44,45,46,47,47,48,49,3Z,4c,4d,3T,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,1p,h,1a,1v,2x,3j,2y,3H,H,2o,2K,T,u,1d,1n,2d,2M,1E,1k,1O,2W,2a,2Y,2h,J,3K,1s,3v,1D,v,3a,1Z,1R,d,1G,s,1w,V,P,C,3l,M,1e,I,2n,3C,2c,3s,3e,j,2e,1l,S,q,1b,1c,K,2v,3o,3y,2V,2U,3t,3z,n,3m,2z,3q,2T,3O,1g,2S,1x,1r,1t,U,1L,p,l,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[47,49,4c,3T,3Y,3P,4a,3M,3W,3F,3g,1J,3h,2m,2X,1u,3L,h,1v,3j,2y,3H,2o,z,u,1d,1n,1S,1E,1k,1O,2W,2u,2Y,2h,J,2j,1s,3v,1D,2C,3D,1m,1Z,1R,d,c,1G,s,2b,Y,D,L,1C,C,2f,3l,M,1e,Z,I,1B,2n,2I,1i,3E,X,3s,O,3e,1f,j,2w,2e,1X,1l,2J,S,1h,y,3p,1b,2D,1c,1y,1H,K,3d,2v,3u,1z,3o,3G,3J,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,n,k,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,o,3Q,2T,2R,2R,3B,3O,3O,2G,1I,1I,1g,1P,1P,3i,3c,3c,2S,2S,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,N,w,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,A,1L,1L,E,E,E,F,F,p,p,p,x,x,i,i,i,l,l,l,f,f,e,e,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a])},4t:4g(){4f 4h.4e([0,2,3,5,7,9,10,12,14,15,17,19,20,22,24,26,27,29,31,32,34,36,37,39,41,42,44,46,47,49,4c,4d,4b,1q,3P,3S,3X,3W,3F,3g,1J,3h,3w,3x,2i,1u,1p,h,1v,2x,t,3H,H,2K,z,u,1d,1n,2d,2M,1E,1k,1O,2W,2a,2Y,Q,2N,J,2j,1s,3f,W,1D,v,3D,3a,1Z,2E,1R,d,c,2H,2p,s,2b,Y,V,D,L,1C,C,m,2f,3l,M,2t,1e,Z,1Q,I,1B,2q,2I,3C,1i,3E,2c,X,3s,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,1h,y,q,3p,1b,2D,3r,1c,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,1z,3o,3G,3J,3y,3y,3I,3N,2V,2V,2k,3U,3U,2U,2B,3t,3t,2Q,1W,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,3V,2z,3R,3R,3k,3k,3q,o,o,3Q,3Q,2T,2R,2R,3B,3B,3O,3O,2G,1I,1I,1g,1g,1P,1P,3i,3i,3c,3c,2S,2S,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,l,f,f,e,e,a],[0,1,3,4,5,6,8,9,10,11,13,14,15,16,18,19,20,21,23,24,25,26,28,29,30,31,33,34,35,36,38,39,40,41,43,44,45,46,48,49,3Z,4c,4d,4b,3Y,1q,3P,3S,3M,3X,3W,2l,2F,3g,1J,2Z,3w,2m,3x,2X,2i,3L,1p,h,1a,1v,2x,t,2y,3H,H,2o,z,T,u,1d,1K,1n,2d,2M,1E,3A,1k,1O,2g,2W,2u,2Y,Q,2h,2N,J,3K,2j,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1l,1N,2J,S,1h,y,q,3p,1b,1b,2D,3r,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,3o,3G,3G,3J,3y,3I,3N,2V,2V,2k,3U,2U,2B,3t,3t,2Q,1W,3z,1A,1A,2P,n,k,2r,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,o,3Q,2T,2R,3B,3B,3O,2G,1I,1g,1g,1P,3i,3c,3c,2S,1j,1V,1V,1x,3n,1Y,1r,1r,N,w,1t,1t,2s,1o,U,U,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,3,5,8,10,13,15,18,20,22,25,27,30,32,34,37,39,41,43,45,48,3Z,4d,4b,1q,3P,3S,3X,2l,3F,3g,1J,3h,3w,2m,2X,2i,1u,3L,1p,h,h,1a,1v,1v,2x,2x,3j,t,t,2y,2y,3H,3H,3H,H,H,H,2o,2o,2o,2K,2K,2K,2K,z,z,z,z,z,z,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,1d,1d,1d,1d,1d,1d,1d,1K,1K,1K,1K,1n,1n,1n,2d,2d,2d,1S,1S,1S,2M,2M,1E,1E,3A,3A,1k,1O,1O,2g,2W,2W,2a,2u,2Y,Q,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,1D,2C,v,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,1w,Y,V,D,L,P,C,m,2f,3l,M,2t,1e,Z,I,1B,2q,2n,3C,1i,3E,X,3s,O,3e,1f,2A,2w,2e,1X,1l,1N,S,1h,q,3p,1b,3r,1c,1H,K,1T,2v,1z,3o,3J,3y,3N,2V,3U,2U,3t,2Q,3z,1A,n,k,3m,3b,2z,3R,3q,o,2T,2R,3O,2G,1g,3i,3c,1j,1V,3n,1Y,N,1t,2s,U,2L,1L,E,p,x,l,e,a])},4u:4g(){4f 4h.4e([4b,4b,3Y,3Y,3Y,1q,1q,3P,3P,3P,4a,4a,4a,3S,3S,3M,3M,3M,3X,3X,3X,3W,3W,2l,2l,2l,3F,3F,2F,2F,2F,3g,3g,1J,1J,1J,2Z,2Z,3h,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,3H,3H,H,H,2o,2o,2K,z,z,T,T,u,1d,1d,1K,1n,1n,2d,1S,1S,2M,1E,1E,3A,1k,1k,1O,2g,2g,2W,2a,2u,2u,2Y,Q,Q,2h,2N,J,3K,3K,2j,1s,3f,3f,3v,W,1D,2C,2C,v,3D,3a,1m,1Z,1Z,2E,1R,1F,d,c,c,2H,1G,2p,s,2b,1w,Y,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,2s,1o,U,2L,A,1L,E,F,p,i,l,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1X,1l,1N,2J,S,1h,y,y,q,3p,1b,2D,2D,3r,1c,1y,1y,1H,K,3d,3d,1T,2v,2v,3u,1z,1z,3o,3G,3G,3J,3J,3y,3y,3I,3N,3N,2V,2V,2k,2k,2k,3U,3U,2U,2U,2B,2B,2B,3t,3t,3t,2Q,2Q,2Q,1W,1W,1W,3z,3z,3z,1A,1A,1A,1A,2P,2P,2P,n,n,n,n,n,k,k,k,k,2r,2r,2r,2r,3m,3m,3m],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,3w,2m,3x,2X,2i,1u,3L,1p,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1k,1O,2g,2g,2W,2a,2a,2u,2Y,2Y,Q,Q,2h,2N,2N,J,J,3K,3K,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,v,3D,3D,3a,3a,1m,1m,1m,1Z,1Z,2E,2E,2E,1R,1R,1R,1F,1F,1F,d,d,d,c,c,c,2H,2H,2H,2H,1G,1G,1G,2p,2p,2p,2p,s,s,s,s,2b,2b,2b,2b,1w,1w,1w,1w,1w,Y,Y,Y,Y,Y,V,V,V,V,V,V,D,D,D,D,D,D,L,L,L,L,L,L,P,P,P,P,P,P,P,1C,1C,1C,1C,1C,1C,1C,1C,C,C,C,C,C,C,C,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m])},4v:4g(){4f 4h.4e([0,2,3,5,7,8,10,12,13,15,17,18,20,22,24,25,27,29,30,32,34,35,37,38,40,42,43,45,47,48,3Z,4d,3T,3Y,3P,4a,3M,3X,2l,2F,3g,2Z,3h,2m,2X,2i,3L,1p,1a,1v,3j,t,3H,2o,2K,T,u,1K,1n,1S,2M,3A,1k,2g,2W,2u,2Y,Q,2N,J,2j,1s,3v,W,1D,v,3D,3a,1Z,2E,1F,d,c,1G,2p,s,2b,Y,V,D,P,1C,C,m,2f,1U,M,2t,1e,Z,I,1B,2q,2n,2I,3C,1i,3E,2c,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,3o,3o,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,2z,2z,3R,3R,3k,3q,3q,o,o,3Q,2T,2T,2R,2R,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3c,3c,2S,2S,1j,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,N,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,2L,A,A,1L,1L,E,E,F,F,F,p,p,x,x,i,i,l,l,l,f,f,e,e,a,a],[0,1,1,2,3,3,4,4,5,6,6,7,8,8,9,10,10,11,11,12,13,13,14,15,15,16,17,17,18,19,19,20,20,21,22,22,23,24,24,25,26,26,27,28,28,29,30,30,31,32,33,33,34,35,35,36,37,37,38,39,40,40,41,42,42,43,44,45,45,46,47,47,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,3P,3P,4a,3S,3M,3M,3X,3W,2l,3F,2F,2F,3g,1J,2Z,3h,3h,3w,2m,3x,2X,2i,1u,1u,3L,1p,h,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,2C,v,3D,3a,1m,1Z,2E,1R,d,c,2H,1G,2p,s,2b,Y,V,D,L,P,C,m,2f,3l,1U,2t,1e,Z,1Q,1B,2q,2n,2I,1i,3E,2c,X,O,2O,3e,1f,j,2w,2e,1X,1l,1N,2J,1h,y,q,1b,2D,3r,1y,1H,K,1T,2v,3u,3o,3G,3J,3I,3N,2V,3U,2U,2B,2Q,1W,1A,2P,n,2r,3m,3b,2z,3R,3k,o,3Q,2R,3B,3O,1I,1g,3i,3c,2S,1V,1x,3n,1r,N,1t,2s,1o,2L,A,E,F,p,i,l,e,a],[d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c])},4w:4g(){4f 4h.4e([0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,13,13,14,15,15,16,17,17,18,19,20,20,21,22,23,24,25,26,27,28,28,30,31,32,33,34,35,36,37,39,40,41,42,44,45,47,48,49,4c,3T,4b,1q,3P,3S,3X,2l,3F,3g,2Z,3w,3x,2i,3L,h,1v,3j,2y,2o,z,u,1K,1S,1E,1k,2W,2u,Q,2N,3K,3f,W,2C,3D,1m,2E,1F,c,1G,s,1w,V,L,1C,C,2f,1U,2t,Z,1Q,1B,2n,2I,1i,2c,X,O,2O,1f,2A,2w,2e,1X,1l,2J,S,y,q,3p,2D,3r,1c,1H,K,3d,1T,3u,1z,3o,3G,3J,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3b,3V,2z,3R,3k,3q,3q,o,3Q,2T,2T,2R,3B,3O,3O,2G,1I,1I,1g,1P,1P,3i,3i,3c,2S,2S,1j,1j,1V,1V,1x,3n,3n,1Y,1Y,1r,1r,1r,N,N,w,w,1t,1t,2s,2s,2s,1o,1o,U,U,U,2L,2L,2L,A,A,A,1L,1L,1L,E,E,E,F,F,F,p,p,p,p,x,x,x,x,i,i,i,l,l,l,l,f,f,f,f,e,e,e,e,a,a,a],[0,1,1,2,2,3,4,4,5,6,6,7,7,8,9,9,10,11,11,12,13,13,14,15,15,16,17,17,18,19,19,20,21,22,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,36,37,38,39,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,3Y,1q,3P,4a,3S,3M,3X,2l,3F,2F,3g,2Z,3h,3w,2m,2X,2i,1u,1p,h,1v,2x,3j,2y,3H,2o,2K,T,1d,1K,2d,1S,1E,1k,1O,2W,2u,2Y,2h,J,2j,3f,3v,1D,v,3a,1Z,2E,1F,c,1G,s,2b,Y,D,L,1C,m,2f,1U,2t,1e,1Q,I,2q,2n,3C,1i,2c,X,O,2O,1f,2A,j,2e,1M,1X,1N,2J,S,y,q,3p,1b,3r,1c,1y,1H,K,3d,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,n,k,2r,3m,3b,3V,3V,2z,3R,3k,3q,3q,o,3Q,2T,2T,2R,3B,3O,3O,2G,1I,1I,1g,1P,1P,3i,3c,3c,2S,1j,1j,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,w,w,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,f,e,e,a,a],[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,1p,h,1a,1v,2x,3j,t,2y,2y,3H,H,2o,2K,z,z,T,u,1d,1K,1K,1n,2d,1S,1S,2M,1E,3A,1k,1k,1O,2g,2W,2W,2a,2u,2Y,2Y,Q,2h,2N,2N,J,3K,2j,1s,1s,3f,3v,W,1D,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,d,c,2H,1G,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1N,2J,S,1h,y,q,3p,1b,2D,3r,1y,1H,K,3d,1T,2v,3u,1z,3G,3J,3y,3I,3N,2V,2k,2U,2B,3t,2Q,1W,3z,2P,n,k,2r,3m,3b,2z,3R,3k,3q,o,3Q,2R,3B,3O,2G,1I,1P,3i,3c,2S,1j,1V,3n,1Y,1r,N,w,2s,1o,U,2L,A,E,F,p,x,i,f,e,a])},4x:4g(){4f 4h.4e([0,1,1,2,2,3,3,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,16,16,17,17,18,19,19,20,21,21,22,23,24,24,25,26,26,27,28,29,29,30,31,32,33,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,2l,3F,2F,3g,1J,2Z,3w,2m,3x,2X,2i,3L,1p,h,1a,2x,3j,t,2y,H,2o,2K,T,u,1d,1n,2d,1S,1E,3A,1k,2g,2W,2u,2Y,Q,2N,J,2j,1s,3v,W,2C,v,3a,1m,2E,1R,1F,c,1G,2p,2b,1w,V,D,P,1C,m,2f,1U,M,1e,Z,I,1B,2n,2I,1i,3E,X,3s,2O,3e,2A,j,2e,1M,1l,1N,S,1h,y,3p,1b,3r,1c,1y,K,3d,1T,2v,1z,3o,3G,3J,3I,3N,2V,2k,3U,2U,2B,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3R,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,1x,3n,1Y,1Y,1r,N,N,w,1t,1t,2s,2s,1o,U,U,2L,2L,A,1L,1L,E,E,F,F,p,p,x,i,i,l,l,f,f,e,e,a],[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,4,4,5,5,6,6,7,7,8,9,9,10,11,12,13,14,14,15,17,18,19,20,21,23,24,25,27,28,30,32,33,35,37,39,41,43,45,47,49,4d,4b,1q,3S,3X,3F,3g,3h,3x,2i,1p,1v,t,3H,2K,u,1n,2M,3A,2g,2u,2h,J,1s,W,2C,3a,1Z,1F,c,2p,2b,V,L,1C,m,3l,M,Z,I,1B,2n,3C,3E,X,O,2O,1f,j,2w,1M,1X,1N,2J,1h,y,q,1b,2D,3r,1c,1y,1H,3d,1T,2v,3u,1z,1z,3o,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,3U,2U,2B,2B,3t,3t,2Q,2Q,2Q,1W,1W,3z,3z,3z,1A,1A,1A,1A,2P,2P,2P,2P,2P,n,n,n,n,n,n,n,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n],[0,0,0,0,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,6,6,6,7,7,7,8,8,9,9,10,10,11,11,12,13,13,14,15,15,16,17,18,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,34,35,36,37,39,40,41,43,44,45,47,48,3Z,4c,3T,4b,1q,3P,3S,3M,3W,2l,2F,1J,2Z,3w,2m,2X,1u,1p,h,1v,3j,t,3H,2o,z,T,1d,1n,1S,1E,3A,1O,2W,2u,Q,2h,J,2j,3f,W,2C,v,3a,1Z,1R,d,2H,2p,s,1w,V,L,1C,m,2f,1U,2t,Z,I,1B,2n,3C,3E,X,3s,2O,1f,j,2w,1M,1l,1N,S,y,q,1b,3r,1c,1H,3d,1T,3u,1z,3G,3J,3I,3N,2k,3U,2B,3t,1W,3z,1A,n,k,2r,3b,3V,2z,3R,3k,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,N,w,w,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,1L,E,E,F,F,F,p,p,p,x,x,x,x,i,i,i,i,l,l,l,l,l,f,f,f,f,f,f,e,e,e,e,e,e,e,a,a,a,a])},4y:4g(){4f 4h.4e([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[3W,2l,3F,3F,2F,3g,1J,2Z,2Z,3h,3w,2m,2m,3x,2X,2i,1u,1u,3L,1p,h,1a,1a,1v,2x,3j,3j,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,Q,2h,2N,J,J,3K,2j,2j,1s,3f,3v,3v,W,1D,1D,2C,v,v,3D,3a,1m,1m,1Z,2E,2E,1R,1F,1F,d,c,c,2H,2H,1G,2p,2p,s,2b,2b,1w,Y,Y,V,V,D,L,L,P,P,1C,C,C,m,m,2f,2f,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,1B,1B,2q,2q,2q,2n,2n,2I,2I,3C,3C,1i,1i,3E,3E,2c,2c,2c,X,X,3s,3s,O,O,O,2O,2O,3e,3e,3e,1f,1f,2A,2A,2A,j,j,j,2w,2w,2e,2e,2e,1M,1M,1M,1X,1X,1X,1l,1l,1l,1N,1N,1N,2J,2J,2J,S,S,S,S,1h,1h,1h,y,y,y,q,q,q,q,3p,3p,3p,1b,1b,1b,1b,2D,2D,2D,2D,3r,3r,3r,3r,1c,1c,1c,1c,1y,1y,1y,1y,1H,1H,1H,1H,K,K,K,K,3d,3d,3d,3d,1T,1T,1T,1T,2v,2v,2v,2v,2v,3u,3u,3u,3u,1z,1z,1z,1z,3o,3o,3o])},4z:4g(){4f 4h.4e([0,2,4,6,7,9,11,13,15,17,18,20,22,24,26,27,29,31,33,35,37,38,40,42,44,46,47,49,4c,3T,4b,1q,4a,3M,3X,2l,2F,1J,2Z,3w,3x,2i,1u,1p,1a,1v,3j,2y,3H,2o,z,T,1d,1n,2d,2M,1E,1k,2g,2W,2u,2Y,2h,2N,3K,1s,3f,W,1D,v,3D,3a,1Z,2E,1F,d,2H,1G,2p,2b,1w,Y,D,L,P,C,m,2f,1U,M,2t,1e,1Q,I,1B,2q,2n,3C,1i,3E,2c,X,3s,O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,1H,K,3d,1T,2v,3u,1z,3o,3o,3G,3J,3y,3I,3N,3N,2V,2k,3U,3U,2U,2B,3t,3t,2Q,1W,3z,3z,1A,2P,2P,n,k,k,2r,3m,3m,3b,3V,3V,2z,2z,3R,3k,3k,3q,3q,o,3Q,3Q,2T,2T,2R,2R,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3i,3c,3c,2S,2S,1j,1j,1V,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,1r,N,N,w,w,1t,1t,1t,2s,2s,1o,1o,1o,U,U,2L,2L,2L,A,A,A,1L,1L,E,E,E,F,F,F,p,p,x,x,x,i,i,i,l,l,l,f,f,e,e,e,a,a],[0,1,2,2,3,4,5,5,6,7,8,8,9,10,11,12,12,13,14,15,15,16,17,18,19,19,20,21,22,22,23,24,25,26,26,27,28,29,30,30,31,32,33,34,34,35,36,37,37,38,39,40,41,42,42,43,44,45,46,46,47,48,49,3Z,3Z,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,2F,3g,3g,1J,2Z,3h,3w,2m,3x,2X,2X,2i,1u,3L,1p,h,1a,1v,2x,2x,3j,t,2y,3H,H,2o,2K,z,T,u,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,D,L,P,1C,C,m,2f,3l,1U,M,1e,Z,1Q,I,1B,2q,2n,2I,1i,3E,2c,X,3s,O,2O,1f,2A,j,2w,2e,1M,1l,1N,2J,S,1h,y,3p,1b,2D,3r,1c,1H,K,3d,1T,2v,1z,3o,3G,3J,3y,3N,2V,2k,3U,2B,3t,2Q,1W,3z,2P,n,k,2r,3b,3V,2z,3R,3q,o,3Q,2T,2R,3O,2G,1I,1g,3i,3c,2S,1j,1x,3n,1Y,1r,w,1t,2s,1o,2L,A,1L,E,p,x,i,l,e,a],[0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,7,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,13,13,14,14,14,15,15,15,16,16,17,17,17,18,18,19,19,19,20,20,21,21,22,22,23,23,23,24,24,25,25,26,27,27,28,28,29,29,30,30,31,32,32,33,34,34,35,35,36,37,37,38,39,40,40,41,42,43,43,44,45,46,46,47,48,49,3Z,4c,4d,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,2X,2i,1u,3L,1p,h,1v,2x,3j,t,2y,H,2o,2K,T,u,1d,1n,2d,1S,1E,3A,1O,2g,2a,2u,2Y,2h,2N,3K,1s,3f,W,1D,v,3D,1m,2E,1R,d,2H,1G,s,1w,V,D,P,C,2f,1U,M,1e,1Q,1B,2n,3C,1i,2c,3s,2O,1f,j,2e,1X,1N,S,y,3p,2D,1c,1H,3d,2v,1z,3G,3y,3N,2k,2U,3t,1W,1A,n,2r,3b,2z,3k,o,2T,3B,1I,1P,3c,1j,1x,1Y,N,1t,1o,2L,E,p,i,f,a])},4A:4g(){4f 4h.4e([2l,3F,2F,2F,3g,1J,2Z,2Z,3h,3w,2m,2m,3x,2X,2i,2i,1u,3L,1p,1p,h,1a,1v,1v,2x,3j,t,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,Q,2h,2N,J,J,3K,2j,1s,1s,3f,3v,W,W,1D,2C,v,v,3D,3a,1m,1m,1Z,2E,1R,1R,1F,d,c,2H,2H,1G,2p,s,s,2b,1w,Y,Y,V,D,L,L,P,1C,C,C,m,2f,3l,3l,1U,M,2t,2t,1e,Z,1Q,1Q,I,1B,2q,2q,2n,2I,3C,3C,1i,3E,2c,2c,X,3s,O,O,2O,3e,1f,1f,2A,j,2w,2w,2e,1M,1X,1X,1l,1N,2J,2J,S,1h,y,y,q,3p,1b,1b,2D,3r,1c,1c,1y,1H,K,K,3d,1T,2v,2v,3u,1z,3o,3G,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,2P,2P,n,k,2r,2r,3m,3b,3V,3V,2z,3R,3k,3k,3q,o,3Q,3Q,2T,2R,3B,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,N,w,1t,2s,2s,1o,U,2L,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[2l,3F,3F,2F,2F,3g,3g,1J,1J,2Z,2Z,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,2y,3H,3H,H,H,2o,2o,2K,2K,z,z,T,T,u,u,1d,1d,1K,1K,1n,1n,2d,2d,1S,1S,2M,2M,1E,1E,3A,3A,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,J,J,3K,3K,2j,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,3D,3D,3a,3a,1m,1m,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,1T,2v,2v,3u,3u,1z])},4B:4g(){4f 4h.4e([12,13,13,14,14,15,16,16,17,17,18,18,19,19,20,20,20,21,21,21,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,25,25,25,26,26,27,27,28,29,29,30,31,32,32,33,34,35,36,37,38,39,40,41,42,43,44,46,47,48,49,3Z,4d,3T,4b,3Y,3P,4a,3S,3M,3W,2l,3F,3g,1J,2Z,3w,2m,3x,2i,1u,3L,h,1a,1v,2x,t,2y,3H,2o,2K,z,u,1d,1K,1n,1S,2M,1E,1k,1O,2g,2W,2u,2Y,Q,2N,J,3K,2j,3f,3v,W,1D,v,3D,3a,1m,2E,1R,1F,d,2H,1G,2p,s,2b,Y,V,D,L,P,C,m,2f,3l,1U,M,1e,Z,1Q,I,1B,2q,2n,3C,1i,3E,2c,X,3s,O,2O,3e,1f,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,3o,3G,3J,3y,3y,3I,3N,2V,2k,3U,3U,2U,2B,3t,2Q,2Q,1W,3z,1A,2P,2P,n,k,2r,2r,3m,3b,3V,3V,2z,3R,3R,3k,3q,3q,o,3Q,2T,2T,2R,3B,3B,3O,2G,2G,1I,1g,1g,1P,3i,3i,3c,2S,2S,1j,1V,1V,1x],[9,10,10,11,11,12,13,13,14,14,15,16,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,37,38,39,41,42,43,45,46,48,49,3Z,4d,3T,3Y,1q,3P,3S,3M,3W,2l,3F,3g,1J,2Z,3w,2m,3x,2i,1u,3L,1p,1a,1v,2x,3j,2y,3H,H,2o,2K,z,u,1d,1K,1n,2d,1S,2M,1E,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,c,2H,1G,2p,s,2b,1w,Y,V,D,D,L,P,1C,C,m,2f,2f,3l,1U,M,2t,1e,1e,Z,1Q,I,1B,2q,2q,2n,2I,3C,1i,1i,3E,2c,X,X,3s,O,2O,3e,3e,1f,2A,j,j,2w,2e,1M,1M,1X,1l,1l,1N,2J,S,S,1h,y,q,q,3p,1b,1b,2D,3r,1c,1c,1y,1H,1H,K,3d,3d,1T,2v,3u,3u,1z,3o,3o,3G,3J,3J,3y,3I,3I,3N,2V,2V,2k,3U,2U,2U,2B,3t,3t,2Q,1W,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,3V,2z,3R,3R,3k,3q,3q,o,3Q,3Q,2T,2R,2R,3B,3O,3O,2G,1I,1I,1g,1P,1P,3i,3i,3c,2S,2S,1j,1V,1V,1x],[32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,1s,3f,3v,W,1D,2C,v,v,3D,3a,1m,1Z,1Z,2E,1R,1F,1F,d,c,c,2H,1G,1G,2p,s,s,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,3l,1U,1U,M,M,M,2t,2t,1e,1e,1e,Z,Z,Z,1Q,1Q,1Q,I,I,I,1B,1B,1B,2q,2q,2q,2n,2n,2n,2I,2I,2I,3C,3C,3C,1i,1i,1i,3E,3E,3E,2c,2c,2c,X,X,X,3s,3s,3s,O,O,O,2O,2O,2O,3e,3e,3e,1f,1f,2A,2A,2A,j,j,2w,2w,2w,2e,2e,2e,1M,1M,1X,1X,1X,1l,1l,1l,1N,1N,1N,2J,2J,2J,S,S,S,S,1h,1h,1h,1h,1h,y,y,y,y,y,y,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q])},4C:4g(){4f 4h.4e([0,0,1,1,1,2,2,2,3,3,4,4,4,5,5,5,6,6,7,7,7,8,8,9,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,20,20,21,22,22,23,23,24,25,26,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,3Z,4c,4d,3T,4b,1q,3P,4a,3S,3X,3W,2l,3F,3g,1J,2Z,3w,2m,2X,2i,1u,1p,h,1v,2x,3j,2y,3H,2o,2K,T,u,1K,1n,1S,2M,3A,1k,2g,2a,2u,Q,2h,J,3K,1s,3v,W,2C,v,3a,1m,2E,1F,d,2H,1G,s,1w,Y,D,L,1C,m,2f,1U,M,1e,Z,I,2q,2n,3C,1i,2c,X,O,2O,1f,2A,2w,1M,1X,1N,2J,S,y,q,1b,2D,1c,1y,K,3d,1T,3u,1z,3G,3J,3y,3N,2V,2k,3U,2B,3t,2Q,1W,1A,2P,n,k,2r,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3i,3c,2S,1j,1V,1V,1x,3n,1Y,1Y,1r,N,N,w,w,1t,2s,2s,1o,1o,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,i,l,l,f,f,e,e,a,a],[0,1,2,2,3,4,5,5,6,7,8,8,9,10,11,11,12,13,14,15,15,16,17,18,18,19,20,21,21,22,23,24,25,25,26,27,28,29,29,30,31,32,33,33,34,35,36,37,38,38,39,40,41,42,43,43,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,3Y,1q,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,2g,2W,2a,2u,2Y,Q,2h,J,3K,2j,1s,3f,W,1D,2C,v,3D,1m,1Z,2E,1R,d,c,2H,2p,s,2b,Y,V,D,L,1C,C,m,3l,1U,2t,1e,Z,I,1B,2q,2I,3C,1i,2c,X,O,2O,3e,2A,j,2w,1M,1X,1l,2J,S,1h,q,3p,1b,3r,1c,1y,K,3d,1T,3u,1z,3o,3G,3y,3I,3N,2V,2k,2U,2B,3t,2Q,1W,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1j,1V,1x,3n,1Y,1Y,1r,N,w,w,1t,2s,1o,1o,U,2L,A,A,1L,E,E,F,p,p,x,i,l,l,f,e,e,a],[1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,3P,3P,4a,4a,3S,3M,3M,3X,3W,3W,2l,2l,3F,2F,2F,3g,1J,1J,2Z,2Z,3h,3w,3w,2m,2m,3x,2X,2X,2i,1u,1u,3L,3L,1p,h,h,1a,1a,1v,2x,2x,3j,t,t,2y,2y,3H,H,H,2o,2K,2K,z,z,T,u,u,1d,1d,1K,1n,1n,2d,1S,1S,2M,2M,1E,3A,3A,1k,1k,1O,2g,2g,2W,2a,2a,2u,2u,2Y,Q,Q,2h,2N,2N,J,J,3K,2j,2j,1s,1s,3f,3v,3v,W,1D,1D,2C,2C,v,3D,3D,3a,3a,1m,1Z,1Z,2E,1R,1R,1F,1F,d,c,c,2H,1G,1G,2p,2p,s,2b,2b,1w,1w,Y,V,V,D,L,L,P,P,1C,C,C,m,2f,2f,3l,3l,1U,M,M,2t,2t,1e,Z,Z,1Q,I,I,1B,1B,2q,2n,2n,2I,2I,3C,1i,1i,3E,2c,2c,X,X,3s,O,O,2O,3e,3e,1f,1f,2A,j,j,2w,2w,2e,1M,1M,1X,1l,1l,1N,1N,2J,S,S,1h,1h,y,q,q,3p,1b,1b,2D,2D,3r,1c,1c,1y,1H,1H,K,K,3d,1T,1T,2v,2v,3u,1z,1z,3o,3G,3G,3J,3J,3y,3I,3I,3N,3N,2V,2k,2k,3U,2U,2U,2B,2B,3t,2Q,2Q,1W,3z,3z,1A,1A,2P])},4D:4g(){4f 4h.4e([0,1,1,2,2,3,4,4,5,5,6,7,7,8,8,9,10,10,11,11,12,13,13,14,14,15,16,16,17,18,18,19,19,20,21,21,22,23,23,24,25,25,26,27,27,28,29,29,30,31,32,32,33,34,34,35,36,37,37,38,39,40,40,41,42,43,44,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,t,2y,3H,H,2o,2K,T,u,1d,1K,1n,1S,2M,1E,3A,1O,2g,2W,2a,2Y,Q,2h,J,3K,2j,3f,3v,W,2C,v,3D,1m,1Z,1R,1F,d,2H,1G,s,2b,1w,V,D,P,1C,m,2f,1U,M,1e,Z,I,1B,2n,2I,1i,3E,X,3s,2O,3e,2A,j,2e,1M,1l,2J,S,y,q,1b,2D,1c,1H,K,1T,2v,1z,3G,3J,3I,3N,2k,2U,2B,2Q,1W,1A,n,k,3m,3V,2z,3k,o,3Q,2R,3B,2G,1g,1P,3c,1j,1V,3n,1r,N,1t,1o,U,A,E,F,x,l,f,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,1,2,3,3,4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1v,2x,3j,t,2y,3H,H,2o,2K,z,u,1d,1K,1n,2d,1S,2M,3A,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,2j,1s,3f,3v,W,1D,v,3D,3a,1m,2E,1R,1F,d,c,1G,2p,s,2b,1w,V,D,L,P,C,m,2f,3l,1U,2t,1e,Z,1Q,I,2q,2n,2I,3C,1i,2c,X,3s,O,2O,1f,2A,j,2w,2e,1M,1l,1N,2J,S,1h,y,q,1b,2D,3r,1c,1y,1H,K,3d,1T,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,w,w,1t,2s,1o,1o,U,2L,A,A,1L,E,F,F,p,x,i,i,l,f,e,e,a],[22,23,24,24,25,26,27,28,29,29,30,31,32,33,33,34,35,36,37,37,38,39,40,41,42,42,43,44,45,46,46,47,48,49,3Z,4c,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,3F,2F,3g,1J,2Z,2Z,3h,3w,2m,3x,2X,2X,2i,1u,3L,1p,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,H,2o,2K,z,T,u,u,1d,1K,1n,2d,2d,1S,2M,1E,3A,3A,1k,1O,2g,2W,2a,2a,2u,2Y,Q,2h,2h,2N,J,3K,2j,1s,1s,3f,3v,W,1D,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,1F,d,c,2H,1G,1G,2p,s,2b,1w,Y,Y,V,D,L,P,P,1C,C,m,2f,3l,3l,1U,M,2t,1e,1e,Z,1Q,I,1B,2q,2q,2n,2I,3C,1i,1i,3E,2c,X,3s,3s,O,2O,3e,1f,2A,2A,j,2w,2e,1M,1M,1X,1l,1N,2J,S,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3o,3G,3J,3y,3I,3N,3N,2V,2k,3U,2U,2U,2B,3t,2Q,1W,3z,3z,1A,2P,n,k,k,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,o,3Q,2T,2R,3B,3B,3O,2G,1I,1g,1P,1P,3i,3c])},4E:4g(){4f 4h.4e([0,0,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,8,8,8,9,9,9,9,9,9,11,11,11,12,12,12,14,14,14,15,15,15,17,17,17,18,18,18,20,20,21,21,21,23,23,23,24,26,26,27,29,29,30,32,32,33,35,35,36,38,38,39,41,41,42,44,44,45,48,48,3Z,3T,3T,4b,1q,1q,3S,3W,3W,2l,2F,2F,3g,2m,2m,3x,2i,2i,h,h,h,t,2y,2y,2o,T,T,1d,1S,1S,1E,1O,1O,2a,2u,2u,2h,3K,3K,W,1D,1D,3D,1Z,1Z,1R,2H,2H,2p,s,s,D,L,L,2f,M,M,2t,1B,1B,2q,2I,2I,2c,O,O,3e,2w,2w,1M,1N,1N,1h,3p,3p,3r,1c,1c,K,2v,2v,1z,3o,3o,3y,3N,3N,2U,3t,3t,3z,3z,3z,n,3m,3m,2z,3R,3R,3q,o,o,2R,2G,2G,1g,1P,1P,2S,1V,1V,1x,1Y,1Y,1r,1t,1t,1o,A,A,F,p,p,p,i,i,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e],[0,2,3,3,5,6,6,8,9,9,9,11,11,12,14,14,15,17,17,17,18,18,20,21,21,23,24,24,24,26,26,27,29,29,30,32,32,33,35,35,36,38,38,41,41,41,42,44,44,45,47,47,3Z,3Z,3Z,4c,3T,3T,4b,1q,1q,3S,3M,3M,3W,2l,2l,3g,2Z,2Z,3h,2m,2m,3x,2i,2i,1u,h,h,1v,t,t,2y,H,H,z,T,T,1d,2d,2d,1S,1E,1E,1O,2g,2g,2u,Q,Q,2h,J,J,1s,W,W,1D,v,v,1m,1Z,1Z,1R,c,c,2H,s,s,1w,D,D,L,1C,1C,C,3l,3l,M,Z,Z,1Q,2q,2q,2I,3C,3C,2c,3s,3s,O,1f,1f,j,2w,2w,1X,1N,1N,2J,1h,1h,3p,1b,1b,3r,1H,1H,K,1T,1T,2v,1z,1z,3o,3J,3J,3y,2V,2V,3U,2U,2U,3t,2Q,2Q,3z,1A,1A,n,k,k,3m,3b,3b,2z,2z,2z,3R,3q,3q,o,2T,2T,2R,3O,3O,3O,2G,2G,1g,1g,1g,1P,3c,3c,3c,2S,2S,1V,1V,1V,1x,1x,1x,1Y,1Y,1Y,1r,1r,1r,w,w,w,1t,1t,1t,1o,U,U,U,U,U,A,A,A,1L,1L,1L,F,F,F,p,p,p,p,i,i,i,l,l,l,l,l,e,e,e],[23,24,26,26,27,29,29,30,32,32,32,33,33,35,36,36,36,38,38,39,41,41,41,44,44,45,47,47,47,48,48,3Z,4c,4c,4c,3T,3T,4b,1q,1q,3P,3S,3S,3M,3W,3W,3W,2l,2l,2F,3g,3g,3g,2Z,2Z,3h,2m,2m,3x,2i,2i,1u,1u,1u,1p,h,h,1v,2x,2x,2x,t,t,2y,H,H,2o,2o,2o,z,T,T,1d,1K,1K,2d,1S,1S,1E,3A,3A,3A,1O,1O,2g,2a,2a,2u,2u,2u,Q,2h,2h,J,J,J,3K,1s,1s,3f,W,W,1D,v,v,v,3D,3D,1m,1Z,1Z,1R,1R,1R,1F,c,c,2H,2p,2p,s,1w,1w,1w,Y,Y,D,L,L,1C,C,C,2f,2f,2f,3l,M,M,2t,Z,Z,Z,1Q,1Q,1B,2q,2q,2q,2I,2I,3C,3E,3E,2c,3s,3s,O,O,O,3e,1f,1f,j,2w,2w,1M,1X,1X,1X,1N,1N,2J,1h,1h,y,y,y,3p,1b,1b,3r,1c,1c,1H,K,K,K,1T,1T,2v,1z,1z,1z,3o,3o,3J,3y,3y,3N,2V,2V,3U,2U,2U,3t,3t,3t,2Q,3z,3z,1A,1A,1A,n,k,k,3m,3b,3b,2z,3R,3R,3q,3q,3q,o,2T,2T,2R,2R,2R,3O,2G,2G,1g,1P,1P,3c,3c,3c,2S,1V,1V,1x,1Y,1Y])},4F:4g(){4f 4h.4e([4b,4b,3Y,3Y,3Y,1q,1q,3P,3P,3P,4a,4a,4a,3S,3S,3M,3M,3M,3X,3X,3X,3W,3W,2l,2l,2l,3F,3F,2F,2F,2F,3g,3g,1J,1J,1J,2Z,2Z,3h,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,3H,3H,H,H,2o,2o,2K,z,z,T,T,u,1d,1d,1K,1n,1n,2d,1S,1S,2M,1E,1E,3A,1k,1k,1O,2g,2g,2W,2a,2u,2u,2Y,Q,Q,2h,2N,J,3K,3K,2j,1s,3f,3f,3v,W,1D,2C,2C,v,3D,3a,1m,1Z,1Z,2E,1R,1F,d,c,c,2H,1G,2p,s,2b,1w,Y,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,2s,1o,U,2L,A,1L,E,F,p,i,l,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1X,1l,1N,2J,S,1h,y,y,q,3p,1b,2D,2D,3r,1c,1y,1y,1H,K,3d,3d,1T,2v,2v,3u,1z,1z,3o,3G,3G,3J,3J,3y,3y,3I,3N,3N,2V,2V,2k,2k,2k,3U,3U,2U,2U,2B,2B,2B,3t,3t,3t,2Q,2Q,2Q,1W,1W,1W,3z,3z,3z,1A,1A,1A,1A,2P,2P,2P,n,n,n,n,n,k,k,k,k,2r,2r,2r,2r,3m,3m,3m],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,3w,2m,3x,2X,2i,1u,3L,1p,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1k,1O,2g,2g,2W,2a,2a,2u,2Y,2Y,Q,Q,2h,2N,2N,J,J,3K,3K,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,v,3D,3D,3a,3a,1m,1m,1m,1Z,1Z,2E,2E,2E,1R,1R,1R,1F,1F,1F,d,d,d,c,c,c,2H,2H,2H,2H,1G,1G,1G,2p,2p,2p,2p,s,s,s,s,2b,2b,2b,2b,1w,1w,1w,1w,1w,Y,Y,Y,Y,Y,V,V,V,V,V,V,D,D,D,D,D,D,L,L,L,L,L,L,P,P,P,P,P,P,P,1C,1C,1C,1C,1C,1C,1C,1C,C,C,C,C,C,C,C,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m])},4G:4g(){4f 4h.4e([2l,3F,2F,2F,3g,1J,2Z,2Z,3h,3w,2m,2m,3x,2X,2i,2i,1u,3L,1p,1p,h,1a,1v,1v,2x,3j,t,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,Q,2h,2N,J,J,3K,2j,1s,1s,3f,3v,W,W,1D,2C,v,v,3D,3a,1m,1m,1Z,2E,1R,1R,1F,d,c,2H,2H,1G,2p,s,s,2b,1w,Y,Y,V,D,L,L,P,1C,C,C,m,2f,3l,3l,1U,M,2t,2t,1e,Z,1Q,1Q,I,1B,2q,2q,2n,2I,3C,3C,1i,3E,2c,2c,X,3s,O,O,2O,3e,1f,1f,2A,j,2w,2w,2e,1M,1X,1X,1l,1N,2J,2J,S,1h,y,y,q,3p,1b,1b,2D,3r,1c,1c,1y,1H,K,K,3d,1T,2v,2v,3u,1z,3o,3G,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,2P,2P,n,k,2r,2r,3m,3b,3V,3V,2z,3R,3k,3k,3q,o,3Q,3Q,2T,2R,3B,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,N,w,1t,2s,2s,1o,U,2L,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[2l,3F,3F,2F,2F,3g,3g,1J,1J,2Z,2Z,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,2y,3H,3H,H,H,2o,2o,2K,2K,z,z,T,T,u,u,1d,1d,1K,1K,1n,1n,2d,2d,1S,1S,2M,2M,1E,1E,3A,3A,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,J,J,3K,3K,2j,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,3D,3D,3a,3a,1m,1m,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,1T,2v,2v,3u,3u,1z])},4H:4g(){4f 4h.4e([2l,3F,2F,2F,3g,1J,2Z,2Z,3h,3w,2m,2m,3x,2X,2i,2i,1u,3L,1p,1p,h,1a,1v,1v,2x,3j,t,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,Q,2h,2N,J,J,3K,2j,1s,1s,3f,3v,W,W,1D,2C,v,v,3D,3a,1m,1m,1Z,2E,1R,1R,1F,d,c,2H,2H,1G,2p,s,s,2b,1w,Y,Y,V,D,L,L,P,1C,C,C,m,2f,3l,3l,1U,M,2t,2t,1e,Z,1Q,1Q,I,1B,2q,2q,2n,2I,3C,3C,1i,3E,2c,2c,X,3s,O,O,2O,3e,1f,1f,2A,j,2w,2w,2e,1M,1X,1X,1l,1N,2J,2J,S,1h,y,y,q,3p,1b,1b,2D,3r,1c,1c,1y,1H,K,K,3d,1T,2v,2v,3u,1z,3o,3G,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,2P,2P,n,k,2r,2r,3m,3b,3V,3V,2z,3R,3k,3k,3q,o,3Q,3Q,2T,2R,3B,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,N,w,1t,2s,2s,1o,U,2L,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[2l,3F,3F,2F,2F,3g,3g,1J,1J,2Z,2Z,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,2y,3H,3H,H,H,2o,2o,2K,2K,z,z,T,T,u,u,1d,1d,1K,1K,1n,1n,2d,2d,1S,1S,2M,2M,1E,1E,3A,3A,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,J,J,3K,3K,2j,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,3D,3D,3a,3a,1m,1m,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,1T,2v,2v,3u,3u,1z])},4I:4g(){4f 4h.4e([0,0,1,1,1,2,2,2,3,3,4,4,4,5,5,5,6,6,7,7,7,8,8,9,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,20,20,21,22,22,23,23,24,25,26,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,3Z,4c,4d,3T,4b,1q,3P,4a,3S,3X,3W,2l,3F,3g,1J,2Z,3w,2m,2X,2i,1u,1p,h,1v,2x,3j,2y,3H,2o,2K,T,u,1K,1n,1S,2M,3A,1k,2g,2a,2u,Q,2h,J,3K,1s,3v,W,2C,v,3a,1m,2E,1F,d,2H,1G,s,1w,Y,D,L,1C,m,2f,1U,M,1e,Z,I,2q,2n,3C,1i,2c,X,O,2O,1f,2A,2w,1M,1X,1N,2J,S,y,q,1b,2D,1c,1y,K,3d,1T,3u,1z,3G,3J,3y,3N,2V,2k,3U,2B,3t,2Q,1W,1A,2P,n,k,2r,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3i,3c,2S,1j,1V,1V,1x,3n,1Y,1Y,1r,N,N,w,w,1t,2s,2s,1o,1o,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,i,l,l,f,f,e,e,a,a],[0,1,2,2,3,4,5,5,6,7,8,8,9,10,11,11,12,13,14,15,15,16,17,18,18,19,20,21,21,22,23,24,25,25,26,27,28,29,29,30,31,32,33,33,34,35,36,37,38,38,39,40,41,42,43,43,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,3Y,1q,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,2g,2W,2a,2u,2Y,Q,2h,J,3K,2j,1s,3f,W,1D,2C,v,3D,1m,1Z,2E,1R,d,c,2H,2p,s,2b,Y,V,D,L,1C,C,m,3l,1U,2t,1e,Z,I,1B,2q,2I,3C,1i,2c,X,O,2O,3e,2A,j,2w,1M,1X,1l,2J,S,1h,q,3p,1b,3r,1c,1y,K,3d,1T,3u,1z,3o,3G,3y,3I,3N,2V,2k,2U,2B,3t,2Q,1W,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1j,1V,1x,3n,1Y,1Y,1r,N,w,w,1t,2s,1o,1o,U,2L,A,A,1L,E,E,F,p,p,x,i,l,l,f,e,e,a],[1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,3P,3P,4a,4a,3S,3M,3M,3X,3W,3W,2l,2l,3F,2F,2F,3g,1J,1J,2Z,2Z,3h,3w,3w,2m,2m,3x,2X,2X,2i,1u,1u,3L,3L,1p,h,h,1a,1a,1v,2x,2x,3j,t,t,2y,2y,3H,H,H,2o,2K,2K,z,z,T,u,u,1d,1d,1K,1n,1n,2d,1S,1S,2M,2M,1E,3A,3A,1k,1k,1O,2g,2g,2W,2a,2a,2u,2u,2Y,Q,Q,2h,2N,2N,J,J,3K,2j,2j,1s,1s,3f,3v,3v,W,1D,1D,2C,2C,v,3D,3D,3a,3a,1m,1Z,1Z,2E,1R,1R,1F,1F,d,c,c,2H,1G,1G,2p,2p,s,2b,2b,1w,1w,Y,V,V,D,L,L,P,P,1C,C,C,m,2f,2f,3l,3l,1U,M,M,2t,2t,1e,Z,Z,1Q,I,I,1B,1B,2q,2n,2n,2I,2I,3C,1i,1i,3E,2c,2c,X,X,3s,O,O,2O,3e,3e,1f,1f,2A,j,j,2w,2w,2e,1M,1M,1X,1l,1l,1N,1N,2J,S,S,1h,1h,y,q,q,3p,1b,1b,2D,2D,3r,1c,1c,1y,1H,1H,K,K,3d,1T,1T,2v,2v,3u,1z,1z,3o,3G,3G,3J,3J,3y,3I,3I,3N,3N,2V,2k,2k,3U,2U,2U,2B,2B,3t,2Q,2Q,1W,3z,3z,1A,1A,2P])},4J:4g(){4f 4h.4e([0,2,3,5,7,8,10,12,13,15,17,18,20,22,24,25,27,29,30,32,34,35,37,38,40,42,43,45,47,48,3Z,4d,3T,3Y,3P,4a,3M,3X,2l,2F,3g,2Z,3h,2m,2X,2i,3L,1p,1a,1v,3j,t,3H,2o,2K,T,u,1K,1n,1S,2M,3A,1k,2g,2W,2u,2Y,Q,2N,J,2j,1s,3v,W,1D,v,3D,3a,1Z,2E,1F,d,c,1G,2p,s,2b,Y,V,D,P,1C,C,m,2f,1U,M,2t,1e,Z,I,1B,2q,2n,2I,3C,1i,3E,2c,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,3o,3o,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,2z,2z,3R,3R,3k,3q,3q,o,o,3Q,2T,2T,2R,2R,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3c,3c,2S,2S,1j,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,1r,N,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,2L,A,A,1L,1L,E,E,F,F,F,p,p,x,x,i,i,l,l,l,f,f,e,e,a,a],[0,1,1,2,3,3,4,4,5,6,6,7,8,8,9,10,10,11,11,12,13,13,14,15,15,16,17,17,18,19,19,20,20,21,22,22,23,24,24,25,26,26,27,28,28,29,30,30,31,32,33,33,34,35,35,36,37,37,38,39,40,40,41,42,42,43,44,45,45,46,47,47,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,3P,3P,4a,3S,3M,3M,3X,3W,2l,3F,2F,2F,3g,1J,2Z,3h,3h,3w,2m,3x,2X,2i,1u,1u,3L,1p,h,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,2C,v,3D,3a,1m,1Z,2E,1R,d,c,2H,1G,2p,s,2b,Y,V,D,L,P,C,m,2f,3l,1U,2t,1e,Z,1Q,1B,2q,2n,2I,1i,3E,2c,X,O,2O,3e,1f,j,2w,2e,1X,1l,1N,2J,1h,y,q,1b,2D,3r,1y,1H,K,1T,2v,3u,3o,3G,3J,3I,3N,2V,3U,2U,2B,2Q,1W,1A,2P,n,2r,3m,3b,2z,3R,3k,o,3Q,2R,3B,3O,1I,1g,3i,3c,2S,1V,1x,3n,1r,N,1t,2s,1o,2L,A,E,F,p,i,l,e,a],[d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c])},4K:4g(){4f 4h.4e([0,1,1,2,2,3,4,4,5,5,6,7,7,8,8,9,10,10,11,11,12,13,13,14,14,15,16,16,17,18,18,19,19,20,21,21,22,23,23,24,25,25,26,27,27,28,29,29,30,31,32,32,33,34,34,35,36,37,37,38,39,40,40,41,42,43,44,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,t,2y,3H,H,2o,2K,T,u,1d,1K,1n,1S,2M,1E,3A,1O,2g,2W,2a,2Y,Q,2h,J,3K,2j,3f,3v,W,2C,v,3D,1m,1Z,1R,1F,d,2H,1G,s,2b,1w,V,D,P,1C,m,2f,1U,M,1e,Z,I,1B,2n,2I,1i,3E,X,3s,2O,3e,2A,j,2e,1M,1l,2J,S,y,q,1b,2D,1c,1H,K,1T,2v,1z,3G,3J,3I,3N,2k,2U,2B,2Q,1W,1A,n,k,3m,3V,2z,3k,o,3Q,2R,3B,2G,1g,1P,3c,1j,1V,3n,1r,N,1t,1o,U,A,E,F,x,l,f,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[0,1,2,3,3,4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,21,22,23,24,24,25,26,27,28,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1v,2x,3j,t,2y,3H,H,2o,2K,z,u,1d,1K,1n,2d,1S,2M,3A,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,2j,1s,3f,3v,W,1D,v,3D,3a,1m,2E,1R,1F,d,c,1G,2p,s,2b,1w,V,D,L,P,C,m,2f,3l,1U,2t,1e,Z,1Q,I,2q,2n,2I,3C,1i,2c,X,3s,O,2O,1f,2A,j,2w,2e,1M,1l,1N,2J,S,1h,y,q,1b,2D,3r,1c,1y,1H,K,3d,1T,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1g,1g,1P,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,w,w,1t,2s,1o,1o,U,2L,A,A,1L,E,F,F,p,x,i,i,l,f,e,e,a],[22,23,24,24,25,26,27,28,29,29,30,31,32,33,33,34,35,36,37,37,38,39,40,41,42,42,43,44,45,46,46,47,48,49,3Z,4c,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,3F,2F,3g,1J,2Z,2Z,3h,3w,2m,3x,2X,2X,2i,1u,3L,1p,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,H,2o,2K,z,T,u,u,1d,1K,1n,2d,2d,1S,2M,1E,3A,3A,1k,1O,2g,2W,2a,2a,2u,2Y,Q,2h,2h,2N,J,3K,2j,1s,1s,3f,3v,W,1D,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,1F,d,c,2H,1G,1G,2p,s,2b,1w,Y,Y,V,D,L,P,P,1C,C,m,2f,3l,3l,1U,M,2t,1e,1e,Z,1Q,I,1B,2q,2q,2n,2I,3C,1i,1i,3E,2c,X,3s,3s,O,2O,3e,1f,2A,2A,j,2w,2e,1M,1M,1X,1l,1N,2J,S,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3o,3G,3J,3y,3I,3N,3N,2V,2k,3U,2U,2U,2B,3t,2Q,1W,3z,3z,1A,2P,n,k,k,2r,3m,3b,3V,2z,2z,3R,3k,3q,o,o,3Q,2T,2R,3B,3B,3O,2G,1I,1g,1P,1P,3i,3c])},4L:4g(){4f 4h.4e([0,2,3,5,6,8,9,11,12,14,15,17,18,20,21,23,24,26,27,29,30,32,33,35,36,38,39,41,42,44,45,47,48,3Z,4c,3T,4b,1q,3P,3S,3M,3X,2l,3F,3g,1J,3h,3w,3x,2X,2i,3L,1p,1a,1v,3j,t,2y,H,2o,z,T,u,1K,1n,2d,2M,1E,1k,1O,2g,2a,2u,2Y,2h,2N,J,2j,1s,3f,3v,1D,2C,v,3a,1m,1Z,2E,1F,d,c,2H,1G,s,2b,1w,Y,V,L,P,1C,C,m,2f,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,2D,3r,1c,1y,1H,K,3d,3d,1T,2v,3u,1z,1z,3o,3G,3J,3y,3y,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,2Q,1W,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,2z,2z,3R,3k,3k,3q,o,o,3Q,2T,2T,2R,2R,3B,3O,3O,2G,1I,1I,1g,1g,1P,3i,3i,3c,3c,2S,2S,1j,1V,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,w,w,1t,1t,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,F,F,p,p,x,x,i,i,l,l,f,f,e,e,a],[0,1,2,4,5,6,7,9,10,11,12,14,15,16,17,19,20,21,22,24,25,26,27,29,30,31,32,33,35,36,37,38,40,41,42,43,44,46,47,48,49,4c,4d,3T,4b,3Y,3P,4a,3S,3M,3X,2l,3F,2F,3g,1J,3h,3w,2m,3x,2X,1u,3L,1p,h,1a,1v,3j,t,2y,3H,H,2K,z,T,u,1d,1K,1n,1S,2M,1E,3A,1k,1O,2g,2a,2u,2Y,Q,2h,2N,J,3K,2j,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,2J,S,1h,y,q,3p,1b,2D,3r,3r,1c,1y,1H,K,3d,1T,2v,2v,3u,1z,3o,3G,3J,3y,3y,3I,3N,2V,2k,3U,3U,2U,2B,3t,2Q,1W,1W,3z,1A,2P,n,k,k,2r,3m,3b,3V,3V,2z,3R,3k,3q,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1V,1V,1x,3n,1Y,1Y,1r,N,w,1t,1t,2s,1o,U,U,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,1,1,2,3,4,4,5,6,6,7,8,8,9,10,11,11,12,13,13,14,15,16,16,17,18,18,19,20,20,21,22,23,23,24,25,26,26,27,28,28,29,30,31,31,32,33,34,34,35,36,37,37,38,39,40,40,41,42,43,43,44,45,46,46,47,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,3P,3P,4a,3S,3M,3X,3W,3W,2l,3F,2F,3g,3g,1J,2Z,3h,3w,2m,3x,3x,2X,2i,1u,3L,1p,h,1a,1a,1v,2x,3j,t,2y,3H,H,2o,2K,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,1R,1F,d,c,2H,1G,2p,s,2b,1w,V,D,L,P,1C,C,m,3l,1U,M,2t,1e,Z,I,1B,2q,2n,2I,1i,3E,2c,X,3s,2O,3e,1f,2A,j,2e,1M,1X,1l,2J,S,1h,y,q,1b,2D,3r,1y,1H,K,3d,2v,3u,1z,3o,3J,3y,3I,3N,2k,3U,2U,3t,2Q,1W,3z,2P,n,k,3m,3b,3V,3R,3k,3q,o,2T,2R,3B,2G,1I,1g,3i,3c,2S,1V,1x,3n,1r,N,w,1t,1o,U,2L,1L,E,F,x,i,l,e,a])},4M:4g(){4f 4h.4e([0,1,2,3,4,5,6,6,7,8,9,10,11,12,13,14,15,16,17,17,18,19,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,x,i,l,f,e,a],[0,1,1,2,3,3,4,5,6,6,7,8,8,9,10,10,11,12,12,13,14,15,15,16,17,17,18,19,19,20,21,22,22,23,24,24,25,26,27,27,28,29,29,30,31,32,32,33,34,34,35,36,37,37,38,39,40,40,41,42,43,43,44,45,46,46,47,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,3P,3P,4a,3S,3M,3X,3X,3W,2l,3F,2F,3g,3g,1J,2Z,3h,3w,2m,3x,3x,2X,2i,1u,3L,1p,h,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,2b,1w,Y,V,D,L,P,C,m,2f,3l,1U,M,1e,Z,1Q,I,1B,2q,2I,3C,1i,3E,X,3s,O,2O,3e,2A,j,2w,2e,1X,1l,1N,2J,1h,y,q,3p,2D,3r,1c,1y,K,3d,1T,2v,1z,3o,3G,3y,3I,3N,2V,3U,2U,2B,2Q,1W,3z,1A,n,k,2r,3b,3V,2z,3k,3q,o,2T,2R,3B,2G,1I,1g,1P,3c,2S,1j,1x,3n,1Y,N,w,1t,1o,U,2L,1L,E,F,x,i,l,e,a],[0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,9,9,10,10,11,11,12,12,13,13,14,15,15,16,16,17,17,18,18,19,20,20,21,21,22,22,23,24,24,25,25,26,26,27,28,28,29,29,30,31,31,32,33,33,34,34,35,36,36,37,38,38,39,40,40,41,41,42,43,43,44,45,46,46,47,48,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,1q,3P,4a,3S,3S,3M,3X,3W,2l,2l,3F,2F,3g,1J,1J,2Z,3h,3w,2m,3x,2X,2X,2i,1u,3L,1p,h,1a,1v,2x,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,3K,2j,1s,3v,W,1D,2C,v,3D,1m,1Z,2E,1R,1F,c,2H,1G,2p,2b,1w,Y,V,L,P,1C,m,2f,3l,M,2t,1e,1Q,I,1B,2n,2I,3C,3E,2c,X,O,2O,1f,2A,j,2e,1M,1l,1N,2J,1h,y,3p,1b,3r,1c,1y,K,3d,2v,3u,3o,3G,3y,3I,2V,2k,2U,2B,3t,1W,3z,2P,n,2r,3m,3V,2z,3k,3q,3Q,2T,3B,2G,1I,1P,3i,2S,1j,1x,3n,1r,N,1t,2s,U,2L,1L,E,p,x,l,f,a])},4N:4g(){4f 4h.4e([0,1,1,2,2,3,3,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,19,19,20,21,21,22,23,23,24,25,25,26,27,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,38,39,40,41,42,42,43,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,1a,1v,2x,3j,t,2y,H,2o,2K,z,T,u,1K,1n,2d,1S,1E,3A,1k,1O,2W,2a,2u,2Y,2h,2N,J,3K,1s,3f,3v,1D,2C,v,3a,1m,1Z,1R,1F,d,2H,1G,s,2b,1w,V,D,P,1C,C,2f,3l,M,2t,Z,1Q,I,2q,2n,3C,1i,2c,X,O,2O,1f,2A,j,2e,1M,1l,1N,S,1h,q,3p,2D,3r,1y,K,3d,2v,3u,3o,3G,3y,3I,2V,2k,2U,2B,2Q,1W,1A,n,k,3m,3b,2z,3R,3q,o,2T,3B,3O,1I,1g,3i,3c,1j,1x,3n,1r,N,1t,2s,U,A,1L,F,p,i,l,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,3j,t,2y,3H,H,2o,2K,z,T,1d,1K,1n,2d,1S,2M,1E,1k,1O,2g,2W,2a,2u,2Y,2h,2N,J,3K,2j,1s,3f,W,1D,2C,v,3D,3a,1Z,2E,1R,1F,d,c,2H,2p,s,2b,1w,Y,V,D,P,1C,C,m,2f,3l,1U,2t,1e,Z,1Q,I,1B,2q,2n,3C,1i,3E,2c,X,3s,O,2O,3e,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,k,2r,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3c,3c,2S,1j,1V,1V,1x,3n,1Y,1r,1r,N,w,1t,1t,2s,1o,U,U,2L,A,A,1L,E,F,F,p,x,i,i,l,f,e,e,a],[19,19,20,21,21,22,23,24,25,26,26,27,28,29,30,31,31,32,33,34,35,36,36,37,38,39,40,40,41,42,43,44,45,45,46,47,48,49,3Z,3Z,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,3F,2F,3g,1J,2Z,3h,3h,3w,2m,3x,2X,2i,2i,1u,3L,1p,h,1a,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,2K,z,T,u,1d,1K,1K,1n,2d,1S,2M,1E,1E,3A,1k,1O,2g,2W,2W,2a,2u,2Y,Q,Q,2h,2N,J,3K,2j,2j,1s,3f,3v,W,1D,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,1F,d,c,2H,1G,2p,2p,s,2b,1w,Y,V,V,D,L,P,1C,C,C,m,2f,3l,1U,1U,M,2t,1e,Z,1Q,1Q,I,1B,2q,2n,2I,2I,3C,1i,3E,2c,X,X,3s,O,2O,3e,1f,1f,2A,j,2w,2e,2e,1M,1X,1l,1N,2J,2J,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3G,3G,3J,3y,3I,3N,2V,2V,2k,3U,2U,2B,3t,3t,2Q,1W,3z,1A,2P,2P,n,k,2r,3m,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1g,1g,1P,3i])},4O:4g(){4f 4h.4e([0,1,1,2,2,3,3,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,19,19,20,21,21,22,23,23,24,25,25,26,27,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,38,39,40,41,42,42,43,44,45,46,47,48,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,1a,1v,2x,3j,t,2y,H,2o,2K,z,T,u,1K,1n,2d,1S,1E,3A,1k,1O,2W,2a,2u,2Y,2h,2N,J,3K,1s,3f,3v,1D,2C,v,3a,1m,1Z,1R,1F,d,2H,1G,s,2b,1w,V,D,P,1C,C,2f,3l,M,2t,Z,1Q,I,2q,2n,3C,1i,2c,X,O,2O,1f,2A,j,2e,1M,1l,1N,S,1h,q,3p,2D,3r,1y,K,3d,2v,3u,3o,3G,3y,3I,2V,2k,2U,2B,2Q,1W,1A,n,k,3m,3b,2z,3R,3q,o,2T,3B,3O,1I,1g,3i,3c,1j,1x,3n,1r,N,1t,2s,U,A,1L,F,p,i,l,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,3j,t,2y,3H,H,2o,2K,z,T,1d,1K,1n,2d,1S,2M,1E,1k,1O,2g,2W,2a,2u,2Y,2h,2N,J,3K,2j,1s,3f,W,1D,2C,v,3D,3a,1Z,2E,1R,1F,d,c,2H,2p,s,2b,1w,Y,V,D,P,1C,C,m,2f,3l,1U,2t,1e,Z,1Q,I,1B,2q,2n,3C,1i,3E,2c,X,3s,O,2O,3e,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,k,2r,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1I,1g,1P,3i,3c,3c,2S,1j,1V,1V,1x,3n,1Y,1r,1r,N,w,1t,1t,2s,1o,U,U,2L,A,A,1L,E,F,F,p,x,i,i,l,f,e,e,a],[19,19,20,21,21,22,23,24,25,26,26,27,28,29,30,31,31,32,33,34,35,36,36,37,38,39,40,40,41,42,43,44,45,45,46,47,48,49,3Z,3Z,4c,4d,3T,4b,3Y,3Y,1q,3P,4a,3S,3M,3M,3X,3W,2l,3F,3F,2F,3g,1J,2Z,3h,3h,3w,2m,3x,2X,2i,2i,1u,3L,1p,h,1a,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,2K,z,T,u,1d,1K,1K,1n,2d,1S,2M,1E,1E,3A,1k,1O,2g,2W,2W,2a,2u,2Y,Q,Q,2h,2N,J,3K,2j,2j,1s,3f,3v,W,1D,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,1F,d,c,2H,1G,2p,2p,s,2b,1w,Y,V,V,D,L,P,1C,C,C,m,2f,3l,1U,1U,M,2t,1e,Z,1Q,1Q,I,1B,2q,2n,2I,2I,3C,1i,3E,2c,X,X,3s,O,2O,3e,1f,1f,2A,j,2w,2e,2e,1M,1X,1l,1N,2J,2J,S,1h,y,q,3p,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3G,3G,3J,3y,3I,3N,2V,2V,2k,3U,2U,2B,3t,3t,2Q,1W,3z,1A,2P,2P,n,k,2r,3m,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,1I,1g,1g,1P,3i])},4P:4g(){4f 4h.4e([0,1,1,2,2,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,22,22,23,24,25,25,26,27,27,28,29,30,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3M,3X,3W,2l,3F,2F,1J,2Z,3h,3w,3x,2X,2i,1u,1p,h,1a,1v,3j,t,2y,H,2o,2K,T,u,1K,1n,2d,2M,1E,1k,1O,2g,2a,2u,Q,2h,2N,3K,2j,3f,3v,1D,2C,v,3a,1m,2E,1R,d,c,1G,2p,2b,1w,Y,D,L,1C,C,2f,3l,1U,2t,1e,1Q,I,2q,2n,2I,1i,3E,X,3s,O,3e,1f,2A,2w,2e,1X,1l,1N,S,1h,y,q,1b,2D,3r,1y,1H,K,3d,1T,3u,1z,3o,3G,3J,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,o,3Q,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,2S,1j,1j,1V,1x,1x,3n,1Y,1r,1r,N,w,w,1t,2s,2s,1o,U,U,2L,A,A,1L,E,E,F,p,p,x,i,i,l,l,f,e,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,3h,3w,2m,3x,2X,2i,1u,3L,1p,1a,1v,2x,3j,t,2y,3H,2o,2K,z,T,u,1d,1n,2d,1S,2M,1E,3A,1O,2g,2W,2a,2u,2Y,2h,2N,J,3K,2j,1s,3v,W,1D,2C,v,3a,1m,1Z,2E,1R,1F,c,2H,1G,2p,s,2b,Y,V,D,L,P,1C,m,2f,3l,1U,M,2t,Z,1Q,I,1B,2q,2n,2I,3C,3E,2c,X,3s,O,2O,3e,1f,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,2r,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,2S,1j,1j,1V,1x,1x,3n,1Y,1r,1r,N,w,1t,1t,2s,1o,1o,U,2L,A,A,1L,E,E,F,p,p,x,i,l,l,f,e,e,a],[1q,3P,3P,4a,4a,3S,3M,3M,3X,3W,3W,2l,2l,3F,2F,2F,3g,1J,1J,2Z,2Z,3h,3w,3w,2m,2m,3x,2X,2X,2i,1u,1u,3L,3L,1p,h,h,1a,1a,1v,2x,2x,3j,t,t,2y,2y,3H,H,H,2o,2K,2K,z,z,T,u,u,1d,1d,1K,1n,1n,2d,1S,1S,2M,2M,1E,3A,3A,1k,1O,1O,2g,2g,2W,2a,2a,2u,2u,2Y,Q,Q,2h,2N,2N,J,J,3K,2j,2j,1s,1s,3f,3v,3v,W,1D,1D,2C,2C,v,3D,3D,3a,1m,1m,1Z,1Z,2E,1R,1R,1F,1F,d,c,c,2H,1G,1G,2p,2p,s,2b,2b,1w,1w,Y,V,V,D,L,L,P,P,1C,C,C,m,2f,2f,3l,3l,1U,M,M,2t,2t,1e,Z,Z,1Q,I,I,1B,1B,2q,2n,2n,2I,3C,3C,1i,1i,3E,2c,2c,X,X,3s,O,O,2O,3e,3e,1f,1f,2A,j,j,2w,2w,2e,1M,1M,1X,1l,1l,1N,1N,2J,S,S,1h,y,y,q,q,3p,1b,1b,2D,2D,3r,1c,1c,1y,1H,1H,K,K,3d,1T,1T,2v,3u,3u,1z,1z,3o,3G,3G,3J,3J,3y,3I,3I,3N,2V,2V,2k,2k,3U,2U,2U,2B,2B,3t,2Q,2Q,1W,3z,3z,1A,1A,2P,n,n,k,2r,2r,3m,3m,3b,3b])},4Q:4g(){4f 4h.4e([2l,3F,2F,2F,3g,1J,2Z,2Z,3h,3w,2m,2m,3x,2X,2i,2i,1u,3L,1p,1p,h,1a,1v,1v,2x,3j,t,t,2y,3H,H,H,2o,2K,z,z,T,u,1d,1d,1K,1n,2d,2d,1S,2M,1E,1E,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,Q,2h,2N,J,J,3K,2j,1s,1s,3f,3v,W,W,1D,2C,v,v,3D,3a,1m,1m,1Z,2E,1R,1R,1F,d,c,2H,2H,1G,2p,s,s,2b,1w,Y,Y,V,D,L,L,P,1C,C,C,m,2f,3l,3l,1U,M,2t,2t,1e,Z,1Q,1Q,I,1B,2q,2q,2n,2I,3C,3C,1i,3E,2c,2c,X,3s,O,O,2O,3e,1f,1f,2A,j,2w,2w,2e,1M,1X,1X,1l,1N,2J,2J,S,1h,y,y,q,3p,1b,1b,2D,3r,1c,1c,1y,1H,K,K,3d,1T,2v,2v,3u,1z,3o,3G,3G,3J,3y,3I,3I,3N,2V,2k,2k,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,2P,2P,n,k,2r,2r,3m,3b,3V,3V,2z,3R,3k,3k,3q,o,3Q,3Q,2T,2R,3B,3B,3O,2G,1I,1I,1g,1P,3i,3i,3c,2S,1j,1j,1V,1x,3n,3n,1Y,1r,N,N,w,1t,2s,2s,1o,U,2L,2L,A,1L,E,E,F,p,x,x,i,l,f,f,e,a],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,x,i,l,f,e,a],[2l,3F,3F,2F,2F,3g,3g,1J,1J,2Z,2Z,3h,3h,3w,3w,2m,2m,3x,3x,2X,2X,2i,2i,1u,1u,3L,3L,1p,1p,h,h,1a,1a,1v,1v,2x,2x,3j,3j,t,t,2y,2y,3H,3H,H,H,2o,2o,2K,2K,z,z,T,T,u,u,1d,1d,1K,1K,1n,1n,2d,2d,1S,1S,2M,2M,1E,1E,3A,3A,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,J,J,3K,3K,2j,2j,1s,1s,3f,3f,3v,3v,W,W,1D,1D,2C,2C,v,v,3D,3D,3a,3a,1m,1m,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,1T,2v,2v,3u,3u,1z])},4R:4g(){4f 4h.4e([0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,45,46,47,48,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,A,1L,E,F,p,x,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[41,41,42,43,44,45,46,47,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,p,x,i,l,f,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[s,s,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,2v,2v,3u,3u,1z,1z,3o,3o,3G,3G,3J,3J,3y,3y,3I,3I,3N,2V,2V,2k,2k,3U,3U,2U,2U,2B,2B,3t,3t,2Q,2Q,1W,3z,3z,1A,1A,2P,2P,n,n,k,k,2r,2r,3m,3m,3b,3V,3V,2z,2z,3R,3R,3k,3k,3q,3q,o,o,3Q,3Q,2T,2R,2R,3B,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3c,3c,2S,2S,1j,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f])},4S:4g(){4f 4h.4e([0,3,6,9,12,15,18,21,24,27,30,32,35,38,41,44,47,3Z,3T,3Y,4a,3X,3F,1J,3h,3x,1u,h,1v,t,H,2K,u,1K,1S,3A,1O,2a,2Y,2h,3K,1s,3v,2C,3D,1m,2E,d,2H,2p,2b,Y,D,P,C,2f,1U,M,1e,1Q,1B,2q,2I,1i,3E,X,3s,2O,3e,2A,j,2w,1M,1X,1l,1N,S,1h,y,q,3p,1b,2D,1c,1y,1H,K,3d,1T,1T,2v,3u,1z,3o,3G,3J,3J,3y,3I,3N,2V,2V,2k,3U,3U,2U,2B,3t,3t,2Q,2Q,1W,3z,3z,1A,2P,2P,n,n,k,2r,2r,3m,3m,3b,3b,3V,2z,2z,3R,3R,3k,3k,3q,3q,o,o,3Q,3Q,2T,2T,2R,2R,3B,3B,3B,3O,3O,2G,2G,1I,1I,1g,1g,1g,1P,1P,3i,3i,3i,3c,3c,2S,2S,2S,1j,1j,1j,1V,1V,1V,1x,1x,3n,3n,3n,1Y,1Y,1Y,1r,1r,1r,1r,N,N,N,w,w,w,1t,1t,1t,1t,2s,2s,2s,1o,1o,1o,1o,U,U,U,U,2L,2L,2L,2L,A,A,A,A,1L,1L,1L,1L,E,E,E,E,F,F,F,F,p,p,p,p,p,x,x,x,x,x,i,i,i,i,l,l,l,l,l,f,f,f,f,f,e,e,e,e,e,a,a,a],[31,32,33,35,36,37,38,39,41,42,43,44,45,46,48,49,3Z,4c,4d,3T,3Y,1q,3P,4a,3S,3M,3W,2l,3F,2F,3g,1J,3h,3w,2m,3x,2X,2i,1u,3L,h,1a,1v,2x,3j,t,2y,3H,H,2o,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,2p,s,2b,1w,Y,V,D,D,L,P,1C,C,m,m,2f,3l,1U,M,2t,2t,1e,Z,1Q,I,I,1B,2q,2n,2I,2I,3C,1i,3E,3E,2c,X,3s,3s,O,2O,3e,3e,1f,2A,j,j,2w,2e,1M,1M,1X,1l,1l,1N,2J,S,S,1h,y,y,q,3p,1b,1b,2D,3r,3r,1c,1y,1y,1H,K,K,3d,1T,1T,2v,3u,3u,1z,3o,3o,3G,3J,3J,3y,3I,3I,3N,2V,2V,2k,3U,3U,2U,2B,2B,3t,2Q,2Q,1W,3z,3z,1A,1A,2P,n,n,k,2r,2r,3m,3b,3b,3V,2z,2z,3R,3R,3k,3q,3q,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,1a,1a,1a,1a,1a,1a,1a,1a,1a,1a,1a,1v,1v,1v,1v,1v,1v,1v,2x,2x,2x,2x,2x,3j,3j,3j,3j,t,t,t,t,2y,2y,2y,3H,3H,3H,H,H,H,2o,2o,2K,2K,2K,z,z,T,T,u,u,1d,1d,1K,1n,1n,2d,2d,1S,2M,2M,1E,3A,3A,1k,1O,1O,2g,2W,2a,2a,2u,2Y,Q,2h,2N,2N,J,3K,2j,1s,3f,3v,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2n,2I,3C,1i,3E,2c,X,3s,2O,3e,1f,2A,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j])},4T:4g(){4f 4h.4e([0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,45,46,47,48,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3M,3X,3W,3F,2F,3g,1J,2Z,3h,3w,2m,3x,2X,2i,1u,3L,h,1a,1v,2x,3j,t,2y,3H,H,2o,2K,z,T,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,S,1h,y,q,3p,1b,2D,3r,1c,1y,1H,K,3d,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3k,3q,o,3Q,2T,2R,3B,3O,2G,1I,1g,1P,3i,2S,1j,1V,1x,3n,1Y,1r,N,w,1t,2s,1o,U,A,1L,E,F,p,x,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[41,41,42,43,44,45,46,47,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,4a,3S,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3h,3w,2m,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,2Y,Q,2h,2N,J,3K,2j,1s,3f,3v,W,1D,2C,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,q,3p,1b,2D,3r,1c,1y,1H,K,3d,1T,2v,3u,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3b,3V,2z,3R,3k,3q,o,3Q,2T,2R,3B,3O,2G,2G,1I,1g,1P,3i,3c,2S,1j,1V,1x,3n,1Y,1r,1r,N,w,1t,2s,1o,U,2L,A,1L,E,F,p,p,x,i,l,f,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[s,s,s,s,2b,2b,1w,1w,Y,Y,V,V,D,D,L,L,P,P,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,3C,1i,1i,3E,3E,2c,2c,X,X,3s,3s,O,O,2O,2O,3e,1f,1f,2A,2A,j,j,2w,2w,2e,2e,1M,1M,1X,1X,1l,1N,1N,2J,2J,S,S,1h,1h,y,y,q,q,3p,3p,1b,2D,2D,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,2v,2v,3u,3u,1z,1z,3o,3o,3G,3G,3J,3J,3y,3y,3I,3I,3N,2V,2V,2k,2k,3U,3U,2U,2U,2B,2B,3t,3t,2Q,2Q,1W,3z,3z,1A,1A,2P,2P,n,n,k,k,2r,2r,3m,3m,3b,3V,3V,2z,2z,3R,3R,3k,3k,3q,3q,o,o,3Q,3Q,2T,2R,2R,3B,3B,3O,3O,2G,2G,1I,1I,1g,1g,1P,1P,3i,3c,3c,2S,2S,1j,1j,1V,1V,1x,1x,3n,3n,1Y,1Y,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f])},4U:4g(){4f 4h.4e([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,33,35,37,39,41,43,45,47,49,4c,3T,3Y,3P,3S,3X,2l,2F,1J,3h,2m,2X,1u,1p,1a,2x,t,3H,2o,z,u,1K,2d,1S,1E,1k,2g,2a,2Y,2h,J,2j,3f,W,2C,3D,1m,2E,1F,c,1G,s,1w,V,L,1C,m,3l,M,1e,1Q,1B,2n,3C,3E,2c,3s,2O,1f,j,2e,1X,1N,S,y,3p,2D,1c,1H,3d,2v,1z,3G,3y,3N,2k,2U,3t,1W,1A,n,2r,3b,2z,3k,o,2T,2R,3O,1I,1P,3c,1j,1x,1Y,N,1t,1o,2L,1L,F,x,l,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e],[0,1,2,3,4,6,7,8,9,10,11,12,13,14,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,4a,3S,3M,3X,3W,2l,3F,2F,3g,1J,2Z,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,t,2y,3H,H,2o,2K,z,T,u,1d,1K,1n,2d,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2N,J,3K,2j,1s,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,2H,1G,2p,s,2b,1w,Y,V,D,L,P,1C,C,m,2f,3l,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1X,1l,1N,2J,S,1h,y,q,3p,1b,2D,3r,1c,1y,1y,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,3z,1A,2P,n,k,2r,3m,3b,3V,3V,2z,3R,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,1I,1g,1P,1P,3i,3c,2S,1j,1V,1x,1x,3n,1Y,1r,N,w,1t,1t,2s,1o,U,2L,A,1L,1L,E,F,p,x,i,l,l,f,e,a],[0,1,1,2,3,3,4,4,5,6,6,7,8,8,9,9,10,11,11,12,13,13,14,15,15,16,16,17,18,18,19,20,20,21,22,22,23,24,24,25,26,26,27,28,28,29,30,30,31,32,32,33,34,34,35,36,36,37,38,38,39,40,40,41,42,43,43,44,45,45,46,47,48,48,49,3Z,3Z,4c,4d,3T,3T,4b,3Y,1q,1q,3P,4a,3S,3S,3M,3X,3W,2l,2l,3F,2F,3g,1J,1J,2Z,3h,3w,2m,2m,3x,2X,2i,1u,3L,3L,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,2o,2K,z,z,T,u,1d,1K,1n,2d,1S,2M,1E,3A,1k,1O,2g,2W,2a,2u,2Y,Q,2h,2h,J,3K,2j,1s,3f,3v,W,1D,2C,v,3D,3a,1m,1Z,2E,1R,1F,d,c,1G,2p,s,2b,1w,Y,V,L,P,1C,C,m,2f,1U,M,2t,1e,Z,I,1B,2q,2n,3C,1i,3E,2c,3s,O,2O,3e,2A,j,2w,1M,1X,1l,2J,S,1h,q,3p,1b,3r,1c,1H,K,3d,2v,3u,3o,3G,3y,3I,3N,2k,3U,2B,3t,1W,3z,2P,n,2r,3m,3V,2z,3k,3q,3Q,2T,3B,3O,1I,1g,3i,3c,1j,1V,3n,1Y,N,1t,2s,U,2L,1L,E,p,x,l,f,a])},4V:4g(){4f 4h.4e([0,0,1,1,2,2,3,3,3,4,4,5,5,6,6,7,7,8,8,9,9,9,10,10,11,11,12,13,13,14,14,15,15,16,16,17,18,18,19,20,20,21,21,22,23,24,24,25,26,26,27,28,29,30,30,31,32,33,34,35,36,37,38,38,39,40,41,42,44,45,46,47,48,49,3Z,4c,3T,4b,3Y,1q,4a,3S,3M,3W,2l,3F,3g,1J,3h,3w,3x,2X,1u,3L,h,1a,2x,t,2y,H,2K,z,u,1K,1n,1S,1E,1k,1O,2W,2u,Q,2N,J,2j,3f,W,2C,v,3a,1Z,1R,d,c,1G,s,1w,V,D,P,C,2f,1U,M,1e,1Q,1B,2q,2I,1i,2c,X,O,3e,1f,j,2e,1M,1l,1N,S,y,q,1b,2D,1c,1y,K,3d,1T,3u,1z,3o,3J,3y,3I,2V,2k,3U,2U,2B,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,3c,2S,1j,1j,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,A,1L,1L,E,E,E,F,F,p,p,p,x,x,x,i,i,l,l,l,f,f,f,e,e,e,a,a],[0,0,1,1,2,2,3,3,3,4,4,5,5,6,6,7,7,8,8,9,9,9,10,10,11,11,12,13,13,14,14,15,15,16,16,17,18,18,19,20,20,21,21,22,23,24,24,25,26,26,27,28,29,30,30,31,32,33,34,35,36,37,38,38,39,40,41,42,44,45,46,47,48,49,3Z,4c,3T,4b,3Y,1q,4a,3S,3M,3W,2l,3F,3g,1J,3h,3w,3x,2X,1u,3L,h,1a,2x,t,2y,H,2K,z,u,1K,1n,1S,1E,1k,1O,2W,2u,Q,2N,J,2j,3f,W,2C,v,3a,1Z,1R,d,c,1G,s,1w,V,D,P,C,2f,1U,M,1e,1Q,1B,2q,2I,1i,2c,X,O,3e,1f,j,2e,1M,1l,1N,S,y,q,1b,2D,1c,1y,K,3d,1T,3u,1z,3o,3J,3y,3I,2V,2k,3U,2U,2B,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,3c,2S,1j,1j,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,A,1L,1L,E,E,E,F,F,p,p,p,x,x,x,i,i,l,l,l,f,f,f,e,e,e,a,a],[0,0,1,1,2,2,3,3,3,4,4,5,5,6,6,7,7,8,8,9,9,9,10,10,11,11,12,13,13,14,14,15,15,16,16,17,18,18,19,20,20,21,21,22,23,24,24,25,26,26,27,28,29,30,30,31,32,33,34,35,36,37,38,38,39,40,41,42,44,45,46,47,48,49,3Z,4c,3T,4b,3Y,1q,4a,3S,3M,3W,2l,3F,3g,1J,3h,3w,3x,2X,1u,3L,h,1a,2x,t,2y,H,2K,z,u,1K,1n,1S,1E,1k,1O,2W,2u,Q,2N,J,2j,3f,W,2C,v,3a,1Z,1R,d,c,1G,s,1w,V,D,P,C,2f,1U,M,1e,1Q,1B,2q,2I,1i,2c,X,O,3e,1f,j,2e,1M,1l,1N,S,y,q,1b,2D,1c,1y,K,3d,1T,3u,1z,3o,3J,3y,3I,2V,2k,3U,2U,2B,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,3c,2S,1j,1j,1V,1x,1x,3n,3n,1Y,1r,1r,N,N,w,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,A,1L,1L,E,E,E,F,F,p,p,p,x,x,x,i,i,l,l,l,f,f,f,e,e,e,a,a])},4W:4g(){4f 4h.4e([0,1,1,2,3,4,4,5,6,7,7,8,9,10,10,11,12,13,13,14,15,16,17,17,18,19,20,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,40,41,42,43,44,45,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,3P,4a,3S,3M,3X,3W,2l,3F,2F,3g,2Z,3h,3w,2m,3x,2X,1u,3L,1p,h,1a,2x,3j,t,2y,H,2o,2K,T,u,1d,1K,2d,1S,2M,3A,1k,1O,2W,2a,2u,Q,2h,2N,3K,2j,1s,3v,W,1D,v,3D,1m,1Z,2E,1F,d,c,1G,2p,s,1w,Y,V,L,P,1C,m,2f,1U,M,2t,Z,1Q,I,1B,2n,2I,3C,3E,2c,X,O,2O,3e,1f,j,2w,2e,1M,1l,1N,2J,S,1h,q,3p,1b,2D,3r,1c,1H,K,3d,1T,2v,3u,1z,3o,3G,3J,3y,3I,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3m,3b,3V,2z,3R,3k,3k,3q,o,3Q,2T,2R,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,2S,2S,1j,1V,1x,1x,3n,1Y,1Y,1r,N,N,w,1t,2s,2s,1o,U,U,2L,A,A,1L,E,E,F,F,p,x,x,i,l,l,f,e,e,a],[0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,12,13,13,14,15,15,16,16,17,18,18,19,19,20,21,21,22,23,23,24,25,26,26,27,28,28,29,30,31,32,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,47,48,49,3Z,4c,4d,3T,4b,3Y,1q,3P,3S,3M,3X,3W,2l,2F,3g,1J,2Z,3w,2m,3x,2i,1u,3L,h,1a,1v,3j,t,2y,H,2o,z,T,u,1K,1n,1S,2M,3A,1k,2g,2W,2a,2Y,Q,2N,J,2j,1s,3v,W,2C,v,3a,1m,2E,1R,d,c,1G,2p,2b,1w,V,D,P,1C,m,2f,1U,M,1e,Z,I,1B,2n,2I,1i,3E,X,3s,2O,3e,1f,j,2w,1M,1X,1l,2J,S,1h,q,3p,1b,3r,1c,1y,K,3d,1T,2v,1z,3o,3G,3J,3y,3N,2V,2k,3U,2U,2B,3t,2Q,1W,3z,1A,2P,n,k,2r,3m,3b,3V,2z,3R,3k,3q,o,3Q,3Q,2T,2R,3B,3O,2G,2G,1I,1g,1P,1P,3i,3c,2S,2S,1j,1V,1x,1x,3n,1Y,1Y,1r,N,N,w,1t,1t,2s,2s,1o,U,U,2L,A,A,1L,1L,E,E,F,p,p,x,x,i,l,l,f,f,e,e,a],[0,2,3,5,7,8,10,11,13,15,16,18,20,21,23,24,26,27,29,31,32,34,35,37,38,40,41,43,44,46,47,49,3Z,4c,3T,4b,1q,3P,4a,3M,3X,3W,3F,2F,3g,1J,2Z,3w,2m,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,t,2y,3H,H,2o,2o,2K,z,T,u,u,1d,1K,1K,1n,2d,2d,1S,2M,2M,1E,3A,3A,1k,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2h,2N,2N,J,J,J,3K,3K,2j,2j,2j,1s,1s,1s,3f,3f,3f,3v,3v,3v,W,W,W,1D,1D,2C,2C,2C,v,v,v,3D,3D,3D,3a,3a,1m,1m,1m,1Z,1Z,2E,2E,2E,1R,1R,1F,1F,d,d,c,c,c,2H,2H,1G,2p,2p,s,s,2b,2b,1w,Y,Y,V,V,D,L,P,P,1C,C,C,m,2f,3l,1U,1U,M,2t,1e,Z,1Q,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,3e,1f,2A,j,2e,1M,1X,1l,2J,S,1h,q,3p,2D,3r,1y,1H,K,1T,2v,1z,3o,3J,3I,3N,2k,3U,2B,2Q,1W,1A,2P,k,3m,3b,2z,3k,3q,3Q,2R,3O,2G,1g,3i,3c,1j,1x,1Y,1r,w,2s,U,2L,1L,F,x,i,f,a])},4X:4g(){4f 4h.4e([v,3D,3a,3a,1m,1Z,2E,2E,1R,1F,d,c,c,2H,1G,2p,2p,s,2b,1w,1w,Y,V,V,D,L,P,P,1C,C,C,m,2f,2f,3l,3l,1U,M,M,2t,2t,1e,1e,Z,Z,1Q,1Q,I,I,1B,1B,2q,2q,2n,2n,2I,2I,2I,3C,3C,1i,1i,1i,3E,3E,3E,2c,2c,2c,X,X,X,3s,3s,3s,O,O,O,2O,2O,2O,3e,3e,3e,3e,1f,1f,1f,2A,2A,2A,2A,j,j,j,2w,2w,2w,2w,2e,2e,2e,1M,1M,1M,1M,1X,1X,1X,1l,1l,1l,1l,1N,1N,1N,2J,2J,2J,S,S,S,1h,1h,1h,y,y,y,q,q,3p,3p,3p,1b,1b,2D,2D,3r,3r,3r,1c,1c,1y,1y,1H,1H,K,K,3d,3d,1T,1T,2v,3u,3u,1z,1z,3o,3G,3G,3J,3J,3y,3I,3I,3N,2V,2V,2k,3U,3U,2U,2B,2B,3t,2Q,1W,1W,3z,1A,2P,2P,n,k,2r,3m,3m,3b,3V,2z,3R,3R,3k,3q,o,3Q,2T,2T,2R,3B,3O,2G,2G,1I,1g,1P,3i,3i,3c,2S,2S,1j,1V,1V,1x,3n,3n,1Y,1r,1r,N,N,w,1t,1t,2s,2s,1o,1o,U,U,2L,2L,A,A,1L,1L,E,E,F,F,p,p,x,x,i,i,l,l,l,f,f,e,e,a,a],[2l,3F,2F,3g,1J,2Z,3h,3w,2m,3x,3x,2X,2i,1u,3L,1p,h,1a,1v,2x,3j,3j,t,2y,3H,H,2o,2o,2K,z,T,u,u,1d,1K,1n,1n,2d,1S,1S,2M,1E,1E,3A,3A,1k,1O,1O,2g,2g,2W,2W,2a,2a,2u,2u,2Y,2Y,Q,Q,2h,2h,2N,2N,2N,J,J,3K,3K,2j,2j,2j,1s,1s,1s,3f,3f,3v,3v,3v,W,W,W,1D,1D,2C,2C,2C,v,v,v,3D,3D,3a,3a,3a,1m,1m,1Z,1Z,1Z,2E,2E,1R,1R,1F,1F,d,d,c,c,2H,2H,1G,1G,2p,2p,s,s,2b,1w,1w,Y,Y,V,D,L,L,P,1C,1C,C,m,2f,2f,3l,1U,M,2t,1e,Z,1Q,I,I,1B,2q,2n,2I,3C,1i,3E,2c,X,3s,O,2O,3e,1f,2A,j,2w,2e,1M,1M,1X,1l,1N,2J,S,S,1h,y,y,q,3p,3p,1b,2D,2D,3r,3r,1c,1y,1y,1H,K,3d,3d,1T,2v,3u,1z,3o,3G,3J,3y,3N,2V,2k,2U,2B,2Q,1W,3z,2P,k,2r,3b,3V,3R,3k,o,3Q,2T,3B,3O,2G,1g,1P,3i,3c,2S,1j,1V,1x,1x,3n,1Y,1Y,1r,1r,N,N,N,w,w,w,w,w,w,w,1t,1t,1t,w,w,w,w,w,w,w,w,w,N,N,N],[H,H,2o,2o,2K,2K,z,z,T,T,u,u,1d,1d,1K,1K,1n,1n,2d,2d,2d,1S,1S,2M,2M,1E,1E,3A,3A,3A,1k,1k,1O,1O,1O,2g,2g,2W,2W,2W,2a,2a,2a,2u,2u,2u,2Y,2Y,2Y,Q,Q,2h,2h,2h,2N,2N,2N,J,J,J,J,3K,3K,3K,2j,2j,2j,1s,1s,1s,3f,3f,3f,3v,3v,3v,W,W,W,W,1D,1D,1D,2C,2C,2C,v,v,v,3D,3D,3D,3a,3a,3a,1m,1m,1Z,1Z,1Z,2E,2E,2E,1R,1R,1R,1F,1F,d,d,d,c,c,2H,2H,2H,1G,1G,2p,2p,s,s,2b,2b,1w,1w,Y,Y,Y,V,D,D,L,L,P,P,1C,1C,C,C,m,m,2f,2f,3l,3l,1U,1U,M,M,2t,2t,2t,1e,1e,Z,Z,Z,Z,1Q,1Q,1Q,1Q,I,I,I,I,I,I,I,I,I,I,I,I,1Q,1Q,1Q,1Q,Z,Z,Z,Z,1e,1e,1e,1e,2t,2t,2t,2t,2t,M,M,M,M,M,M,M,M,M,M,2t,2t,2t,1e,1e,Z,Z,1Q,1Q,I,1B,2q,2n,2I,3C,1i,2c,X,3s,2O,3e,2A,j,2w,1M,1X,1l,2J,S,1h,y,q,3p,1b,2D,2D,3r,3r,1c,1c,1y,1y,1y,1y,1H,1H,1H,1H,1H,1H,1H,1H,1H,1H])}}',62,308,'||||||||||255||128|127|254|253||78|251|167|210|252|142|209|219|249|178||132|83|91|119|239|250|177|89|245||141|137|247|248||86|151|110|186|138|146|238|162|139|107||175|90|243|136|116|160|135|149|||||||||||79|180|183|92|148|165|227|176|157|232|100|172|122|94|242|77|56|237|113|240|75|80|134|234|184|191|207|152|140|117|98|126|130|185|226|67|93|246|170|173|101|228|150|125|96|188|145|233|205|171|236|123|||||||||||104|133|159|95|169|143|102|108|74|112|199|63|71|154|87|131|153|211|241|147|105|189|168|81|84|215|166|202|118|181|124|65|225|129|155|174|88|244|97|109|163|208|204|222|231|221|201|198|103|73|106|68|||||||||||121|213|230|187|164|114|66|69|229|82|217|144|212|235|192|179|218|182|161|203|190|115|70|72|195|206|99|223|156|120|158|64|193|85|196|194|111|76|60|197|224|57|220|216|59|53|200|214|62|61|55|50|||||||||||58|54|51|52|mapping|return|function|this|vintage|window|andy|lumise_fx_map|eb|singe|vivid|purple|thresh|aqua|edgewood|ventura|aladin|amber|anne|greg|josh|karen|melissa|peter|salomon|sophia|tonny|adrian|janine|merissa|ronny|roxy|sanna|gordon|shaan|borg|carl|doris|doug|earl|kevin|nash|polak|satya|satya2|stan'.split('|'),0,{}));

/**
 * jQuery Masonry v2.1.08
 * A dynamic layout plugin for jQuery
 * The flip-side of CSS Floats
 * http://masonry.desandro.com
 *
 * Licensed under the MIT license.
 * Copyright 2012 David DeSandro
 */
(function(e,t,n){"use strict";var r=t.event,i;r.special.smartresize={setup:function(){t(this).bind("resize",r.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",r.special.smartresize.handler)},handler:function(e,t){var n=this,s=arguments;e.type="smartresize",i&&clearTimeout(i),i=setTimeout(function(){r.dispatch.apply(n,s)},t==="execAsap"?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Mason=function(e,n){this.element=t(n),this._create(e),this._init()},t.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},t.Mason.prototype={_filterFindBricks:function(e){var t=this.options.itemSelector;return t?e.filter(t).add(e.find(t)):e},_getBricks:function(e){var t=this._filterFindBricks(e).css({position:"absolute"}).addClass("masonry-brick");return t},_create:function(n){this.options=t.extend(!0,{},t.Mason.settings,n),this.styleQueue=[];var r=this.element[0].style;this.originalStyle={height:r.height||""};var i=this.options.containerStyle;for(var s in i)this.originalStyle[s]=r[s]||"";this.element.css(i),this.horizontalDirection=this.options.isRTL?"right":"left";var o=this.element.css("padding-"+this.horizontalDirection),u=this.element.css("padding-top");this.offset={x:o?parseInt(o,10):0,y:u?parseInt(u,10):0},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var a=this;setTimeout(function(){a.element.addClass("masonry")},0),this.options.isResizable&&t(e).bind("smartresize.masonry",function(){a.resize()}),this.reloadItems()},_init:function(e){this._getColumns(),this._reLayout(e)},option:function(e,n){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))},layout:function(e,t){for(var n=0,r=e.length;n<r;n++)this._placeBrick(e[n]);var i={};i.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var s=0;n=this.cols;while(--n){if(this.colYs[n]!==0)break;s++}i.width=(this.cols-s)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:i});var o=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",u=this.options.animationOptions,a;for(n=0,r=this.styleQueue.length;n<r;n++)a=this.styleQueue[n],a.$el[o](a.style,u);this.styleQueue=[],t&&t.call(e),this.isLaidOut=!0},_getColumns:function(){var e=this.options.isFitWidth?this.element.parent():this.element,t=e.width();this.columnWidth=this.isFluid?this.options.columnWidth(t):this.options.columnWidth||this.$bricks.outerWidth(!0)||t,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((t+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(e){var n=t(e),r,i,s,o,u;r=Math.ceil(n.outerWidth(!0)/this.columnWidth),r=Math.min(r,this.cols);if(r===1)s=this.colYs;else{i=this.cols+1-r,s=[];for(u=0;u<i;u++)o=this.colYs.slice(u,u+r),s[u]=Math.max.apply(Math,o)}var a=Math.min.apply(Math,s),f=0;for(var l=0,c=s.length;l<c;l++)if(s[l]===a){f=l;break}var h={top:a+this.offset.y};h[this.horizontalDirection]=this.columnWidth*f+this.offset.x,this.styleQueue.push({$el:n,style:h});var p=a+n.outerHeight(!0),d=this.cols+1-c;for(l=0;l<d;l++)this.colYs[f+l]=p},resize:function(){var e=this.cols;this._getColumns(),(this.isFluid||this.cols!==e)&&this._reLayout()},_reLayout:function(e){var t=this.cols;this.colYs=[];while(t--)this.colYs.push(0);this.layout(this.$bricks,e)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(e){this.reloadItems(),this._init(e)},appended:function(e,t,n){if(t){this._filterFindBricks(e).css({top:this.element.height()});var r=this;setTimeout(function(){r._appended(e,n)},1)}else this._appended(e,n)},_appended:function(e,t){var n=this._getBricks(e);this.$bricks=this.$bricks.add(n),this.layout(n,t)},remove:function(e){this.$bricks=this.$bricks.not(e),e.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var n=this.element[0].style;for(var r in this.originalStyle)n[r]=this.originalStyle[r];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),t(e).unbind(".masonry")}},t.fn.imagesLoaded=function(e){function u(){e.call(n,r)}function a(e){var n=e.target;n.src!==s&&t.inArray(n,o)===-1&&(o.push(n),--i<=0&&(setTimeout(u),r.unbind(".imagesLoaded",a)))}var n=this,r=n.find("img").add(n.filter("img")),i=r.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",o=[];return i||u(),r.bind("load.imagesLoaded error.imagesLoaded",a).each(function(){var e=this.src;this.src=s,this.src=e}),n};var s=function(t){e.console&&e.console.error(t)};t.fn.masonry=function(e){if(typeof e=="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"masonry");if(!r){s("cannot call methods on masonry prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(r[e])||e.charAt(0)==="_"){s("no such method '"+e+"' for masonry instance");return}r[e].apply(r,n)})}else this.each(function(){var n=t.data(this,"masonry");n?(n.option(e||{}),n._init()):t.data(this,"masonry",new t.Mason(e,this))});return this}})(window,jQuery);	
fabric.Text.prototype._renderText = function(ctx) {
  //this._translateForTextAlign(ctx);
  this._renderTextFill(ctx);
  this._renderTextStroke(ctx);
  this._renderTextFill(ctx);
  //this._translateForTextAlign(ctx, true);
};
/**
 * jscolor, JavaScript Color Picker
 *
 * @version 1.3.13
 * @license GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 * @author  Jan Odvarko, http://odvarko.cz
 * @created 2008-06-15
 * @updated 2012-01-19
 * @link    http://jscolor.com
 */
(function($){eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('1q.K={2T:L(a){J b={"bb":"#b7","b5":"#aZ","aY":"#4X","aW":"#aS","aQ":"#aD","as":"#ag","a8":"#a2","a1":"#9M","9L":"#9D","9C":"#9B","9y":"#9v","9u":"#9t","9r":"#9q","9p":"#9l","9c":"#9b","96":"#92","91":"#90","8Z":"#8Y","8X":"#8W","8V":"#8U","8T":"#4X","8S":"#8R","8P":"#8O","8M":"#8J","8G":"#8D","8B":"#8A","8z":"#8w","8t":"#8s","8r":"#8q","8p":"#8o","8i":"#8h","8g":"#8f","8e":"#8d","8c":"#8a","88":"#87","86":"#83","81":"#7Y","7X":"#7W","7V":"#7T","7S":"#7R","7P":"#7N","7K":"#7G","7B":"#7p","7o":"#7n","7m":"#7l","7e":"#3L","7c":"#7b","7a":"#79","78":"#76","74":"#72","6Z":"#6Y","6X":"#6W","6V":"#6R","6Q":"#6J","6G":"#6C","6B ":"#6x","6w":"#6r","6q":"#6p","6i":"#6h","6f":"#68","64":"#61","60":"#5X","5Q":"#5P","5O":"#5M","5K":"#5J","5I":"#5H","5G":"#5F","5D":"#5C","5B":"#5A","5x":"#5v","5u":"#5t","5r":"#5q","5p":"#5g","5d":"#5b","59":"#bk","bj":"#bh","bf":"#ba","b9":"#b4","b2":"#b1","b0":"#3L","aX":"#aV","aT":"#aR","aK":"#aG","aF":"#aw","ap":"#af","ae":"#ad","a4":"#a3","aq":"#7f","b8":"#bp","5a":"#5c","5e":"#5i","5j":"#5k","5l":"#5m","5o":"#5z","5E":"#5N","5S":"#5W","5Y":"#5Z","63":"#65","66":"#67","6b":"#6c","6e":"#6g","6j":"#6n","6o":"#6s","6u":"#6v","6D":"#6E","6I":"#6L","6N":"#6O","6S":"#6T","71":"#73","75":"#77","7d":"#7g","7h":"#7i","7j":"#7k","7q":"#7s","7u":"#7v","7w":"#7D","7L":"#7O","7Q":"#7U","84":"#8b","8j":"#8k","8l":"#8m","8n":"#8u","8v":"#8x","8C":"#8E","8F":"#8H","8I":"#8K","8L":"#93","94":"#95","9f":"#9i","9k":"#9m","9w":"#9x","9E":"#9F","9G":"#9H","9J":"#9N","9O":"#9Q","9R":"#9S","9T":"#9U","9V":"#9W","9X":"#9Y","9Z":"#a0"};I(1N b[a.21()]!=\'1M\')M b[a.21()];M 19},47:{R:L(h){M 1x((H.2W(h)).2V(0,2),16)},G:L(h){M 1x((H.2W(h)).2V(2,4),16)},B:L(h){M 1x((H.2W(h)).2V(4,6),16)},O:L(c){I(c.1K("#")>-1||c.1K("(")===-1||c.1K(")")===-1)M 1;M c.1C(\'(\')[1].1C(\')\')[0].1C(\',\')[3]},2W:L(h){M(h.22(0)=="#")?h.2V(1,7):h},},2J:\'\',4r:\'U\',4s:1e,4t:1e,5f:L(){K.1R(1q,\'5h\',K.4w)},4w:L(){I(K.4s){K.4F()}I(K.4t){K.4I()}},38:L(){I(!K.2J){J a=K.3X();K.2J=a!==19?a:\'K/\'}M K.2J},3X:L(){J a=5n.39;J e=N.2n(\'5s\');1H(J i=0;i<e.1j;i+=1){I(e[i].39){a=e[i].39}}J e=N.2n(\'5w\');1H(J i=0;i<e.1j;i+=1){I((e[i].2z&&/(^|\\/)K\\.5y([?#].*)?$/i.41(e[i].2z))||e[i].2y(\'1Y-K\')==\'1e\'){J b=24 K.33(e[i].2z);J c=b.49(a);c.Z=c.Z.31(/[^\\/]+$/,\'\');c.1k=Q;c.20=Q;M c.1m()}}M 19},4F:L(){J a=24 5L(\'(^|\\\\s)(\'+K.4r+\')\\\\s*(\\\\{[^}]*\\\\})?\',\'i\');J e=N.2n(\'4a\');1H(J i=0;i<e.1j;i+=1){J m;I(!e[i].U&&e[i].2f&&(m=e[i].2f.2S(a))){J b={};I(m[3]){5R{4c(\'5T=\'+m[3])}5U(5V){}}e[i].U=24 K.U(e[i],b)}}},4I:L(){1H(J a 4f K.2R){I(K.2R.4j(a)){K.4k(a)}}},1a:{1g:[62,4p],1w:[16,4p],3a:[15,15],3b:[7,11]},2R:{},2N:{},69:L(a){K.2R[a]=1e},4k:L(a){I(!K.2N[a]){K.2N[a]=24 6a();K.2N[a].2z=K.38()+a}},3c:L(a){M 1N a===\'4y\'?N.6d(a):a},1R:L(a,b,c){I(a.4z){a.4z(b,c,19)}S I(a.4A){a.4A(\'1P\'+b,c)}},2s:L(a,b){I(!a){M}I(N.4B){J c=N.4B(\'6k\');c.6l(b,1e,1e);a.6m(c)}S I(N.4C){J c=N.4C();a.2s(\'1P\'+b,c)}S I(a[\'1P\'+b]){a[\'1P\'+b]()}},4D:L(e){J a=e,2e=e;J x=0,y=0;I(a.4E){6t{x+=a.3d;y+=a.4G}2G(a=a.4E)}2G((2e=2e.2t)&&2e.6y.6z()!==\'6A\'){x-=2e.2u;y-=2e.2v}M[x,y]},4H:L(e){M[e.3e,e.6F]},2C:L(e){J x=0,y=0;I(!e){e=1q.6H}I(1N e.4O===\'2B\'){x=e.4O;y=e.6K}S I(1N e.4P===\'2B\'){x=e.4P;y=e.6M}M{x:x,y:y}},4R:L(){I(1N 1q.4V===\'2B\'){M[1q.6P,1q.4V]}S I(N.1t&&(N.1t.2u||N.1t.2v)){M[N.1t.2u,N.1t.2v]}S I(N.1I&&(N.1I.2u||N.1I.2v)){M[N.1I.2u,N.1I.2v]}S{M[0,0]}},4W:L(){I(1N 1q.52===\'2B\'){M[1q.52,1q.6U]}S I(N.1t&&(N.1t.34||N.1t.32)){M[N.1t.34,N.1t.32]}S I(N.1I&&(N.1I.34||N.1I.32)){M[N.1I.34,N.1I.32]}S{M[0,0]}},33:L(d){H.1p=Q;H.1u=Q;H.Z=\'\';H.1k=Q;H.20=Q;H.54=L(a){J m=a.2S(/^(([A-55-z][0-9A-55-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/);H.1p=m[3]?m[2]:Q;H.1u=m[5]?m[6]:Q;H.Z=m[7];H.1k=m[9]?m[10]:Q;H.20=m[12]?m[13]:Q;M H};H.1m=L(){J a=\'\';I(H.1p!==Q){a=a+H.1p+\':\'}I(H.1u!==Q){a=a+\'//\'+H.1u}I(H.Z!==Q){a=a+H.Z}I(H.1k!==Q){a=a+\'?\'+H.1k}I(H.20!==Q){a=a+\'#\'+H.20}M a};H.49=L(a){J a=24 K.33(a);J r=H;J t=24 K.33;I(a.1p===Q){M 19}I(r.1p!==Q&&r.1p.21()===a.1p.21()){r.1p=Q}I(r.1p!==Q){t.1p=r.1p;t.1u=r.1u;t.Z=2j(r.Z);t.1k=r.1k}S{I(r.1u!==Q){t.1u=r.1u;t.Z=2j(r.Z);t.1k=r.1k}S{I(r.Z===\'\'){t.Z=a.Z;I(r.1k!==Q){t.1k=r.1k}S{t.1k=a.1k}}S{I(r.Z.1i(0,1)===\'/\'){t.Z=2j(r.Z)}S{I(a.1u!==Q&&a.Z===\'\'){t.Z=\'/\'+r.Z}S{t.Z=a.Z.31(/[^\\/]+$/,\'\')+r.Z}t.Z=2j(t.Z)}t.1k=r.1k}t.1u=a.1u}t.1p=a.1p}t.20=r.20;M t};L 2j(a){J b=\'\';2G(a){I(a.1i(0,3)===\'../\'||a.1i(0,2)===\'./\'){a=a.31(/^\\.+/,\'\').1i(1)}S I(a.1i(0,3)===\'/./\'||a===\'/.\'){a=\'/\'+a.1i(3)}S I(a.1i(0,4)===\'/../\'||a===\'/..\'){a=\'/\'+a.1i(4);b=b.31(/\\/?[^\\/]*$/,\'\')}S I(a===\'.\'||a===\'..\'){a=\'\'}S{J c=a.2S(/^\\/?[^\\/]*/)[0];a=a.1i(c.1j);b=b+c}}M b}I(d){H.54(d)}},U:L(q,u){H.3Z=19;H.3M=1e;H.3N=1e;H.3O=1e;H.3P=1e;H.3Q=q;H.X=q;H.2k=Q;H.17=[0,0,1];H.14=[1,1,1];H.2F=1e;H.3R=\'7r\';H.3S=\'7t\';H.3T=1e;H.3U=0;H.3V=19;H.7x=\'7y\';H.7z=\'7A\';H.1D=15;H.7C=\'3W(70, 85, 89, 0.97)\';H.7E=0;H.7F=\'\';H.1v=0;H.7H=\'\';H.7I=7J;H.1h=1;H.3f=\'7M\';1H(J p 4f u){I(u.4j(p)){H[p]=u[p]}}H.3Y=L(){I(30()){3g()}};H.2Z=L(){I(!30()){J d=K.4D(q);J e=K.4H(q);J f=K.4R();J g=K.4W();J h=3h(H);J a,b,c;1G(H.3S.21()){V\'2b\':a=1;b=0;c=-1;Y;V\'7Z\':a=1;b=0;c=1;Y;V\'2g\':a=0;b=1;c=-1;Y;82:a=0;b=1;c=1;Y}J l=(e[b]+h[b])/2;I(!H.3T){J i=[d[a],d[b]+e[b]-l+l*c]}S{J i=[-f[a]+d[a]+h[a]>g[a]?(-f[a]+d[a]+e[a]/2>g[a]/2&&d[a]+e[a]-h[a]>=0?d[a]+e[a]-h[a]:d[a]):d[a],-f[b]+d[b]+e[b]+h[b]-l+l*c>g[b]?(-f[b]+d[b]+e[b]/2>g[b]/2&&d[b]+e[b]-l-l*c>=0?d[b]+e[b]-l-l*c:d[b]+e[b]-l+l*c):(d[b]+e[b]-l+l*c>=0?d[b]+e[b]-l+l*c:d[b]+e[b]-l-l*c)]}42(i[a]+1,i[b]+1)}};H.2i=L(){I(!B){H.1L()}S{I(B.18===\'\'){H.2h(B.18);M}I(B.18.1K(\'#\')==-1){H.2h(B.18);H.1L(\'43\');M}I(!H.3M){I(!H.2h(B.18,D)){X.T.1T=X.1X.1T;X.T.1E=X.1X.1E;X.T.U=X.1X.U;H.1L(D|2x)}}S I(!H.3Z&&/^\\s*$/.41(B.18)){B.18=\'\';X.T.1T=X.1X.1T;X.T.1E=X.1X.1E;X.T.U=X.1X.U;H.1L(D|2x)}S I(H.2h(B.18)){}S{H.1L()}}};H.1L=L(a){I(w.1h==\'1\'&&a!=\'43\'){I(!(a&D)&&B){J b=H.1m();I(H.3O){b=b.21()}I(H.3N){b=\'#\'+b}B.18=b};I(!(a&2x)&&X){X.T.1T="44";X.T.1E=\'#\'+H.1m();X.T.U=0.45*H.14[0]+0.46*H.14[1]+0.3K*H.14[2]<0.5?\'#48\':\'#2p\'};X.18=\'#\'+H.1m()}S{X.T.U=0.45*H.14[0]+0.46*H.14[1]+0.3K*H.14[2]<0.5?\'#48\':\'#2p\';J c=\'#\'+H.1m();I(w.1h!==1M&&w.1h!=1){I(w.1h<0.5)X.T.U=\'#2p\';c=\'3W(\'+1d.1J(1o*w.14[0])+\', \'+1d.1J(1o*w.14[1])+\', \'+1d.1J(1o*w.14[2])+\', \'+w.1h.1m().1W()+\')\'};X.T.1E=c;X.18=c}I(!(a&2Q)&&30()){3i();3j();2P()}I(4b!==1M)4b(B).8y(\'2O\')};H.1Z=L(h,s,v,a){h<0&&(h=0)||h>6&&(h=6);s<0&&(s=0)||s>1&&(s=1);v<0&&(v=0)||v>1&&(v=1);H.14=3k(h===Q?H.17[0]:(H.17[0]=h),s===Q?H.17[1]:(H.17[1]=s),v===Q?H.17[2]:(H.17[2]=v));H.1L(a)};H.2K=L(r,g,b,a){r<0&&(r=0)||r>1&&(r=1);g<0&&(g=0)||g>1&&(g=1);b<0&&(b=0)||b>1&&(b=1);J c=4d(r===Q?H.14[0]:(H.14[0]=r),g===Q?H.14[1]:(H.14[1]=g),b===Q?H.14[2]:(H.14[2]=b));I(c[0]!==Q){H.17[0]=c[0]}I(c[2]!==0){H.17[1]=c[1]}H.17[2]=c[2];H.1L(a)};H.2h=L(a,b){I(K.2T(a)!==19){a=K.2T(a);X.18=a}J m=a.2S(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i);I(!m){I(a.1K(\'14\')>-1&&a.1K("(")>-1&&a.1K(")")>-1){a=a.1C("(")[1].1C(")")[0].1W().1C(\',\');H.2K(1x(a[0].1W())/1o,1x(a[1].1W())/1o,1x(a[2].1W())/1o,b);I(a[3]!==1M){H.1h=a[3].1W()+\'2p\';H.1h=H.1h.1i(0,4)}S H.1h=\'1\';I(4e(H.1h)>1)H.1h=\'1\';I(4e(H.1h)===0)H.1h=\'0\'}}S{I(m[1].1j===6){H.2K(1x(m[1].1i(0,2),16)/1o,1x(m[1].1i(2,2),16)/1o,1x(m[1].1i(4,2),16)/1o,b)}S{H.2K(1x(m[1].22(0)+m[1].22(0),16)/1o,1x(m[1].22(1)+m[1].22(1),16)/1o,1x(m[1].22(2)+m[1].22(2),16)/1o,b)}M 1e}M 19};H.1m=L(){M((3l|1d.1J(1o*H.14[0])).1m(16).1i(1)+(3l|1d.1J(1o*H.14[1])).1m(16).1i(1)+(3l|1d.1J(1o*H.14[2])).1m(16).1i(1))};L 4d(r,g,b){J n=1d.4g(1d.4g(r,g),b);J v=1d.4h(1d.4h(r,g),b);J m=v-n;I(m===0){M[Q,0,v]}J h=r===n?3+(b-g)/m:(g===n?5+(r-b)/m:1+(g-r)/m);M[h===6?0:h,m/v,v]}L 3k(h,s,v){I(h===Q){M[v,v,v]}J i=1d.2l(h);J f=i%2?h-i:1-(h-i);J m=v*(1-s);J n=v*(1-s*f);1G(i){V 6:V 0:M[v,n,m];V 1:M[n,v,m];V 2:M[m,v,n];V 3:M[m,n,v];V 4:M[n,m,v];V 5:M[v,m,n]}}L 3g(){8N K.P.2r;N.2n(\'1t\')[0].8Q(K.P.1f)}L 42(x,y){I(!K.P){K.P={1b:N.1r(\'1n\'),1f:N.1r(\'1n\'),1g:N.1r(\'1n\'),2q:N.1r(\'1n\'),1S:N.1r(\'1n\'),1w:N.1r(\'1n\'),2m:N.1r(\'1n\'),2L:N.1r(\'1n\'),1O:N.1r(\'1n\'),1F:N.1r(\'1n\'),25:N.1r(\'1n\'),23:N.1r(\'1n\'),}};J p=K.P;p.1f.2f="4i";p.1f.T.3f=w.3f;1H(J i=0,3m=4;i<K.1a.1w[1];i+=3m){J c=N.1r(\'1n\');c.T.3n=3m+\'1l\';c.T.98=\'99\';c.T.9a=\'0\';p.1w.1s(c)};J d=$(\'<i 2X="9d-9e-4l" 1Y-9g="4l"></i>\');d.1P(\'9h 4m 9j\',4n);$(p.25).27(\'<4o>9n P</4o>\').9o(d);p.2m.1s(K.P.1w);p.1b.1s(K.P.2m);p.1b.1s(K.P.2L);p.1b.1s(K.P.1O);p.1b.1s(K.P.1F);p.2q.1s(K.P.1g);p.1b.1s(K.P.2q);p.1b.1s(K.P.1S);p.1b.1s(K.P.25);p.1b.1s(K.P.23);p.1f.1s(K.P.1b);p.1b.1B=\'1c-U-P-1b\';p.1g.1B=\'1c-U-P-1g\';p.1S.1B=\'1c-U-P-1S\';p.2q.1B=\'1c-U-P-2q\';p.1f.1B=\'1c-U-P-1f\';p.1w.1B=\'1c-U-P-1w\';p.2m.1B=\'1c-U-P-2m\';p.2L.1B=\'1c-U-P-2L\';p.1O.1B=\'1c-U-P-1O\';p.1F.1B=\'1c-U-P-1F\';p.1F.1V=\'9s\';p.25.1B=\'1c-U-P-25\';p.23.1B=\'1c-U-P-23\';p.1b.2M=p.1b.2I=L(a){I(a.1Q.2f==\'3o\'||a.1Q.2t.2f==\'3o\'||a.1Q.2t.2t.2f==\'3o\')M;q.4q()};p.1b.2w=L(){A=1e};p.1b.9z=L(e){I(C||26||29){C&&3p(e);26&&35(e);29&&3q(e);I(N.4u){N.4u.9I()}S I(1q.4v){1q.4v().9K()}2a()}};p.1S.2M=p.1S.2I=L(){I(C){C=19;K.2s(B,\'2O\')}};p.1S.2w=L(e){1G(z){V 0:I(w.17[2]===0){w.1Z(Q,Q,1.0)};Y;V 1:I(w.17[1]===0){w.1Z(Q,1.0,Q)};Y}C=1e;3p(e);2a()};p.1O.2M=p.1O.2I=L(){I(26){26=19;K.2s(B,\'2O\')}};p.1O.2w=L(e){26=1e;35(e);2a()};p.1F.2M=p.1F.2I=L(){I(29){29=19;K.2s(B,\'2O\')}};p.1F.2w=L(e){29=1e;3q(e);2a()};J f=3h(w);p.1b.T.2U=(f[0]+40)+\'1l\';p.1b.T.3n=(f[1]+80)+\'1l\';p.1f.T.2b=x+\'1l\';p.1f.T.2g=(y+36)+\'1l\';p.23.2w=L(e){I(e.1Q.3r==\'9P\'){I(1N(4x)!=="1M"){J a="#3s|#3t|#3u|#3v|#3w|#3x|#3y|#3z|#3A|#3B",b=B.18;a=a.1C(\'|\');I(1z[\'1A\']!==1M)a=1z[\'1A\'].1C(\'|\');I(b===\'\')3C(\'4J, a5 a6 U a7\');S I(a.1K(b)>-1)3C(\'4J, H U 2H a9 aa\');S{2G(a.1j>9)a.ab();a.ac(b);1z.4K(\'1A\');1z.4L(\'1A\',a.4M(\'|\'));H.2E()}}S 3C(\'ah ai aj ak al am 1Y\')}S I(e.1Q.3r==\'an\'){B.18=e.1Q.1V;2P();w.2i()}S I(e.1Q.3r==\'ao\'){I(1z.4N(\'1A\')===\'\'||1z.4N(\'1A\')===Q)a="#3s|#3t|#3u|#3v|#3w|#3x|#3y|#3z|#3A|#3B";S a=1z[\'1A\'];a=a.1C(\'|\');J b=e.1Q.2t.1V,3D=a.1K(b);I(3D===-1)M;a.ar(3D,1);1z.4K(\'1A\');1z.4L(\'1A\',a.4M(\'|\'));H.2E()}e.3E();M 19};p.23.2E=L(){I(1N(4x)!=="1M"){J a="#3s|#3t|#3u|#3v|#3w|#3x|#3y|#3z|#3A|#3B",i=0,2o=[\'#2p\',\'#at\',\'#au\',\'#av\'],27=\'<4Q 1V="ax 24 U 2H ay az"><i 2X="aA-aB"></i> aC U</4Q>\';a=a.1C(\'|\');I(1z[\'1A\']!==1M&&1z[\'1A\']!==\'\')a=1z[\'1A\'].1C(\'|\');1H(i=0;i<2o.1j;i++){27+=\'<2A 2X="aE-2o" 1V="\'+2o[i]+\'" T="3F:\'+2o[i]+\';"></2A>\'}27+=\'<1n></1n>\';1H(i=0;i<a.1j;i++){27+=\'<2A 2X="2H" 1V="\'+a[i]+\'" T="3F:\'+a[i]+\';"><4S 1V="aH H 2H U">x</4S></2A>\';I(i>8)Y}H.aI=27}};p.23.2E();1G(z){V 0:J g=\'aJ.4T\';Y;V 1:J g=\'aL.4T\';Y}p.1g.T.1T="aM(\'"+K.38()+g+"\')";p.1g.T.aN="aO-aP";p.1g.T.2c="0 0";J h=B.18;J j=w.1m();3i();3j();2P();K.P.2r=w;N.2n(\'1t\')[0].1s(p.1f);I(p.1f.3d+p.1f.3e>4U.2U){p.1f.T.2b=(4U.2U-p.1f.3e-10)+\'1l\'}J k=$(\'#1c-U-P-1f\');$(\'#1c-U-P-25\').1P(\'3G aU\',L(e){J l=k.3H(0).3d,t=k.3H(0).4G,x=e.1y.28?e.1y.28:e.1y.2D[0].28,y=e.1y.2d?e.1y.2d:e.1y.2D[0].2d;$(N).1P(\'4Y 4Z\',L(e){k.50({2b:(l+((e.1y.28?e.1y.28:e.1y.2D[0].28)-x))+\'1l\',2g:(t+((e.1y.2d?e.1y.2d:e.1y.2D[0].2d)-y))+\'1l\'});e.3E()}).1P(\'4m b3\',L(e){$(N).51(\'4Y 4Z\')});e.3E()})}L 3h(o){J a=[2*o.1v+2*o.1D+K.1a.1g[0]+(o.3P?2*o.1v+2*K.1a.3b[0]+K.1a.1w[0]:0),o.3V?4*o.1v+3*o.1D+K.1a.1g[1]+o.3U:2*o.1v+2*o.1D+K.1a.1g[1]];M a}L 3i(){1G(z){V 0:J a=1;Y;V 1:J a=2;Y}J x=1d.1J((w.17[0]/6)*(K.1a.1g[0]-1));J y=1d.1J((1-w.17[a])*(K.1a.1g[1]-1));K.P.1S.T.2c=(w.1D+w.1v+x-1d.2l(K.1a.3a[0]/2))+\'1l \'+(w.1D+w.1v+y-1d.2l(K.1a.3a[1]/2))+\'1l\';J b=K.P.1w.b6;1G(z){V 0:J d=3k(w.17[0],w.17[1],1);1H(J i=0;i<b.1j;i+=1){b[i].T.1E=\'14(\'+(d[0]*(1-i/b.1j)*1U)+\'%,\'+(d[1]*(1-i/b.1j)*1U)+\'%,\'+(d[2]*(1-i/b.1j)*1U)+\'%)\'}Y;V 1:J d,s,c=[w.17[2],0,0];J i=1d.2l(w.17[0]);J f=i%2?w.17[0]-i:1-(w.17[0]-i);1G(i){V 6:V 0:d=[0,1,2];Y;V 1:d=[1,0,2];Y;V 2:d=[2,0,1];Y;V 3:d=[2,1,0];Y;V 4:d=[1,2,0];Y;V 5:d=[0,2,1];Y}1H(J i=0;i<b.1j;i+=1){s=1-1/(b.1j-1)*i;c[1]=c[0]*(1-s*f);c[2]=c[0]*(1-s);b[i].T.1E=\'14(\'+(c[d[0]]*1U)+\'%,\'+(c[d[1]]*1U)+\'%,\'+(c[d[2]]*1U)+\'%)\'}Y}}L 3j(){1G(z){V 0:J a=2;Y;V 1:J a=1;Y}J y=1d.1J((1-w.17[a])*(K.1a.1w[1]-1));K.P.1O.T.2c=\'0 \'+(w.1D+w.1v+y-1d.2l(K.1a.3b[1]/2))+\'1l\'}L 2P(){w.1h=K.47.O(B.18);K.P.1F.T.2c=\'0 \'+(((1-w.1h)*1U)+10)+\'1l\'}L 30(){M K.P&&K.P.2r===w}L 3I(){I(B===q){w.2i()}I(B.18==\'\'){B.T.3F=\'44\'}I(w.2F){w.3Y()}}L 53(){I(B!==q){w.2i()}}L 3p(e){J a=K.2C(e);J x=a.x-w.1D-w.1v;J y=a.y-w.1D-w.1v;1G(z){V 0:w.1Z(x*(6/(K.1a.1g[0]-1)),1-y/(K.1a.1g[1]-1),Q,3J);Y;V 1:w.1Z(x*(6/(K.1a.1g[0]-1)),Q,1-y/(K.1a.1g[1]-1),3J);Y}J b=w.1m()}L 35(e){J a=K.2C(e);J y=a.y-w.1D-w.1v;1G(z){V 0:w.1Z(Q,Q,1-y/(K.1a.1w[1]-1),2Q);Y;V 1:w.1Z(Q,1-y/(K.1a.1w[1]-1),Q,2Q);Y}y+=10;I(y<10)y=10;S I(y>2Y)y=2Y;K.P.1O.T.2c=\'0 \'+y+\'1l\'}L 3q(e){J a=K.2C(e);J y=(a.y-w.1D-w.1v)+10;I(y<10)y=10;S I(y>2Y)y=2Y;K.P.1F.T.2c=\'0 \'+y+\'1l\';y=1-((y-10)/1U);I(y!==0&&y!==1)y=y.1m()+\'bc\';w.1h=y.1m().1i(0,4).1W();w.1L()}L 2a(){I(w.2k){I(1N w.2k===\'4y\'){4c(w.2k)}S{w.2k(w)}}}L 4n(){M 3I();I(!A){1q.bd(L(){A||3I();A=19},0)}S{A=19}}J w=H;J z=H.3R.21()===\'be\'?1:0;J A=19;J B=K.3c(H.3Q),X=K.3c(H.X);J C=19,26=19,29=19;J D=1<<0,2x=1<<1,2Q=1<<2,3J=1<<3;J E=$(1q).2U();I(E>bg){J F=L(){J a=$(\'#1c-U-P-1f\');I(w.2F){I(a.1j===0||K.P.2r===Q||K.P.2r===1M){w.2Z();I(q.2y(\'1Y-37\')&&$(q.2y(\'1Y-37\')).1j>0){J b=$(q.2y(\'1Y-37\')).3H(0).bi();$(\'#1c-U-P-1f\').50({2b:b.2b+\'1l\',2g:(b.2g+b.3n+40)+\'1l\'})}}S{J c=a.56(\'T\');3g();w.2Z();$(\'#1c-U-P-1f\').56({T:c})}}};K.1R(q,\'4q\',F);K.1R(q,\'3G\',F)}S{q.57(\'bl\',1e);K.1R(q,\'3G\',L(e){I(w.2F&&!N.bm(\'4i\')[0]){w.2Z();$(\'#1c-2g-bn [1Y-bo].58\').bq(\'58\')}})};I(B){J G=L(){I(B.18.1j<6&&K.2T(B.18)===19)M;w.2h(B.18,D);2a()};K.1R(B,\'br\',G);K.1R(B,\'4a\',G);K.1R(B,\'bs\',53);B.57(\'bt\',\'51\')}I(X){X.1X={1T:X.T.1T,1E:X.T.1E,U:X.T.U}}H.2i()}};',62,712,'|||||||||||||||||||||||||||||||||||||||||||this|if|var|jscolor|function|return|document||picker|null||else|style|color|case||styleElement|break|path|||||rgb|||hsv|value|false|images|box|lumise|Math|true|boxB|pad|opacity|substr|length|query|px|toString|div|255|scheme|window|createElement|appendChild|body|authority|pickerInset|sld|parseInt|originalEvent|localStorage|lumise_color_presets|id|split|pickerFace|backgroundColor|sldO|switch|for|documentElement|round|indexOf|exportColor|undefined|typeof|sldM|on|target|addEvent|padM|backgroundImage|100|title|trim|jscStyle|data|fromHSV|fragment|toLowerCase|charAt|btn|new|header|holdSld|html|pageX|holdSldO|dispatchImmediateChange|left|backgroundPosition|pageY|e2|className|top|fromString|importColor|removeDotSegments|onImmediateChange|floor|sldB|getElementsByTagName|std|000|padB|owner|fireEvent|parentNode|scrollLeft|scrollTop|onmousedown|leaveStyle|getAttribute|src|span|number|getRelMousePos|touches|render|pickerOnfocus|while|preset|onmouseout|dir|fromRGB|sldBO|onmouseup|imgLoaded|change|redrawOpacity|leavePad|imgRequire|match|name2Hex|width|substring|cutHex|class|110|showPicker|isPickerOwner|replace|clientHeight|URI|clientWidth|setSld||pos|getDir|href|cross|arrow|fetchElement|offsetLeft|offsetWidth|position|removePicker|getPickerDims|redrawPad|redrawSld|HSV_RGB|0x100|segSize|height|extendRGBA|setPad|setOpacity|tagName|61B0FF|9782FF|FFD970|CBFF63|4DFFAC|FF21E1|9021FF|1F87FF|21FFBC|55FF21|alert|index|preventDefault|background|mousedown|get|blurTarget|leaveSld|072|ff00ff|adjust|hash|caps|slider|valueElement|pickerMode|pickerPosition|pickerSmartPosition|pickerButtonHeight|pickerClosable|rgba|detectDir|hidePicker|required||test|drawPicker|import|none|213|715|HEX|FFF|toAbsolute|input|jQuery|eval|RGB_HSV|parseFloat|in|min|max|lumise_color_picker|hasOwnProperty|loadImage|close|mouseup|jscolor_blur|text|101|focus|bindClass|binding|preloading|selection|getSelection|init|Storage|string|addEventListener|attachEvent|createEvent|createEventObject|getElementPos|offsetParent|bind|offsetTop|getElementSize|preload|Error|removeItem|setItem|join|getItem|offsetX|layerX|button|getViewPos|del|png|screen|pageYOffset|getViewSize|00ffff|mousemove|touchmove|css|off|innerWidth|blurValue|parse|Za|attr|setAttribute|active|lightsteelblue|mediumvioletred|778899|c71585|lightslategray|midnightblue|install|87cefa|load|191970|mintcream|f5fffa|mistyrose|ffe4e1|location|moccasin|lightskyblue|20b2aa|lightseagreen|base|ffa07a|lightsalmon|ffb6c1|script|lightpink|js|ffe4b5|90ee90|lightgreen|d3d3d3|lightgrey|navajowhite|fafad2|lightgoldenrodyellow|e0ffff|lightcyan|f08080|lightcoral|RegExp|add8e6|ffdead|lightblue|fffacd|lemonchiffon|try|navy|prop|catch|eInvalidProp|000080|7cfc00|oldlace|fdf5e6|lawngreen|fff0f5|181|olive|lavenderblush|808000|olivedrab|6b8e23|e6e6fa|requireImage|Image|orange|ffa500|getElementById|orangered|lavender|ff4500|f0e68c|khaki|orchid|HTMLEvents|initEvent|dispatchEvent|da70d6|palegoldenrod|fffff0|ivory|4b0082|eee8aa|do|palegreen|98fb98|indigo|cd5c5c|nodeName|toUpperCase|BODY|indianred|ff69b4|paleturquoise|afeeee|offsetHeight|hotpink|event|palevioletred|f0fff0|offsetY|d87093|layerY|papayawhip|ffefd5|pageXOffset|honeydew|adff2f|peachpuff|ffdab9|innerHeight|greenyellow|008000|green|808080|gray||peru|daa520|cd853f|goldenrod|pink|ffd700|ffc0cb|gold|f8f8ff|ghostwhite|dcdcdc|gainsboro|plum|fuchsia|00fa9a|dda0dd|powderblue|b0e0e6|purple|800080|228b22|forestgreen|fffaf0|floralwhite|b22222|red|HSV|ff0000|bottom|rosybrown|bc8f8f|royalblue|pickerCloseText|Close|pickerButtonColor|ButtonText|firebrick|pickerFaceColor|4169e1|pickerBorder|pickerBorderColor|1e90ff|pickerInsetColor|pickerZIndex|180000002|dodgerblue|saddlebrown|absolute|696969|8b4513|dimgray|salmon|00bfff|deepskyblue|ff1493|fa8072|deeppink|9400d3|darkviolet|00ced1|right||darkturquoise|default|2f4f4f|sandybrown||darkslategray|483d8b|darkslateblue||8fbc8f|f4a460|darkseagreen|e9967a|darksalmon|8b0000|darkred|9932cc|darkorchid|seagreen|2e8b57|seashell|fff5ee|sienna|ff8c00|darkorange|556b2f|darkolivegreen|8b008b|darkmagenta|a0522d|silver|bdb76b|c0c0c0|trigger|darkkhaki|006400|darkgreen|skyblue|a9a9a9|87ceeb|slateblue|darkgray|6a5acd|slategray|b8860b|708090|snow|darkgoldenrod|delete|008b8b|darkcyan|removeChild|00008b|darkblue|cyan|dc143c|crimson|fff8dc|cornsilk|6495ed|cornflowerblue|ff7f50|coral|d2691e|fffafa|springgreen|00ff7f|chocolate||fontSize|1px|lineHeight|7fff00|chartreuse|lumisex|android|steelblue|func|click|4682b4|touchen|tan|5f9ea0|d2b48c|Color|append|cadetblue|deb887|burlywood|Opacity|a52a2a|brown|8a2be2|teal|008080|blueviolet|onmousemove||0000ff|blue|ffebcd|thistle|d8bfd8|tomato|ff6347|empty|turquoise|removeAllRanges|blanchedalmond|000000|40e0d0|violet|BUTTON|ee82ee|wheat|f5deb3|white|ffffff|whitesmoke|f5f5f5|yellow|ffff00|yellowgreen|9acd32|black|ffe4c4|7b68ee|mediumslateblue|please|select|first|bisque|already|exists|pop|unshift|3cb371|mediumseagreen|9370d8|f5f5dc|Your|browser|does|not|support|offline|SPAN|DEL|mediumpurple|mediumspringgreen|splice|beige|fff|dd3333|1e73be|ba55d3|Create|from|currently|fa|plus|Save|f0ffff|fix|mediumorchid|0000cd|Delete|innerHTML|hs|mediumblue|hv|url|backgroundRepeat|no|repeat|azure|66cdaa|7fffd4|mediumaquamarine|touchstart|800000|aquamarine|maroon|aqua|faebd7|magenta|faf0e6|linen|touchend|32cd32|antiquewhite|childNodes|f0f8ff|mediumturquoise|limegreen|00ff00|aliceblue|0000|setTimeout|hvs|lime|1024|ffffe0|getBoundingClientRect|lightyellow|b0c4de|readonly|getElementsByClassName|tools|tool|48d1cc|removeClass|keyup|blur|autocomplete'.split('|'),0,{}));$.fn.shake=function(){return this.focus().animate({marginLeft:-30},100).animate({marginLeft:20},100).animate({marginLeft:-10},100).animate({marginLeft:5},100).animate({marginLeft:0},100)}})(jQuery);eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('D V(e,f){m g=D(a){m b=a.4("T")[0];m c=a.4("T")[1].18(0,8);m d=v o(o.16(b.4("-")[0],15(b.4("-")[1])-1,b.4("-")[2],c.4(":")[0],c.4(":")[1],c.4(":")[2]));i d};5($.14(e))e=13(e);k 5(12 e==\'11\'&&e.3().Z(\'T\')>-1)e=g(e.3())!=\'P o\'?g(e.3()):e;m h=v o(e),j=v o(),H=j.C(),B=r.E(r.17((H-h.C())/Q)),O=K,J=Y,A=L,M=N,G=j.x(),F=[\'R\',\'S\',\'U\',\'1a\',\'W\',\'X\',\'I\'],w=j.6(),p=h.s()<10?\'0\'+h.s().3():h.s(),q=h.y()<10?\'0\'+h.y().3():h.y(),u=h.6()<10?\'0\'+h.6().3():h.6(),t=h.l()<9?\'0\'+(h.l()+1):(h.l()+1);5(f)f=p.3()+\':\'+q.3()+\' \';k f=\'\';5(h.6()==w&&h.l()==j.l())i p.3()+\':\'+q.3();k 5(r.E(w-h.6())==1&&B<2*A)i p.3()+\':\'+q.3()+"\\n"+\' 19\';k 5(B<A*7&&h.z()<j.z())i f+F[h.z()];k 5(h.x()==G)i f+u.3()+\'/\'+t;k i f+u.3()+\'.\'+t.3()+\'.\'+(h.x().3())}',62,73,'|||toString|split|if|getDate||||||||||||return|today|else|getMonth|var||Date|t_hour|t_min|Math|getHours|t_month|t_date|new|date|getFullYear|getMinutes|getDay|aday|range|getTime|function|abs|day|year|now|Sat|ahour|60|86400|aweek|604800|amin|Invalid|1000|Sun|Mon||Tue|timeAgo|Wed|Fri|3600|indexOf||string|typeof|parseFloat|isNumeric|parseInt|UTC|round|substring|yestertay|Thu'.split('|'),0,{}));eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('z 2u(a){t.1m=T.1G;t.2j=a}2u.1S={O:z(a){w t.2j.A},2x:z(a){u(s i=0;i<t.2j.A;i++){a.1b(t.2j.3T(i),8)}}};z X(a,b){t.1d=a;t.1I=b;t.C=1f;t.G=0;t.1K=1f;t.1N=B S()}X.1S={3Y:z(a){s b=B 2u(a);t.1N.2s(b);t.1K=1f},I:z(a,b){v(a<0||t.G<=a||b<0||t.G<=b){Y B W(a+","+b);}w t.C[a][b]},3w:z(){w t.G},3v:z(){v(t.1d<1){s a=1;u(a=1;a<40;a++){s b=U.2w(a,t.1I);s c=B 1T();s d=0;u(s i=0;i<b.A;i++){d+=b[i].2c}u(s i=0;i<t.1N.A;i++){s e=t.1N[i];c.1b(e.1m,4);c.1b(e.O(),E.V(e.1m,a));e.2x(c)}v(c.V()<=d*8)1V}t.1d=a}t.2E(1O,t.3f())},2E:z(a,b){t.G=t.1d*4+17;t.C=B S(t.G);u(s c=0;c<t.G;c++){t.C[c]=B S(t.G);u(s d=0;d<t.G;d++){t.C[c][d]=1f}}t.1Y(0,0);t.1Y(t.G-7,0);t.1Y(0,t.G-7);t.3d();t.3a();t.2Z(a,b);v(t.1d>=7){t.2Y(a)}v(t.1K==1f){t.1K=X.2X(t.1d,t.1I,t.1N)}t.2W(t.1K,b)},1Y:z(a,b){u(s r=-1;r<=7;r++){v(a+r<=-1||t.G<=a+r)1o;u(s c=-1;c<=7;c++){v(b+c<=-1||t.G<=b+c)1o;v((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){t.C[a+r][b+c]=1E}1h{t.C[a+r][b+c]=1O}}}},3f:z(){s a=0;s b=0;u(s i=0;i<8;i++){t.2E(1E,i);s c=E.2P(t);v(i==0||a>c){a=c;b=i}}w b},3V:z(a,b,c){s d=a.3K(b,c);s e=1;t.3v();u(s f=0;f<t.C.A;f++){s y=f*e;u(s g=0;g<t.C[f].A;g++){s x=g*e;s h=t.C[f][g];v(h){d.4y(0,2z);d.3O(x,y);d.2I(x+e,y);d.2I(x+e,y+e);d.2I(x,y+e);d.3U()}}}w d},3a:z(){u(s r=8;r<t.G-8;r++){v(t.C[r][6]!=1f){1o}t.C[r][6]=(r%2==0)}u(s c=8;c<t.G-8;c++){v(t.C[6][c]!=1f){1o}t.C[6][c]=(c%2==0)}},3d:z(){s a=E.3g(t.1d);u(s i=0;i<a.A;i++){u(s j=0;j<a.A;j++){s b=a[i];s d=a[j];v(t.C[b][d]!=1f){1o}u(s r=-2;r<=2;r++){u(s c=-2;c<=2;c++){v(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){t.C[b+r][d+c]=1E}1h{t.C[b+r][d+c]=1O}}}}}},2Y:z(a){s b=E.3h(t.1d);u(s i=0;i<18;i++){s c=(!a&&((b>>i)&1)==1);t.C[1a.1A(i/3)][i%3+t.G-8-3]=c}u(s i=0;i<18;i++){s c=(!a&&((b>>i)&1)==1);t.C[i%3+t.G-8-3][1a.1A(i/3)]=c}},2Z:z(a,b){s c=(t.1I<<3)|b;s d=E.3j(c);u(s i=0;i<15;i++){s e=(!a&&((d>>i)&1)==1);v(i<6){t.C[i][8]=e}1h v(i<8){t.C[i+1][8]=e}1h{t.C[t.G-15+i][8]=e}}u(s i=0;i<15;i++){s e=(!a&&((d>>i)&1)==1);v(i<8){t.C[8][t.G-i-1]=e}1h v(i<9){t.C[8][15-i-1+1]=e}1h{t.C[8][15-i-1]=e}}t.C[t.G-8][8]=(!a)},2W:z(a,b){s d=-1;s e=t.G-1;s f=7;s g=0;u(s h=t.G-1;h>0;h-=2){v(h==6)h--;Z(1E){u(s c=0;c<2;c++){v(t.C[e][h-c]==1f){s i=1O;v(g<a.A){i=(((a[g]>>>f)&1)==1)}s j=E.3k(b,e,h-c);v(j){i=!i}t.C[e][h-c]=i;f--;v(f==-1){g++;f=7}}}e+=d;v(e<0||t.G<=e){e-=d;d=-d;1V}}}}};X.3l=4g;X.3m=4k;X.2X=z(a,b,c){s d=U.2w(a,b);s e=B 1T();u(s i=0;i<c.A;i++){s f=c[i];e.1b(f.1m,4);e.1b(f.O(),E.V(f.1m,a));f.2x(e)}s g=0;u(s i=0;i<d.A;i++){g+=d[i].2c}v(e.V()>g*8){Y B W("4E A 4w. ("+e.V()+">"+g*8+")");}v(e.V()+4<=g*8){e.1b(0,4)}Z(e.V()%8!=0){e.2H(1O)}Z(1E){v(e.V()>=g*8){1V}e.1b(X.3l,8);v(e.V()>=g*8){1V}e.1b(X.3m,8)}w X.3o(e,d)};X.3o=z(a,b){s c=0;s d=0;s e=0;s f=B S(b.A);s g=B S(b.A);u(s r=0;r<b.A;r++){s h=b[r].2c;s j=b[r].2C-h;d=1a.3u(d,h);e=1a.3u(e,j);f[r]=B S(h);u(s i=0;i<f[r].A;i++){f[r][i]=4i&a.1z[i+c]}c+=h;s k=E.3H(j);s l=B 1u(f[r],k.O()-1);s m=l.2F(k);g[r]=B S(k.O()-1);u(s i=0;i<g[r].A;i++){s n=i+m.O()-g[r].A;g[r][i]=(n>=0)?m.1i(n):0}}s o=0;u(s i=0;i<b.A;i++){o+=b[i].2C}s p=B S(o);s q=0;u(s i=0;i<d;i++){u(s r=0;r<b.A;r++){v(i<f[r].A){p[q++]=f[r][i]}}}u(s i=0;i<e;i++){u(s r=0;r<b.A;r++){v(i<g[r].A){p[q++]=g[r][i]}}}w p};s T={2q:1<<0,2o:1<<1,1G:1<<2,2m:1<<3};s 1F={L:1,M:0,Q:3,H:2};s 1j={3F:0,3E:1,3B:2,3A:3,3z:4,3x:5,3s:6,3r:7};s E={3p:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,R],[6,30,D],[6,32,1c],[6,34,1W],[6,26,46,3i],[6,26,48,1w],[6,26,R,N],[6,30,D,1B],[6,30,3e,2K],[6,30,1c,1q],[6,34,1W,2L],[6,28,R,3N,3L],[6,26,R,N,2b],[6,30,D,1B,1Q],[6,28,D,2d,2v],[6,32,1c,3c,2f],[6,30,1c,1q,1J],[6,34,1W,2L,1y],[6,26,R,N,2b,1l],[6,30,D,1B,1Q,3b],[6,26,3W,1B,4B,4x],[6,30,3e,2K,2k,2T],[6,34,2G,1q,2S,2R],[6,30,1c,1q,1J,2n],[6,34,1W,2L,1y,1p],[6,30,D,1B,1Q,3b,3n],[6,24,R,1n,1Q,4t,3X],[6,28,D,2d,2v,2O,4u],[6,32,1c,3c,2f,2M,3Z],[6,26,D,2K,2f,2R,4a],[6,30,1c,1q,1J,2n,4b]],2r:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),2p:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),2Q:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),3j:z(a){s d=a<<10;Z(E.1k(d)-E.1k(E.2r)>=0){d^=(E.2r<<(E.1k(d)-E.1k(E.2r)))}w((a<<10)|d)^E.2Q},3h:z(a){s d=a<<12;Z(E.1k(d)-E.1k(E.2p)>=0){d^=(E.2p<<(E.1k(d)-E.1k(E.2p)))}w(a<<12)|d},1k:z(a){s b=0;Z(a!=0){b++;a>>>=1}w b},3g:z(a){w E.3p[a-1]},3k:z(a,i,j){1D(a){F 1j.3F:w(i+j)%2==0;F 1j.3E:w i%2==0;F 1j.3B:w j%3==0;F 1j.3A:w(i+j)%3==0;F 1j.3z:w(1a.1A(i/2)+1a.1A(j/3))%2==0;F 1j.3x:w(i*j)%2+(i*j)%3==0;F 1j.3s:w((i*j)%2+(i*j)%3)%2==0;F 1j.3r:w((i*j)%3+(i+j)%2)%2==0;1H:Y B W("2U 3P:"+a);}},3H:z(b){s a=B 1u([1],0);u(s i=0;i<b;i++){a=a.2V(B 1u([1,K.2h(i)],0))}w a},V:z(a,b){v(1<=b&&b<10){1D(a){F T.2q:w 10;F T.2o:w 9;F T.1G:w 8;F T.2m:w 8;1H:Y B W("1m:"+a);}}1h v(b<27){1D(a){F T.2q:w 12;F T.2o:w 11;F T.1G:w 16;F T.2m:w 10;1H:Y B W("1m:"+a);}}1h v(b<41){1D(a){F T.2q:w 14;F T.2o:w 13;F T.1G:w 16;F T.2m:w 12;1H:Y B W("1m:"+a);}}1h{Y B W("4e:"+b);}},2P:z(a){s b=a.3w();s d=0;u(s e=0;e<b;e++){u(s f=0;f<b;f++){s g=0;s h=a.I(e,f);u(s r=-1;r<=1;r++){v(e+r<0||b<=e+r){1o}u(s c=-1;c<=1;c++){v(f+c<0||b<=f+c){1o}v(r==0&&c==0){1o}v(h==a.I(e+r,f+c)){g++}}}v(g>5){d+=(3+g-5)}}}u(s e=0;e<b-1;e++){u(s f=0;f<b-1;f++){s i=0;v(a.I(e,f))i++;v(a.I(e+1,f))i++;v(a.I(e,f+1))i++;v(a.I(e+1,f+1))i++;v(i==0||i==4){d+=3}}}u(s e=0;e<b;e++){u(s f=0;f<b-6;f++){v(a.I(e,f)&&!a.I(e,f+1)&&a.I(e,f+2)&&a.I(e,f+3)&&a.I(e,f+4)&&!a.I(e,f+5)&&a.I(e,f+6)){d+=40}}}u(s f=0;f<b;f++){u(s e=0;e<b-6;e++){v(a.I(e,f)&&!a.I(e+1,f)&&a.I(e+2,f)&&a.I(e+3,f)&&a.I(e+4,f)&&!a.I(e+5,f)&&a.I(e+6,f)){d+=40}}}s j=0;u(s f=0;f<b;f++){u(s e=0;e<b;e++){v(a.I(e,f)){j++}}}s k=1a.4h(2z*j/b/b-R)/5;d+=k*10;w d}};s K={1r:z(n){v(n<1){Y B W("1r("+n+")");}w K.2B[n]},2h:z(n){Z(n<0){n+=2A}Z(n>=2e){n-=2A}w K.1g[n]},1g:B S(2e),2B:B S(2e)};u(s i=0;i<8;i++){K.1g[i]=1<<i}u(s i=8;i<2e;i++){K.1g[i]=K.1g[i-4]^K.1g[i-5]^K.1g[i-6]^K.1g[i-8]}u(s i=0;i<2A;i++){K.2B[K.1g[i]]=i}z 1u(a,b){v(a.A==2t){Y B W(a.A+"/"+b);}s c=0;Z(c<a.A&&a[c]==0){c++}t.2a=B S(a.A-c+b);u(s i=0;i<a.A-c;i++){t.2a[i]=a[i+c]}}1u.1S={1i:z(a){w t.2a[a]},O:z(){w t.2a.A},2V:z(e){s a=B S(t.O()+e.O()-1);u(s i=0;i<t.O();i++){u(s j=0;j<e.O();j++){a[i+j]^=K.2h(K.1r(t.1i(i))+K.1r(e.1i(j)))}}w B 1u(a,0)},2F:z(e){v(t.O()-e.O()<0){w t}s a=K.1r(t.1i(0))-K.1r(e.1i(0));s b=B S(t.O());u(s i=0;i<t.O();i++){b[i]=t.1i(i)}u(s i=0;i<e.O();i++){b[i]^=K.2h(K.1r(e.1i(i))+a)}w B 1u(b,0).2F(e)}};z U(a,b){t.2C=a;t.2c=b}U.1M=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,1w,J],[1,1w,44],[2,35,17],[2,35,13],[1,2z,2d],[2,R,32],[2,R,24],[4,25,9],[1,2T,2k],[2,2D,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,1q,1U],[4,43,27],[4,43,19],[4,43,15],[2,2b,1B],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,1P,4s],[2,2G,38,2,2N,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,1p,1e],[3,1c,36,2,1R,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,1q,1U,2,3q,2y],[4,2y,43,1,1w,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,3M,3t],[1,2d,R,4,3t,1x],[4,R,22,4,1x,23],[3,36,12,8,37,13],[2,1e,3Q,2,1C,3S],[6,1c,36,2,1R,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,3y,1X],[8,1R,37,1,2G,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,1s,1t,1,1p,1e],[4,3C,40,5,3D,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,4c,3q,1,2f,4d],[5,3D,41,5,3i,42],[5,D,24,7,J,25],[11,36,12],[5,1l,2b,1,1Z,4f],[7,1L,45,3,N,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,3G,1X,5,2M,2k],[10,N,46,1,P,47],[1,R,22,15,1x,23],[2,42,14,17,43,15],[5,3n,4j,1,2g,1P],[9,2y,43,4,1w,44],[17,R,22,1,1x,23],[2,42,14,19,43,15],[3,4l,4m,4,2n,1J],[3,1w,44,11,4n,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,3G,1X,5,2M,2k],[3,2D,41,13,1U,42],[15,D,24,5,J,25],[15,43,15,10,44,16],[4,4o,1e,4,1s,1C],[17,1U,42],[17,R,22,6,1x,23],[19,46,16,6,47,17],[2,4p,4q,7,4r,2S],[17,N,46],[7,D,24,16,J,25],[34,37,13],[4,2g,1P,5,1v,1l],[4,P,47,14,1n,48],[11,D,24,14,J,25],[16,45,15,14,46,16],[6,2i,1C,4,2l,1y],[6,1L,45,14,N,46],[11,D,24,16,J,25],[30,46,16,2,47,17],[8,2O,2v,4,3y,1X],[8,P,47,13,1n,48],[7,D,24,22,J,25],[22,45,15,13,46,16],[10,2n,1J,2,4v,1t],[19,N,46,4,P,47],[28,R,22,6,1x,23],[33,46,16,4,47,17],[8,1v,1l,4,2J,1Z],[22,1L,45,3,N,46],[8,3I,23,26,D,24],[12,45,15,28,46,16],[3,2i,1C,10,2l,1y],[3,1L,45,23,N,46],[4,D,24,31,J,25],[11,45,15,31,46,16],[7,1p,1e,7,2i,1C],[21,1L,45,7,N,46],[1,3I,23,37,D,24],[19,45,15,26,46,16],[5,1s,1t,10,1p,1e],[19,P,47,10,1n,48],[15,D,24,25,J,25],[23,45,15,25,46,16],[13,1s,1t,3,1p,1e],[2,N,46,29,P,47],[42,D,24,1,J,25],[23,45,15,28,46,16],[17,1s,1t],[10,N,46,23,P,47],[10,D,24,35,J,25],[19,45,15,35,46,16],[17,1s,1t,1,1p,1e],[14,N,46,21,P,47],[29,D,24,19,J,25],[11,45,15,46,46,16],[13,1s,1t,6,1p,1e],[14,N,46,23,P,47],[44,D,24,7,J,25],[1R,46,16,1,47,17],[12,2g,1P,7,1v,1l],[12,P,47,26,1n,48],[39,D,24,14,J,25],[22,45,15,41,46,16],[6,2g,1P,14,1v,1l],[6,P,47,34,1n,48],[46,D,24,10,J,25],[2,45,15,3C,46,16],[17,1v,1l,4,2J,1Z],[29,N,46,14,P,47],[49,D,24,10,J,25],[24,45,15,46,46,16],[4,1v,1l,18,2J,1Z],[13,N,46,32,P,47],[48,D,24,14,J,25],[42,45,15,32,46,16],[20,2i,1C,4,2l,1y],[40,P,47,7,1n,48],[43,D,24,22,J,25],[10,45,15,2D,46,16],[19,2l,1y,6,4z,4A],[18,P,47,31,1n,48],[34,D,24,34,J,25],[20,45,15,2N,46,16]];U.2w=z(a,b){s c=U.3J(a,b);v(c==2t){Y B W("2U 4C 4D @ 1d:"+a+"/1I:"+b);}s d=c.A/3;s e=B S();u(s i=0;i<d;i++){s f=c[i*3+0];s g=c[i*3+1];s h=c[i*3+2];u(s j=0;j<f;j++){e.2s(B U(g,h))}}w e};U.3J=z(a,b){1D(b){F 1F.L:w U.1M[(a-1)*4+0];F 1F.M:w U.1M[(a-1)*4+1];F 1F.Q:w U.1M[(a-1)*4+2];F 1F.H:w U.1M[(a-1)*4+3];1H:w 2t}};z 1T(){t.1z=B S();t.A=0}1T.1S={1i:z(a){s b=1a.1A(a/8);w((t.1z[b]>>>(7-a%8))&1)==1},1b:z(a,b){u(s i=0;i<b;i++){t.2H(((a>>>(b-i-1))&1)==1)}},V:z(){w t.A},2H:z(a){s b=1a.1A(t.A/8);v(t.1z.A<=b){t.1z.2s(0)}v(a){t.1z[b]|=(3R>>>(t.A%8))}t.A++}};',62,289,'||||||||||||||||||||||||||||var|this|for|if|return|||function|length|new|modules|54|QRUtil|case|moduleCount||isDark|55|QRMath|||74|getLength|75||50|Array|QRMode|QRRSBlock|getLengthInBits|Error|QRCode|throw|while|||||||||||Math|put|58|typeNumber|116|null|EXP_TABLE|else|get|QRMaskPattern|getBCHDigit|122|mode|76|continue|146|86|glog|145|115|QRPolynomial|152|70|51|118|buffer|floor|78|117|switch|true|QRErrorCorrectLevel|MODE_8BIT_BYTE|default|errorCorrectLevel|114|dataCache|73|RS_BLOCK_TABLE|dataList|false|121|102|59|prototype|QRBitBuffer|68|break|62|107|setupPositionProbePattern|123|||||||||||num|98|dataCount|80|256|110|151|gexp|147|data|108|148|MODE_KANJI|142|MODE_ALPHA_NUM|G18|MODE_NUMBER|G15|push|undefined|QR8bitByte|106|getRSBlocks|write|69|100|255|LOG_TABLE|totalCount|67|makeImpl|mod|60|putBit|lineTo|153|82|90|136|61|132|getLostPoint|G15_MASK|138|112|134|bad|multiply|mapData|createData|setupTypeNumber|setupTypeInfo|||||||||||setupTimingPattern|126|84|setupPositionAdjustPattern|56|getBestMaskPattern|getPatternPosition|getBCHTypeNumber|66|getBCHTypeInfo|getMask|PAD0|PAD1|150|createBytes|PATTERN_POSITION_TABLE|87|PATTERN111|PATTERN110|81|max|make|getModuleCount|PATTERN101|133|PATTERN100|PATTERN011|PATTERN010|64|65|PATTERN001|PATTERN000|135|getErrorCorrectPolynomial|53|getRsBlockTable|createEmptyMovieClip|94|101|72|moveTo|maskPattern|92|0x80|93|charCodeAt|endFill|createMovieClip|52|154|addData|162|||||||||||166|170|109|88|type|99|0xEC|abs|0xff|120|0x11|141|113|71|144|139|111|140|97|128|158|143|overflow|130|beginFill|149|119|104|rs|block|code'.split('|'),0,{}));(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}
function w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}
function z(a){if("string"===typeof a.f)return a.f;var b=a.m.location.protocol;"about:"==b&&(b=a.a.location.protocol);return"https:"==b?"https:":"http:"}function ea(a){return a.m.location.hostname||a.a.location.hostname}
function A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error("Stylesheet failed to load");d()}):setTimeout(function(){e=!0;d()},0);u(a,"head",b)}
function B(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var f=t(a,"script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||"-"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+" "+(a.f+"00")+" 300px "+J(a.c)}function J(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function K(a){return a.a+a.f}function I(a){var b="normal";"o"===a.a?b="oblique":"i"===a.a&&(b="italic");return b}
function ga(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G("-");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c("wf","loading")]);L(a,"loading")}function M(a){if(a.g){var b=y(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive"));w(a.f,c,d)}L(a,"inactive")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function O(a){u(a.c,"body",a.a)}function P(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+J(a.c)+";"+("font-style:"+I(a)+";font-weight:"+(a.f+"00")+";")};function Q(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}Q.prototype.start=function(){var a=this.c.m.document,b=this,c=q(),d=new Promise(function(d,e){function k(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(k,25)},function(){e()})}k()}),e=new Promise(function(a,d){setTimeout(d,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||"BESbswy";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+",serif",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+",sans-serif",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H("serif",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H("sans-serif",K(this.a));a=P(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:"serif",C:"sans-serif"},T=null;function U(){if(null===T){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.o.a.offsetWidth;this.A=q();la(this)};function ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f["sans-serif"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c("wf",a.c,K(a).toString(),"active")],[b.a.c("wf",a.c,K(a).toString(),"loading"),b.a.c("wf",a.c,K(a).toString(),"inactive")]);L(b,"fontactive",a);this.o=!0;oa(this)};W.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c("wf",a.c,K(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,K(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,K(a).toString(),"inactive"));w(b.f,d,e)}L(b,"fontinactive",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),L(a,"active")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};function ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c("wf",x.c,K(x).toString(),"loading")]);L(r,"fontloading",x);r=null;null===X&&(X=window.FontFace?(x=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))?42<parseInt(x[1],10):!0:!1);X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,n);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){ra(a,f,b,d,c)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return d+"//"+a+"/"+b+".js"+(c?"?v="+c:"")}
sa.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c=f["__mti_fntLst"+d](),e=[],h;if(c)for(var m=0;m<c.length;m++){var l=c[m].fontfamily;void 0!=c[m].fontStyle&&void 0!=c[m].fontWeight?(h=c[m].fontStyle+c[m].fontWeight,e.push(new H(l,h))):e.push(new H(l))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;B(this.c,ta(c,d,e),function(e){e?a([]):(f["__MonotypeConfiguration__"+d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var h=d[1].split(","),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||""}var wa="//fonts.googleapis.com/css";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.a.push(e.join(f))}}
function ya(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));b=a.c+"?family="+c.join("%7C");0<a.f.length&&(b+="&subset="+a.f.join(","));0<a.g.length&&(b+="&text="+encodeURIComponent(a.g));return b};function za(a){this.f=a;this.a=[];this.c={}}
var Aa={latin:"BESbswy","latin-ext":"\u00e7\u00f6\u00fc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},Ba={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ca={i:"i",italic:"i",n:"n",normal:"n"},Da=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Ea(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(","),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\w-]+$/)){var n=Da.exec(l.toLowerCase());if(null==n)l="";else{l=n[2];l=null==l||""==l?"n":Ca[l];n=n[1];if(null==n||""==n)n="4";else var r=Ba[n],n=r?r:isNaN(n)?"4":n.substr(0,1);l=[l,n].join("")}}else l="";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(","):g,0<d.length&&(d=Aa[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Aa[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Fa(a,b){this.c=a;this.a=b}var Ga={Arimo:!0,Cousine:!0,Tinos:!0};Fa.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new za(e);Ea(f);A(c,ya(d),D(b));F(b,function(){a(f.a,f.c,Ga)})};function Ha(a,b){this.c=a;this.a=b}Ha.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ia(a,b){this.c=a;this.f=b;this.a=[]}Ia.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga("font-weight:"+h.weight+";font-style:"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+ea(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ia(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ha(b,a)};Y.a.c.google=function(a,b){return new Fa(b,a)};var Z={load:p(Y.load,Y)};"function"===typeof define&&define.amd?define(function(){return Z}):"undefined"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig))}());eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(H(){\'4g 4X\';H 1F(){v m=I;I.3c=\'1.2.3\',I.4V=H(b,c,d){d=m.1P(d);m.2R(b,H(a){c(m.36(m.2P(a),d))},d)},I.36=H(a,b){b=m.1P(b);v c=m.2M(a,b);O m.3u(c,b)},I.4U=H(b,c,d){d=m.1P(d);m.2R(b,H(a){c(m.2M(m.2P(a),d))},d)},I.2M=H(a,b){b=m.1P(b);v c=m.3A(a,b);v d=m.3I(c);q(b.3L){m.3N(d,m.3P,b.z,b.3L)}v e=m.3o(d,b.1W);v f=m.3t(e,b);v g=m.3x(f,b.1x,b.1p);v h={\'2j\':g,\'P\':c.P,\'J\':a.J,\'12\':a.12};O h},I.2O={\'4S\':4P,\'4O\':{1a:0,17:2},\'4N\':{17:4,1t:5},\'4K\':{1x:0.2w,1J:1w,2c:1j},\'4J\':{1p:0.2w,1J:1j},\'4I\':{1W:0,1l:2,1x:0.5,1p:0.5,17:1y},\'4B\':{1t:5,1G:1y},\'4A\':{1a:0,1B:1,17:7},\'4z\':{1a:0,1B:1,17:27},\'4y\':{1a:1,17:8},\'4x\':{1a:1,17:1y},\'4v\':{1a:0,1B:1,1W:0,1t:5,1G:1y,1x:0.2w,1J:1w,17:16,1I:2},\'4u\':{1p:0.2w,1a:0,1B:1,17:4,1I:0},\'4t\':{1p:10,1x:10,17:8},\'4s\':{1p:10,1x:10,17:1y,1t:5,1G:3W,1I:2},\'4p\':{1x:1,1p:1,1W:20,2c:1w,1a:0,17:3,2D:0,1B:3,1t:3,1G:20,1I:0,1J:1j,1l:1,30:[{r:0,g:0,b:4o,a:G},{r:G,g:G,b:G,a:G}]}},I.1P=H(a){a=a||{};q(2a a===\'4n\'){q(m.2O[a]){a=m.2O[a]}R{a={}}}q(!a.K(\'2H\')){a.2H=1j}q(!a.K(\'1x\')){a.1x=1}q(!a.K(\'1p\')){a.1p=1}q(!a.K(\'1W\')){a.1W=8}q(!a.K(\'2c\')){a.2c=1w}q(a.K(\'1a\')){q(2a a.1a===\'4m\'){a.1a=a.1a?1:0}}R{a.1a=2}q(!a.K(\'17\')){a.17=16}q(!a.K(\'2D\')){a.2D=0}q(!a.K(\'1B\')){a.1B=3}q(!a.K(\'1I\')){a.1I=1}q(!a.K(\'1J\')){a.1J=1j}q(!a.K(\'z\')){a.z=1}q(!a.K(\'1l\')){a.1l=1}q(!a.K(\'1o\')){a.1o=0}q(!a.K(\'15\')){a.15=0}q(!a.K(\'2k\')){a.2k=1j}q(!a.K(\'31\')){a.31=1j}q(!a.K(\'1t\')){a.1t=0}q(!a.K(\'1G\')){a.1G=20}O a},I.3A=H(a,b){v c=[],E=0,2m,2o,1u,19=[],3a=a.J*a.12,i,j,k,22,P;A(j=0;j<a.12+2;j++){c[j]=[];A(i=0;i<a.J+2;i++){c[j][i]=-1}}q(b.30){P=b.30}R q(b.1a===0){P=m.3h(b.17)}R q(b.1a===1){P=m.3j(b.17,a)}R{P=m.3m(b.17,a)}q(b.1t>0){a=m.3n(a,b.1t,b.1G)}A(22=0;22<b.1B;22++){q(22>0){A(k=0;k<P.B;k++){q(19[k].n>0){P[k]={r:D.S(19[k].r/19[k].n),g:D.S(19[k].g/19[k].n),b:D.S(19[k].b/19[k].n),a:D.S(19[k].a/19[k].n)}}q((19[k].n/3a<b.2D)&&(22<b.1B-1)){P[k]={r:D.S(D.1A()*G),g:D.S(D.1A()*G),b:D.S(D.1A()*G),a:D.S(D.1A()*G)}}}}A(i=0;i<P.B;i++){19[i]={r:0,g:0,b:0,a:0,n:0}}A(j=0;j<a.12;j++){A(i=0;i<a.J;i++){E=(j*a.J+i)*4;1u=0;2o=34;A(k=0;k<P.B;k++){2m=D.1r(P[k].r-a.F[E])+D.1r(P[k].g-a.F[E+1])+D.1r(P[k].b-a.F[E+2])+D.1r(P[k].a-a.F[E+3]);q(2m<2o){2o=2m;1u=k}}19[1u].r+=a.F[E];19[1u].g+=a.F[E+1];19[1u].b+=a.F[E+2];19[1u].a+=a.F[E+3];19[1u].n++;c[j+1][i+1]=1u}}}O{1h:c,P:P}},I.3j=H(a,b){v c,P=[];A(v i=0;i<a;i++){c=D.S(D.1A()*b.F.B/4)*4;P.1z({r:b.F[c],g:b.F[c+1],b:b.F[c+2],a:b.F[c+3]})}O P},I.3m=H(a,b){v c,P=[],2q=D.3C(D.4k(a)),2Z=D.3C(a/2q),3H=b.J/(2q+1),2r=b.12/(2Z+1);A(v j=0;j<2Z;j++){A(v i=0;i<2q;i++){q(P.B===a){4j}R{c=D.S(((j+1)*2r)*b.J+((i+1)*3H))*4;P.1z({r:b.F[c],g:b.F[c+1],b:b.F[c+2],a:b.F[c+3]})}}}O P},I.3h=H(a){v b=[],1D,2b,2e;q(a<8){v c=D.S(G/(a-1));A(v i=0;i<a;i++){b.1z({r:i*c,g:i*c,b:i*c,a:G})}}R{v d=D.S(D.4i(a,1/3)),2s=D.S(G/(d-1)),3Q=a-d*d*d;A(1D=0;1D<d;1D++){A(2b=0;2b<d;2b++){A(2e=0;2e<d;2e++){b.1z({r:1D*2s,g:2b*2s,b:2e*2s,a:G})}}}A(1D=0;1D<3Q;1D++){b.1z({r:D.S(D.1A()*G),g:D.S(D.1A()*G),b:D.S(D.1A()*G),a:D.S(D.1A()*G)})}}O b},I.3I=H(a){v b=[],1c=0,2W=a.1h.B,2V=a.1h[0].B,2U,2t,2L,2E,2F,2I,2G,2J,i,j,k;A(k=0;k<a.P.B;k++){b[k]=[];A(j=0;j<2W;j++){b[k][j]=[];A(i=0;i<2V;i++){b[k][j][i]=0}}}A(j=1;j<2W-1;j++){A(i=1;i<2V-1;i++){1c=a.1h[j][i];2U=a.1h[j-1][i-1]===1c?1:0;2t=a.1h[j-1][i]===1c?1:0;2L=a.1h[j-1][i+1]===1c?1:0;2E=a.1h[j][i-1]===1c?1:0;2F=a.1h[j][i+1]===1c?1:0;2I=a.1h[j+1][i-1]===1c?1:0;2G=a.1h[j+1][i]===1c?1:0;2J=a.1h[j+1][i+1]===1c?1:0;b[1c][j+1][i+1]=1+2F*2+2J*4+2G*8;q(!2E){b[1c][j+1][i]=0+2+2G*4+2I*8}q(!2t){b[1c][j][i+1]=0+2L*2+2F*4+8}q(!2U){b[1c][j][i]=0+2t*2+4+2E*8}}}O b},I.3i=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],I.3r=H(a,b){b=b||8;v c=[],u=0,o=0,U=0,V=0,w=a[0].B,h=a.B,2C=0,2B=1w,2A=1j,25;A(v j=0;j<h;j++){A(v i=0;i<w;i++){q((a[j][i]==4)||(a[j][i]==11)){U=i;V=j;c[u]={};c[u].9=[];c[u].18=[U,V,U,V];c[u].1n=[];2B=1j;o=0;2A=(a[j][i]==11);2C=1;2h(!2B){c[u].9[o]={};c[u].9[o].x=U-1;c[u].9[o].y=V-1;c[u].9[o].t=a[V][U];q((U-1)<c[u].18[0]){c[u].18[0]=U-1}q((U-1)>c[u].18[2]){c[u].18[2]=U-1}q((V-1)<c[u].18[1]){c[u].18[1]=V-1}q((V-1)>c[u].18[3]){c[u].18[3]=V-1}25=m.3i[a[V][U]][2C];a[V][U]=25[0];2C=25[1];U+=25[2];V+=25[3];q((U-1===c[u].9[0].x)&&(V-1===c[u].9[0].y)){2B=1w;q(c[u].9.B<b){c.4f()}R{c[u].1E=2A?1w:1j;q(2A){v d=0,2T=[-1,-1,w+1,h+1];A(v e=0;e<u;e++){q((!c[e].1E)&&m.32(c[e].18,c[u].18)&&m.32(2T,c[e].18)){d=e;2T=c[e].18}}c[d].1n.1z(u)}u++}}o++}}}}O c},I.32=H(a,b){O((a[0]<b[0])&&(a[1]<b[1])&&(a[2]>b[2])&&(a[3]>b[3]))},I.3o=H(a,b){v c=[];A(v k 2i a){q(!a.K(k)){2l}c[k]=m.3r(a[k],b)}O c},I.3M=H(a,b){v c=[],1s=0,1m=0,2g=0,2Y=0,2X=0,u,o;A(u=0;u<a.B;u++){c[u]={};c[u].9=[];c[u].18=a[u].18;c[u].1n=a[u].1n;c[u].1E=a[u].1E;1s=a[u].9.B;A(o=0;o<1s;o++){1m=(o+1)%1s;2g=(o+2)%1s;2Y=(o-1+1s)%1s;2X=(o-2+1s)%1s;q(b.2c&&m.35(a[u],2X,2Y,o,1m,2g)){q(c[u].9.B>0){c[u].9[c[u].9.B-1].1C=m.2u(c[u].9[c[u].9.B-1].x,c[u].9[c[u].9.B-1].y,a[u].9[o].x,a[u].9[o].y)}c[u].9.1z({x:a[u].9[o].x,y:a[u].9[o].y,1C:m.2u(a[u].9[o].x,a[u].9[o].y,((a[u].9[o].x+a[u].9[1m].x)/2),((a[u].9[o].y+a[u].9[1m].y)/2))})}c[u].9.1z({x:((a[u].9[o].x+a[u].9[1m].x)/2),y:((a[u].9[o].y+a[u].9[1m].y)/2),1C:m.2u(((a[u].9[o].x+a[u].9[1m].x)/2),((a[u].9[o].y+a[u].9[1m].y)/2),((a[u].9[1m].x+a[u].9[2g].x)/2),((a[u].9[1m].y+a[u].9[2g].y)/2))})}}O c},I.35=H(a,b,c,d,e,f){O(((a.9[d].x===a.9[b].x)&&(a.9[d].x===a.9[c].x)&&(a.9[d].y===a.9[e].y)&&(a.9[d].y===a.9[f].y))||((a.9[d].y===a.9[b].y)&&(a.9[d].y===a.9[c].y)&&(a.9[d].x===a.9[e].x)&&(a.9[d].x===a.9[f].x)))},I.2u=H(a,b,c,d){v e=8;q(a<c){q(b<d){e=1}R q(b>d){e=7}R{e=0}}R q(a>c){q(b<d){e=3}R q(b>d){e=5}R{e=4}}R{q(b<d){e=2}R q(b>d){e=6}R{e=8}}O e},I.3t=H(a,b){v c=[];A(v k 2i a){q(!a.K(k)){2l}c[k]=m.3M(a[k],b)}O c},I.38=H(a,b,c){v d=0,2v,26,1e,C={};C.s=[];C.18=a.18;C.1n=a.1n;C.1E=a.1E;2h(d<a.9.B){2v=a.9[d].1C;26=-1;1e=d+1;2h(((a.9[1e].1C===2v)||(a.9[1e].1C===26)||(26===-1))&&(1e<a.9.B-1)){q((a.9[1e].1C!==2v)&&(26===-1)){26=a.9[1e].1C}1e++}q(1e===a.9.B-1){1e=0}C.s=C.s.3e(m.2z(a,b,c,d,1e));q(1e>0){d=1e}R{d=a.9.B}}O C},I.2z=H(a,b,c,d,e){q((e>a.9.B)||(e<0)){O[]}v f=d,24=0,23=1w,U,V,1q;v g=(e-d);q(g<0){g+=a.9.B}v h=(a.9[e].x-a.9[d].x)/g,2r=(a.9[e].y-a.9[d].y)/g;v i=(d+1)%a.9.B,1Y;2h(i!=e){1Y=i-d;q(1Y<0){1Y+=a.9.B}U=a.9[d].x+h*1Y;V=a.9[d].y+2r*1Y;1q=(a.9[i].x-U)*(a.9[i].x-U)+(a.9[i].y-V)*(a.9[i].y-V);q(1q>b){23=1j}q(1q>24){f=i;24=1q}i=(i+1)%a.9.B}q(23){O[{1X:\'L\',1g:a.9[d].x,1i:a.9[d].y,X:a.9[e].x,W:a.9[e].y}]}v j=f;23=1w;24=0;v t=(j-d)/g,1V=(1-t)*(1-t),1U=2*(1-t)*t,1T=t*t;v k=(1V*a.9[d].x+1T*a.9[e].x-a.9[j].x)/-1U,2K=(1V*a.9[d].y+1T*a.9[e].y-a.9[j].y)/-1U;i=d+1;2h(i!=e){t=(i-d)/g;1V=(1-t)*(1-t);1U=2*(1-t)*t;1T=t*t;U=1V*a.9[d].x+1U*k+1T*a.9[e].x;V=1V*a.9[d].y+1U*2K+1T*a.9[e].y;1q=(a.9[i].x-U)*(a.9[i].x-U)+(a.9[i].y-V)*(a.9[i].y-V);q(1q>c){23=1j}q(1q>24){f=i;24=1q}i=(i+1)%a.9.B}q(23){O[{1X:\'Q\',1g:a.9[d].x,1i:a.9[d].y,X:k,W:2K,Y:a.9[e].x,1v:a.9[e].y}]}v l=j;O m.2z(a,b,c,d,l).3e(m.2z(a,b,c,l,e))},I.3w=H(a,b,c){v d=[];A(v k 2i a){q(!a.K(k)){2l}d.1z(m.38(a[k],b,c))}O d},I.3x=H(a,b,c){v d=[];A(v k 2i a){q(!a.K(k)){2l}d[k]=m.3w(a[k],b,c)}O d},I.1b=H(a,b){O+a.4c(b)},I.3z=H(a,b,c,d){v e=a.2j[b],C=e[c],N=\'\',o;q(d.1J&&(C.s.B<3)){O N}N=\'<4b \'+(d.2k?(\'2k="l \'+b+\' p \'+c+\'" \'):\'\')+m.3D(a.P[b],d)+\'d="\';q(d.1l===-1){N+=\'M \'+C.s[0].1g*d.z+\' \'+C.s[0].1i*d.z+\' \';A(o=0;o<C.s.B;o++){N+=C.s[o].1X+\' \'+C.s[o].X*d.z+\' \'+C.s[o].W*d.z+\' \';q(C.s[o].K(\'Y\')){N+=C.s[o].Y*d.z+\' \'+C.s[o].1v*d.z+\' \'}}N+=\'Z \'}R{N+=\'M \'+m.1b(C.s[0].1g*d.z,d.1l)+\' \'+m.1b(C.s[0].1i*d.z,d.1l)+\' \';A(o=0;o<C.s.B;o++){N+=C.s[o].1X+\' \'+m.1b(C.s[o].X*d.z,d.1l)+\' \'+m.1b(C.s[o].W*d.z,d.1l)+\' \';q(C.s[o].K(\'Y\')){N+=m.1b(C.s[o].Y*d.z,d.1l)+\' \'+m.1b(C.s[o].1v*d.z,d.1l)+\' \'}}N+=\'Z \'}A(v f=0;f<C.1n.B;f++){v g=e[C.1n[f]];q(d.1l===-1){q(g.s[g.s.B-1].K(\'Y\')){N+=\'M \'+g.s[g.s.B-1].Y*d.z+\' \'+g.s[g.s.B-1].1v*d.z+\' \'}R{N+=\'M \'+g.s[g.s.B-1].X*d.z+\' \'+g.s[g.s.B-1].W*d.z+\' \'}A(o=g.s.B-1;o>=0;o--){N+=g.s[o].1X+\' \';q(g.s[o].K(\'Y\')){N+=g.s[o].X*d.z+\' \'+g.s[o].W*d.z+\' \'}N+=g.s[o].1g*d.z+\' \'+g.s[o].1i*d.z+\' \'}}R{q(g.s[g.s.B-1].K(\'Y\')){N+=\'M \'+m.1b(g.s[g.s.B-1].Y*d.z)+\' \'+m.1b(g.s[g.s.B-1].1v*d.z)+\' \'}R{N+=\'M \'+m.1b(g.s[g.s.B-1].X*d.z)+\' \'+m.1b(g.s[g.s.B-1].W*d.z)+\' \'}A(o=g.s.B-1;o>=0;o--){N+=g.s[o].1X+\' \';q(g.s[o].K(\'Y\')){N+=m.1b(g.s[o].X*d.z)+\' \'+m.1b(g.s[o].W*d.z)+\' \'}N+=m.1b(g.s[o].1g*d.z)+\' \'+m.1b(g.s[o].1i*d.z)+\' \'}}N+=\'Z \'}N+=\'" />\';q(d.1o||d.15){A(o=0;o<C.s.B;o++){q(C.s[o].K(\'Y\')&&d.15){N+=\'<1R 1Z="\'+C.s[o].X*d.z+\'" 1Q="\'+C.s[o].W*d.z+\'" r="\'+d.15+\'" 1N="1S" T-J="\'+d.15*0.2+\'" T="21" />\';N+=\'<1R 1Z="\'+C.s[o].Y*d.z+\'" 1Q="\'+C.s[o].1v*d.z+\'" r="\'+d.15+\'" 1N="2p" T-J="\'+d.15*0.2+\'" T="21" />\';N+=\'<2n 1g="\'+C.s[o].1g*d.z+\'" 1i="\'+C.s[o].1i*d.z+\'" X="\'+C.s[o].X*d.z+\'" W="\'+C.s[o].W*d.z+\'" T-J="\'+d.15*0.2+\'" T="1S" />\';N+=\'<2n 1g="\'+C.s[o].X*d.z+\'" 1i="\'+C.s[o].W*d.z+\'" X="\'+C.s[o].Y*d.z+\'" W="\'+C.s[o].1v*d.z+\'" T-J="\'+d.15*0.2+\'" T="1S" />\'}q((!C.s[o].K(\'Y\'))&&d.1o){N+=\'<1R 1Z="\'+C.s[o].X*d.z+\'" 1Q="\'+C.s[o].W*d.z+\'" r="\'+d.1o+\'" 1N="2p" T-J="\'+d.1o*0.2+\'" T="21" />\'}}A(v f=0;f<C.1n.B;f++){v g=e[C.1n[f]];A(o=0;o<g.s.B;o++){q(g.s[o].K(\'Y\')&&d.15){N+=\'<1R 1Z="\'+g.s[o].X*d.z+\'" 1Q="\'+g.s[o].W*d.z+\'" r="\'+d.15+\'" 1N="1S" T-J="\'+d.15*0.2+\'" T="21" />\';N+=\'<1R 1Z="\'+g.s[o].Y*d.z+\'" 1Q="\'+g.s[o].1v*d.z+\'" r="\'+d.15+\'" 1N="2p" T-J="\'+d.15*0.2+\'" T="21" />\';N+=\'<2n 1g="\'+g.s[o].1g*d.z+\'" 1i="\'+g.s[o].1i*d.z+\'" X="\'+g.s[o].X*d.z+\'" W="\'+g.s[o].W*d.z+\'" T-J="\'+d.15*0.2+\'" T="1S" />\';N+=\'<2n 1g="\'+g.s[o].X*d.z+\'" 1i="\'+g.s[o].W*d.z+\'" X="\'+g.s[o].Y*d.z+\'" W="\'+g.s[o].1v*d.z+\'" T-J="\'+d.15*0.2+\'" T="1S" />\'}q((!g.s[o].K(\'Y\'))&&d.1o){N+=\'<1R 1Z="\'+g.s[o].X*d.z+\'" 1Q="\'+g.s[o].W*d.z+\'" r="\'+d.1o+\'" 1N="2p" T-J="\'+d.1o*0.2+\'" T="21" />\'}}}}O N},I.3u=H(a,b){b=m.1P(b);v w=a.J*b.z,h=a.12*b.z;v c=\'<33 \'+(b.31?(\'4a="0 0 \'+w+\' \'+h+\'" \'):(\'J="\'+w+\'" 12="\'+h+\'" \'))+\'3R="1.1" 49="48://45.43.3X/4r/33" 2k="3Y 3Z 40.41 3R \'+m.3c+\'" >\';A(v d=0;d<a.2j.B;d++){A(v e=0;e<a.2j[d].B;e++){q(!a.2j[d][e].1E){c+=m.3z(a,d,e,b)}}}c+=\'</33>\';O c},I.42=H(a,b){O a-b},I.3V=H(c){O\'44(\'+c.r+\',\'+c.g+\',\'+c.b+\',\'+c.a+\')\'},I.3D=H(c,a){O\'1N="3U(\'+c.r+\',\'+c.g+\',\'+c.b+\')" T="3U(\'+c.r+\',\'+c.g+\',\'+c.b+\')" T-J="\'+a.1I+\'" 46="\'+c.a/G.0+\'" \'},I.47=H(a,b){v c;q(b){c=1k.3S(b);q(!c){c=1k.29(\'2x\');c.3B=b;1k.2y.2f(c)}}R{c=1k.29(\'2x\');1k.2y.2f(c)}c.4d+=a},I.3k=[[0.37,0.4e,0.37],[0.3G,0.3l,0.4h,0.3l,0.3G],[0.3O,0.3J,0.3E,0.4l,0.3E,0.3J,0.3O],[0.3F,0.3v,0.3s,0.3g,0.4q,0.3g,0.3s,0.3v,0.3F],[0.3f,0.3d,0.3b,0.39,0.3T,0.4w,0.3T,0.39,0.3b,0.3d,0.3f]],I.3n=H(a,b,c){v i,j,k,d,E,1K,1O,1M,1L,1f;v e={J:a.J,12:a.12,F:[]};b=D.S(b);q(b<1){O a}q(b>5){b=5}c=D.1r(c);q(c>34){c=34}v f=m.3k[b-1];A(j=0;j<a.12;j++){A(i=0;i<a.J;i++){1K=0;1O=0;1M=0;1L=0;1f=0;A(k=-b;k<b+1;k++){q((i+k>0)&&(i+k<a.J)){E=(j*a.J+i+k)*4;1K+=a.F[E]*f[k+b];1O+=a.F[E+1]*f[k+b];1M+=a.F[E+2]*f[k+b];1L+=a.F[E+3]*f[k+b];1f+=f[k+b]}}E=(j*a.J+i)*4;e.F[E]=D.S(1K/1f);e.F[E+1]=D.S(1O/1f);e.F[E+2]=D.S(1M/1f);e.F[E+3]=D.S(1L/1f)}}v g=28 4C(e.F);A(j=0;j<a.12;j++){A(i=0;i<a.J;i++){1K=0;1O=0;1M=0;1L=0;1f=0;A(k=-b;k<b+1;k++){q((j+k>0)&&(j+k<a.12)){E=((j+k)*a.J+i)*4;1K+=g[E]*f[k+b];1O+=g[E+1]*f[k+b];1M+=g[E+2]*f[k+b];1L+=g[E+3]*f[k+b];1f+=f[k+b]}}E=(j*a.J+i)*4;e.F[E]=D.S(1K/1f);e.F[E+1]=D.S(1O/1f);e.F[E+2]=D.S(1M/1f);e.F[E+3]=D.S(1L/1f)}}A(j=0;j<a.12;j++){A(i=0;i<a.J;i++){E=(j*a.J+i)*4;d=D.1r(e.F[E]-a.F[E])+D.1r(e.F[E+1]-a.F[E+1])+D.1r(e.F[E+2]-a.F[E+2])+D.1r(e.F[E+3]-a.F[E+3]);q(d>c){e.F[E]=a.F[E];e.F[E+1]=a.F[E+1];e.F[E+2]=a.F[E+2];e.F[E+3]=a.F[E+3]}}}O e},I.2R=H(c,d,e){v f=28 4D();q(e&&e.2H){f.4E=\'4F\'}f.4G=c;f.4H=H(){v a=1k.29(\'3p\');a.J=f.J;a.12=f.12;v b=a.2N(\'2d\');b.4L(f,0,0);d(a)}},I.2P=H(a){v b=a.2N(\'2d\');O b.4M(0,0,a.J,a.12)},I.3P=[{r:0,g:0,b:0,a:G},{r:1d,g:1d,b:1d,a:G},{r:0,g:0,b:1d,a:G},{r:1y,g:1y,b:1d,a:G},{r:1H,g:1H,b:1H,a:G},{r:G,g:G,b:G,a:G},{r:1d,g:1d,b:1H,a:G},{r:0,g:0,b:1H,a:G},{r:1d,g:0,b:0,a:G},{r:1d,g:1y,b:1y,a:G},{r:1d,g:0,b:1d,a:G},{r:2S,g:2S,b:2S,a:G},{r:1H,g:1d,b:1d,a:G},{r:1H,g:0,b:0,a:G},{r:G,g:G,b:G,a:G},{r:0,g:1d,b:0,a:G}],I.3N=H(a,b,c,d){c=c||1;v w,h,i,j,k;v e;q(d){e=1k.3S(d);q(!e){e=1k.29(\'2x\');e.3B=d;1k.2y.2f(e)}}R{e=1k.29(\'2x\');1k.2y.2f(e)}A(k 2i a){q(!a.K(k)){2l}w=a[k][0].B;h=a[k].B;v f=1k.29(\'3p\');f.J=w*c;f.12=h*c;v g=f.2N(\'2d\');A(j=0;j<h;j++){A(i=0;i<w;i++){g.4Q=m.3V(b[a[k][j][i]%b.B]);g.4R(i*c,j*c,c,c)}}e.2f(f)}}}q(2a 2Q===\'H\'&&2Q.4T){2Q(H(){O 28 1F()})}R q(2a 3y!==\'3q\'){3y.4W=28 1F()}R q(2a 3K!==\'3q\'){3K.1F=28 1F()}R 4Y.1F=28 1F()})();',62,309,'|||||||||points|||||||||||||||pcnt||if||segments||pacnt|var||||scale|for|length|smp|Math|idx|data|255|function|this|width|hasOwnProperty|||str|return|palette||else|floor|stroke|px|py|y2|x2|x3||||height|||qcpr||numberofcolors|boundingbox|paletteacc|colorsampling|roundtodec|val|128|seqend|wacc|x1|array|y1|false|document|roundcoords|nextidx|holechildren|lcpr|qtres|dist2|abs|palen|blurradius|ci|y3|true|ltres|64|push|random|colorquantcycles|linesegment|rcnt|isholepath|ImageTracer|blurdelta|192|strokewidth|linefilter|racc|aacc|bacc|fill|gacc|checkoptions|cy|circle|cyan|t3|t2|t1|pathomit|type|pl|cx||black|cnt|curvepass|errorval|lookuprow|segtype2||new|createElement|typeof|gcnt|rightangleenhance||bcnt|appendChild|nextidx2|while|in|layers|desc|continue|cd|line|cdl|white|ni|vy|colorstep|n2|getdirection|segtype1|01|div|body|fitseq|holepath|pathfinished|dir|mincolorratio|n4|n5|n7|corsenabled|n6|n8|cpy|n3|imagedataToTracedata|getContext|optionpresets|getImgdata|define|loadImage|168|parentbbox|n1|aw|ah|previdx2|previdx|nj|pal|viewbox|boundingboxincludes|svg|1024|testrightangle|imagedataToSVG|27901|tracepath|107988|pixelnum|089767|versionnumber|069304|concat|049692|144599|generatepalette|pathscan_combined_lookup|samplepalette|gks|228569|samplepalette2|blur|batchpathscan|canvas|undefined|pathscan|122589|batchinternodes|getsvgstring|093095|batchtracepaths|batchtracelayers|module|svgpathstring|colorquantization|id|ceil|tosvgcolorstr|178908|063327|135336|vx|layering|136394|self|layercontainerid|internodes|drawLayers|086776|specpalette|rndnum|version|getElementById|120651|rgb|torgbastr|256|org|Created|with|imagetracer|js|compareNumbers|w3|rgba|www|opacity|appendSVGString|http|xmlns|viewBox|path|toFixed|innerHTML|44198|pop|use|272192|pow|break|sqrt|195843|boolean|string|100|Posterized3|152781|2000|Artistic4|Artistic3|Artistic2|Artistic1|125194|Randomsampling2|Randomsampling1|Fixedpalette|Grayscale|Smoothed|Uint8ClampedArray|Image|crossOrigin|Anonymous|src|onload|Detailed|Sharp|Curvy|drawImage|getImageData|Posterized2|Posterized1|null|fillStyle|fillRect|Default|amd|imageToTracedata|imageToSVG|exports|strict|window'.split('|'),0,{}));jQuery(document).ready(function($){window.lumise={e:{tools:$('#lumise-top-tools'),layers:$('#lumise-layers'),main:$('#LumiseDesign')},i:function(s){return lumise.data.js_lang[s.toString()]},f:function(msg){if(msg===undefined||msg===''||msg===!1){clearTimeout(lumise.ops.ftimer);document.getElementById('LumiseDesign').setAttribute('data-processing','');document.getElementById('LumiseDesign').setAttribute('data-msg','')}else{clearTimeout(lumise.ops.ftimer);lumise.ops.ftimer=setTimeout(function(msg){document.getElementById('LumiseDesign').setAttribute('data-processing','true');document.getElementById('LumiseDesign').setAttribute('data-msg',msg)},300,msg)}},data:{},filters:[],ops:{downon:null,drag_start:null,first:{},categories:{},before_unload:null,excmobile:!1,first_completed:!1,session_designs:[],my_designs:{},export_list:['id','src','origin_src','evented','visible','selectable','text','fontFamily','fontSize','fontStyle','textDecoration','fontWeight','font','angle','bridge','name','charSpacing','lineHeight','fill','price','resource','resource_id','fx','opacity','fxOrigin','colors','originX','originY','lockPosition','group_pos','imagebox','boxbtn','template','full_src'],color_maps:{"#000000":"black","#000080":"navy","#00008b":"darkblue","#0000cd":"mediumblue","#0000ff":"blue","#006400":"darkgreen","#008000":"green","#008080":"teal","#008b8b":"darkcyan","#00bfff":"deepskyblue","#00ced1":"darkturquoise","#00fa9a":"mediumspringgreen","#00ff00":"lime","#00ff7f":"springgreen","#00ffff":"cyan","#191970":"midnightblue","#1e90ff":"dodgerblue","#20b2aa":"lightseagreen","#228b22":"forestgreen","#2e8b57":"seagreen","#2f4f4f":"darkslategrey","#32cd32":"limegreen","#3cb371":"mediumseagreen","#40e0d0":"turquoise","#4169e1":"royalblue","#4682b4":"steelblue","#483d8b":"darkslateblue","#48d1cc":"mediumturquoise","#4b0082":"indigo","#556b2f":"darkolivegreen","#5f9ea0":"cadetblue","#6495ed":"cornflowerblue","#663399":"rebeccapurple","#66cdaa":"mediumaquamarine","#696969":"dimgrey","#6a5acd":"slateblue","#6b8e23":"olivedrab","#708090":"slategrey","#778899":"lightslategrey","#7b68ee":"mediumslateblue","#7cfc00":"lawngreen","#7fff00":"chartreuse","#7fffd4":"aquamarine","#800000":"maroon","#800080":"purple","#808000":"olive","#808080":"grey","#87ceeb":"skyblue","#87cefa":"lightskyblue","#8a2be2":"blueviolet","#8b0000":"darkred","#8b008b":"darkmagenta","#8b4513":"saddlebrown","#8fbc8f":"darkseagreen","#90ee90":"lightgreen","#9370db":"mediumpurple","#9400d3":"darkviolet","#98fb98":"palegreen","#9932cc":"darkorchid","#9acd32":"yellowgreen","#a0522d":"sienna","#a52a2a":"brown","#a9a9a9":"darkgrey","#add8e6":"lightblue","#adff2f":"greenyellow","#afeeee":"paleturquoise","#b0c4de":"lightsteelblue","#b0e0e6":"powderblue","#b22222":"firebrick","#b8860b":"darkgoldenrod","#ba55d3":"mediumorchid","#bc8f8f":"rosybrown","#bdb76b":"darkkhaki","#c0c0c0":"silver","#c71585":"mediumvioletred","#cd5c5c":"indianred","#cd853f":"peru","#d2691e":"chocolate","#d2b48c":"tan","#d3d3d3":"lightgrey","#d8bfd8":"thistle","#da70d6":"orchid","#daa520":"goldenrod","#db7093":"palevioletred","#dc143c":"crimson","#dcdcdc":"gainsboro","#dda0dd":"plum","#deb887":"burlywood","#e0ffff":"lightcyan","#e6e6fa":"lavender","#e9967a":"darksalmon","#ee82ee":"violet","#eee8aa":"palegoldenrod","#f08080":"lightcoral","#f0e68c":"khaki","#f0f8ff":"aliceblue","#f0fff0":"honeydew","#f0ffff":"azure","#f4a460":"sandybrown","#f5deb3":"wheat","#f5f5dc":"beige","#f5f5f5":"whitesmoke","#f5fffa":"mintcream","#f8f8ff":"ghostwhite","#fa8072":"salmon","#faebd7":"antiquewhite","#faf0e6":"linen","#fafad2":"lightgoldenrodyellow","#fdf5e6":"oldlace","#ff0000":"red","#ff00ff":"magenta","#ff1493":"deeppink","#ff4500":"orangered","#ff6347":"tomato","#ff69b4":"hotpink","#ff7f50":"coral","#ff8c00":"darkorange","#ffa07a":"lightsalmon","#ffa500":"orange","#ffb6c1":"lightpink","#ffc0cb":"pink","#ffd700":"gold","#ffdab9":"peachpuff","#ffdead":"navajowhite","#ffe4b5":"moccasin","#ffe4c4":"bisque","#ffe4e1":"mistyrose","#ffebcd":"blanchedalmond","#ffefd5":"papayawhip","#fff0f5":"lavenderblush","#fff5ee":"seashell","#fff8dc":"cornsilk","#fffacd":"lemonchiffon","#fffaf0":"floralwhite","#fffafa":"snow","#ffff00":"yellow","#ffffe0":"lightyellow","#fffff0":"ivory","#ffffff":"white"}},trigger:function(obj){var func;for(var ev in obj.events){if(typeof obj.events[ev]=='function')
func=obj.events[ev];else if(typeof obj[obj.events[ev]]=='function')
func=obj[obj.events[ev]];else continue;ev=ev.split(',');ev.map(function(evs){evs=evs.split(':');if(evs[1]===undefined)evs[1]='click';if(evs[0]==='')
obj.el.off(evs[1]).on(evs[1],obj,func);else obj.el.find(evs[0]).off(evs[1]).on(evs[1],obj,func)})}},add_filter:function(name,callback,priority){if(priority===undefined)
priority=10;if(this.filters[priority]===undefined)
this.filters[priority]={};if(this.filters[priority][name]===undefined)
this.filters[priority][name]=[];if(typeof callback=='function')
this.filters[priority][name].push(callback)},apply_filter:function(name,obj,p){return this.apply_filters(name,obj,p)},apply_filters:function(name,obj,p){this.filters.map(function(filters){if(filters[name]!==undefined){filters[name].map(function(filter){if(typeof filter=='function')
obj=filter(obj,p)})}});return obj},add_action:function(name,callback,priority){this.actions.add(name,callback,priority)},do_action:function(name,obj,p){return this.actions.do(name,obj,p)},itemInStage:function(action){lumise.actions.do('price_action',action)},extends:{controls:{calcCoords:function(absolute){var theta=this.angle*(Math.PI/180),vpt=this.getViewportTransform(),dim=absolute?this._getTransformedDimensions():this._calculateCurrentDimensions(),currentWidth=dim.x,currentHeight=dim.y,sinTh=Math.sin(theta),cosTh=Math.cos(theta),_angle=currentWidth>0?Math.atan(currentHeight/currentWidth):0,_hypotenuse=(currentWidth/Math.cos(_angle))/2,offsetX=Math.cos(_angle+theta)*_hypotenuse,offsetY=Math.sin(_angle+theta)*_hypotenuse,center=this.getCenterPoint(),coords=absolute?center:fabric.util.transformPoint(center,vpt),tl=new fabric.Point(coords.x-offsetX,coords.y-offsetY),tr=new fabric.Point(tl.x+(currentWidth*cosTh),tl.y+(currentWidth*sinTh)),bl=new fabric.Point(tl.x-(currentHeight*sinTh),tl.y+(currentHeight*cosTh)),br=new fabric.Point(coords.x+offsetX,coords.y+offsetY);if(!absolute){var ml=new fabric.Point((tl.x+bl.x)/2,(tl.y+bl.y)/2),mt=new fabric.Point((tr.x+tl.x)/2,(tr.y+tl.y)/2),mr=new fabric.Point((br.x+tr.x)/2,(br.y+tr.y)/2),mb=new fabric.Point((br.x+bl.x)/2,(br.y+bl.y)/2),mtr=new fabric.Point(tl.x+(currentWidth*cosTh),tl.y+(currentWidth*sinTh))}
var coords={tl:tl,tr:tr,br:br,bl:bl,};if(!absolute){coords.ml=ml;coords.mt=mt;coords.mr=mr;coords.mb=mb;coords.mtr=mtr}
return coords},drawControls:function(ctx){if(!this.hasControls){return this}
var wh=this._calculateCurrentDimensions(),width=wh.x,height=wh.y,scaleOffset=this.cornerSize,left=-(width+scaleOffset)/2,top=-(height+scaleOffset)/2,methodName=this.transparentCorners?'stroke':'fill',active=lumise.stage().canvas.getActiveObject();if(active==undefined){return this}
ctx.save();if(this.hasRotatingPoint){if(active!==null&&active.get('lockPosition')===!0){ctx.fillStyle='#f75555';ctx.fillRect(left,top,this.cornerSize,this.cornerSize);ctx.drawImage(lumise.objects.icons.del,left+this.cornerSize*0.1,top+this.cornerSize*0.1,this.cornerSize*0.8,this.cornerSize*0.8)}else{var canvas=lumise.stage().canvas,isobj=canvas.getActiveObject(),isgroup=canvas.getActiveGroup(),invert=lumise.get.color('invert');ctx.fillStyle=invert=='#333'?'#777':'#ccc';var pos={'rot':[left+width+this.cornerSize*0.1,top+this.cornerSize*0.1],'rez':[left+width+this.cornerSize*0.1,top+height+this.cornerSize*0.1],'del':[left+this.cornerSize*0.1,top+this.cornerSize*0.1]},c=this.cornerSize*0.8;if(isobj&&(isobj.imagebox===undefined||isobj.imagebox===''||canvas.getObjects().filter(function(o){return o.id==isobj.imagebox}).length===0)){pos.dou=[left+this.cornerSize*0.1,top+height+this.cornerSize*0.1];ctx.fillRect(left,top+height,this.cornerSize,this.cornerSize)};ctx.fillRect(left+width,top,this.cornerSize,this.cornerSize);ctx.fillRect(left+width,top+height,this.cornerSize,this.cornerSize);ctx.beginPath();ctx.arc(left+(width/2)+(this.cornerSize/2),top+(this.cornerSize/2),3,0,2*Math.PI,!1);ctx.fill();ctx.closePath();ctx.beginPath();ctx.arc(left+(width/2)+(this.cornerSize/2),top+height+(this.cornerSize/2),3,0,2*Math.PI,!1);ctx.fill();ctx.closePath();ctx.beginPath();ctx.arc(left+(this.cornerSize/2)-.5,top+(height/2)+(this.cornerSize/2),3,0,2*Math.PI,!1);ctx.fill();ctx.closePath();ctx.beginPath();ctx.arc(left+width+(this.cornerSize/2)+.5,top+(height/2)+(this.cornerSize/2),3,0,2*Math.PI,!1);ctx.fill();ctx.closePath();ctx.fillStyle='#f75555';ctx.fillRect(left,top,this.cornerSize,this.cornerSize);Object.keys(pos).map(function(p){ctx.drawImage(lumise.objects.icons[(invert=='#333'||p=='del'?'':'w')+p],pos[p][0],pos[p][1],c,c)})}}
ctx.restore();return this},drawBorders:function(ctx){if(!this.hasBorders){return this}
var wh=this._calculateCurrentDimensions(),strokeWidth=1/this.borderScaleFactor,width=wh.x+strokeWidth,height=wh.y+strokeWidth;ctx.save();ctx.strokeStyle=lumise.get.color('invert')=='#333'?'rgba(30, 30, 30, 0.35)':'rgba(230, 230, 230, 0.6)';this._setLineDash(ctx,[1,1],null);ctx.strokeRect(-width/2,-height/2,width,height);if(this.hasRotatingPoint&&this.isControlVisible('mtr')&&!this.get('lockRotation')&&this.hasControls){var rotateHeight=-height/2;ctx.beginPath();ctx.moveTo(0,rotateHeight);ctx.lineTo(0,rotateHeight-this.rotatingPointOffset);ctx.closePath();ctx.stroke()}
ctx.restore();return this},targetCorner:function(pointer){if(!this.hasControls||!this.active){return!1}
var ex=pointer.x,ey=pointer.y,xPoints,lines;this.__corner=0;for(var i in this.oCoords){if(!this.isControlVisible(i)){continue}
if(i==='mtr'&&!this.hasRotatingPoint){continue}
if(this.get('lockUniScaling')&&(i==='mt'||i==='mr'||i==='ml')){continue}
lines=this._getImageLines(this.oCoords[i].corner);var zoom=this.canvas.getZoom()?this.canvas.getZoom():1;xPoints=this._findCrossPoints({x:ex*zoom,y:ey*zoom},lines);if(xPoints!==0&&xPoints%2===1){this.__corner=i;return i}}
return!1},},canvas:{_getRotatedCornerCursor:function(corner,target,e){var cu='move';switch(corner){case 'tr':cu='crosshair';break;case 'tl':cu='pointer';break;case 'br':cu='nwse-resize';break;case 'bl':cu='pointer';break;case 'mt':cu='n-resize';break;case 'mr':cu='e-resize';break;case 'mb':cu='s-resize';break;case 'ml':cu='w-resize';break}
return cu;var n=Math.round((target.getAngle()%360)/45);if(n<0){n+=8}
n+=cursorOffset[corner];if(e[this.altActionKey]&&cursorOffset[corner]%2===0){n+=2}
n%=8;if(corner=='tl')
return'pointer';return this.cursorMap[n]},_setupCurrentTransform:function(e,target){if(!target){return}
var pointer=this.getPointer(e),corner=target._findTargetCorner(this.getPointer(e,!0)),action=this._getActionFromCorner(target,corner,e),origin=this._getOriginFromCorner(target,corner);if(lumise.fn.ctrl_btns({e:e,target:target})===!0)
return;if(action=='drag'){lumise.ops.downon=target;lumise.ops.moved=!1}
this._currentTransform={target:target,action:action,corner:corner,scaleX:target.scaleX,scaleY:target.scaleY,skewX:target.skewX,skewY:target.skewY,offsetX:pointer.x-target.left,offsetY:pointer.y-target.top,originX:origin.x,originY:origin.y,ex:pointer.x,ey:pointer.y,lastX:pointer.x,lastY:pointer.y,left:target.left,top:target.top,theta:fabric.util.degreesToRadians(target.angle),width:target.width*target.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:e.shiftKey,altKey:e[this.centeredKey]};this._currentTransform.original={left:target.left,top:target.top,scaleX:target.scaleX,scaleY:target.scaleY,skewX:target.skewX,skewY:target.skewY,originX:origin.x,originY:origin.y};this._resetCurrentTransform()},}},objects:{events:{'selection:cleared':function(opts){lumise.e.layers.find('li.active').removeClass('active');lumise.actions.do('selection:cleared',opts);lumise.stack.save()},'object:selected':function(opts){lumise.stage().selected_object=opts.target;opts.target.setControlVisible('tr',!1);if(opts.target.get('lockPosition')===!0){opts.target.lockMovementX=!0;opts.target.lockMovementY=!0;opts.target.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,bl:!1,br:!1,tl:!0,tr:!1,mtr:!1})}else{opts.target.lockMovementX=!1;opts.target.lockMovementY=!1;opts.target.setControlsVisibility({mt:!0,mb:!0,ml:!0,mr:!0,bl:!0,br:!0,tl:!0,tr:!1,mtr:!0})};lumise.actions.do('object:selected',opts)},'object:added':function(opts){lumise.actions.do('object:added',opts)},'object:modified':function(opts){lumise.actions.do('object:modified',opts)},'object:rotating':function(opts){[0,45,90,135,180,225,270,315,360].map(function(a){if(Math.abs(opts.target.angle-a)<5)
opts.target.angle=a});lumise.get.el('rotate').val(opts.target.angle).attr({'data-value':Math.round(opts.target.angle)+'º'})},'mouse:down':function(opts){var stage=lumise.stage(),objs=stage.canvas.getObjects();lumise.ops.limit_snap=stage.limit_zone;if(stage.canvas.isDrawingMode&&opts.e.shiftKey===!1)
return;lumise.fn.navigation('clear');lumise.ops.mousedown=!0;if(opts.e&&opts.e.shiftKey)
stage.canvas.set('selection',!1);if(opts.target===null||(opts.target.__corner===0&&opts.target.imagebox!==undefined&&opts.target.imagebox!=='')){objs.map(function(o){if(o.type=='imagebox'&&opts.e.layerX>o.left-(o.width/2)&&opts.e.layerX<o.left+(o.width/2)&&opts.e.layerY>o.top-(o.height/2)&&opts.e.layerY<o.top+(o.height/2)){var img_in=stage.canvas.getObjects().filter(function(im){return im.imagebox==o.id});if(img_in.length>0){stage.canvas.setActiveObject(img_in[img_in.length-1]);opts.target=img_in[img_in.length-1];stage.canvas._setupCurrentTransform(opts.e,opts.target)}}})};if(opts.target!==null){lumise.ops.corner=opts.target.__corner;if(opts.target.group_pos){lumise.ops.original_pos={};objs.map(function(o){if(o.group_pos==opts.target.group_pos)
lumise.ops.original_pos[o.id]=[o.left,o.top]});if(Object.keys(lumise.ops.original_pos).length===1){lumise.ops.original_pos=null;opts.target.set({group_pos:null})}}
if(opts.target.imagebox!==undefined){lumise.ops.limit_snap=objs.filter(function(o){return o.id==opts.target.imagebox});if(lumise.ops.limit_snap.length>0)
lumise.ops.limit_snap=lumise.ops.limit_snap[0];else lumise.ops.limit_snap=stage.limit_zone}}else{lumise.ops.corner='';lumise.ops.original_pos=null}
lumise.ops.auto_snap=lumise.get.el('auto-alignment').prop('checked')},'path:created':function(path){var stage=lumise.stage();stage.limit_zone.visible=!0;if(stage.bleed){stage.bleed.set('visible',!0);stage.crop_marks.set('visible',!0)};lumise.get.el('top-tools').attr({'data-view':'drawing'});lumise.stack.save()},'mouse:up':function(opts){if(opts.e===undefined)
return;var stage=lumise.stage(),actv=stage.canvas.getActiveObject(),onbox=null;if(stage.canvas.isDrawingMode)
return;stage.canvas.getObjects().map(function(o){if(o.type=='imagebox'){if(opts.e.layerX>o.left-(o.boxbtn[0]/4)&&opts.e.layerX<o.left+(o.boxbtn[0]/4)&&opts.e.layerY>o.top-(o.boxbtn[1]/4)&&opts.e.layerY<o.top+(o.boxbtn[1]/4)){onbox=o}}});if(onbox!==null){if(actv){if(actv.type=='image')
return actv.set('imagebox',onbox.id)}else if(lumise.ops.moved!==!0)
return lumise.fn.imagebox_select_file(onbox)};stage.lineX.css({display:'none'});stage.lineY.css({display:'none'});lumise.ops.mousedown=!1;stage.canvas.set('selection',!0);if(lumise.ops.moved!==!1){if(lumise.ops.downon!==null){stage.lineX.hide();stage.lineY.hide()}};var active=stage.canvas.getActiveObject(),gactive=stage.canvas.getActiveGroup(),type=(active?active.type:(gactive?'group':'standard'));lumise.e.tools.attr({'data-view':type});if(!gactive){setTimeout(lumise.stack.save,250)}else{var fh=!0,fg='';gactive._objects.map(function(o){if(!o.get('group_pos')){fh=!1}else{if(fg!==''&&o.get('group_pos')!=fg)
fh=!1;fg=o.get('group_pos')}});$('#lumise-top-tools ul[data-mode="group"]').attr({'data-grouped':fh?'true':'false'})};lumise.ops.downon=null;lumise.ops.moved=!1;lumise.ops.corner='';lumise.ops.original_pos=null},'mouse:move':function(opts){var stage=lumise.stage(),zoom=stage.canvas.getZoom(),view=stage.canvas.viewportTransform,limit=lumise.ops.limit_snap,gri=!1;if(opts.target===null){var objs=stage.canvas.getObjects(),actv=stage.canvas.getActiveObject(),vry=[];objs.map(function(o){if(o.imagebox!==undefined&&o.imagebox!==''&&vry.indexOf(o.imagebox)===-1)vry.push(o.imagebox)});objs.map(function(o){if(o.type=='imagebox'&&(actv===null||actv===undefined||actv.type=='image')){let t=stage.canvas.viewportTransform,z=zoom/100,xx=o.left,yy=o.top,sx=(stage.canvas.width)/2,sy=(stage.canvas.height)/2;if(opts.e.layerX>xx-((zoom*o.boxbtn[0])/4)&&opts.e.layerX<xx+((zoom*o.boxbtn[0])/4)&&opts.e.layerY>yy-((zoom*o.boxbtn[1])/4)&&opts.e.layerY<yy+((zoom*o.boxbtn[1])/4)){if(o.stroke!='red'){o.set({stroke:'red',strokeWidth:2});stage.canvas.defaultCursor='pointer';stage.canvas.renderAll()}}else if(o.stroke=='red'){o.set({stroke:'',strokeWidth:0});stage.canvas.defaultCursor='default';stage.canvas.renderAll()};if(vry.indexOf(o.id)===-1)
o.set('opacity',1)}})};if(opts&&opts.e&&opts.e.shiftKey&&(lumise.ops.mousedown===!0||stage.canvas.isDrawingMode)&&zoom>1&&lumise.ops.corner!='br'){var units=10;var delta=new fabric.Point(opts.e.movementX,opts.e.movementY);stage.canvas.relativePan(delta);return}
if(lumise.ops.downon===null)
return;if(lumise.ops.moved!==!0)
lumise.ops.moved=!0;if(lumise.ops.auto_snap===!0){var el={top:lumise.ops.downon.top-(lumise.ops.downon.height*lumise.ops.downon.scaleY*0.5),left:lumise.ops.downon.left-(lumise.ops.downon.width*lumise.ops.downon.scaleX*0.5),height:lumise.ops.downon.height*lumise.ops.downon.scaleY,width:lumise.ops.downon.width*lumise.ops.downon.scaleX,},lmx=limit.originX=='left'?(limit.width/2):0,lmy=limit.originY=='top'?(limit.height/2):0,yct=limit.left+lmx,xct=limit.top+lmy,xt='',yl='',xp='',yp='';if(Math.abs(lumise.ops.downon.left-yct)<=3){yv='block';yl=yct;yp='center'}else if(Math.abs(el.left-yct)<=3){yv='block';yl=yct;yp='left'}else if(Math.abs(el.left+el.width-yct)<=3){yv='block';yl=yct;yp='right'}else yv='none';if(Math.abs(lumise.ops.downon.top-xct)<=3){xv='block';xt=xct;xp='center'}else if(Math.abs(el.top-xct)<=3){xv='block';xt=xct;xp='top'}else if(Math.abs(el.top+el.height-xct)<=3){xv='block';xt=xct;xp='bottom'}else xv='none';if(yv==='none'||xv==='none'){stage.canvas.getObjects().map(function(obj){if(obj.visible!==!1&&obj.evented!==!1&&obj!==lumise.ops.downon){ob={top:obj.top-(obj.height*obj.scaleY*0.5),left:obj.left-(obj.width*obj.scaleX*0.5),height:obj.height*obj.scaleY,width:obj.width*obj.scaleX,};if(yv==='none'){if(Math.abs(el.left-ob.left)<=2){yl=ob.left;yv='block';yp='left'}else if(Math.abs((el.left+el.width)-(ob.left+ob.width))<=2){yl=ob.left+ob.width;yv='block';yp='right'}else if(Math.abs(el.left-(ob.left+ob.width))<=2){yl=ob.left+ob.width;yv='block';yp='left'}else if(Math.abs((el.left+el.width)-ob.left)<=2){yl=ob.left;yv='block';yp='right'}else if(Math.abs((el.left+(el.width/2))-(ob.left+(ob.width/2)))<=2){yl=ob.left+(ob.width/2);yv='block';yp='ycenter'}}
if(xv==='none'){if(Math.abs(el.top-ob.top)<=2){xt=ob.top;xv='block';xp='top'}else if(Math.abs((el.top+el.height)-(ob.top+ob.height))<=2){xt=ob.top+ob.height;xv='block';xp='bottom'}else if(Math.abs(el.top-(ob.top+ob.height))<=2){xt=ob.top+ob.height;xv='block';xp='top'}else if(Math.abs((el.top+el.height)-ob.top)<=2){xt=ob.top;xv='block';xp='bottom'}else if(Math.abs((el.top+(el.height/2))-(ob.top+(ob.height/2)))<=2){xt=ob.top+(ob.height/2);xv='block';xp='ycenter'}}}})}
stage.lineX.css({'top':((xt*zoom)+view[5])+'px','display':xv});stage.lineY.css({'left':((yl*zoom)+view[4])+'px','display':yv});if(yv=='block'){switch(yp){case 'center':lumise.ops.downon.set('left',limit.left+lmx);break;case 'left':lumise.ops.downon.set('left',yl+(el.width/2));break;case 'right':lumise.ops.downon.set('left',yl-(el.width/2));break;case 'ycenter':lumise.ops.downon.set('left',yl);break}
gri=!0}
if(xv=='block'){switch(xp){case 'center':lumise.ops.downon.set('top',limit.top+lmy);break;case 'top':lumise.ops.downon.set('top',xt+(el.height/2));break;case 'bottom':lumise.ops.downon.set('top',xt-(el.height/2));break;case 'xcenter':lumise.ops.downon.set('top',xt);break}
gri=!0}};if(limit===stage.limit_zone&&lumise.ops.downon.group_pos&&lumise.ops.original_pos&&lumise.ops.original_pos[lumise.ops.downon.id]&&(lumise.ops.downon.left!=lumise.ops.original_pos[lumise.ops.downon.id][0]||lumise.ops.downon.top!=lumise.ops.original_pos[lumise.ops.downon.id][1])){var oldpos=lumise.ops.original_pos[lumise.ops.downon.id];stage.canvas.getObjects().map(function(o){if(o.group_pos==lumise.ops.downon.group_pos&&o.id!=lumise.ops.downon.id){o.set({left:lumise.ops.original_pos[o.id][0]+(lumise.ops.downon.left-oldpos[0]),top:lumise.ops.original_pos[o.id][1]+(lumise.ops.downon.top-oldpos[1]),})}});gri=!0}
if(gri===!0)
stage.canvas.renderAll()},'after:render':function(e){lumise.actions.do('after:render')}},do:{deactiveAll:function(){lumise.stage().canvas.deactivateAll();lumise.stage().canvas.renderAll();lumise.e.tools.attr({'data-view':'standard'});$('#lumise-layers li.active').removeClass('active')}},roundRect:function(ctx,x,y,width,height,radius,fill,stroke){if(typeof stroke=='undefined'){stroke=!0};if(typeof radius==='undefined'){radius=5};if(typeof radius==='number'){radius={tl:radius,tr:radius,br:radius,bl:radius}}else{var defaultRadius={tl:0,tr:0,br:0,bl:0};for(var side in defaultRadius){radius[side]=radius[side]||defaultRadius[side]}};ctx.beginPath();ctx.moveTo(x+radius.tl,y);ctx.lineTo(x+width-radius.tr,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius.tr);ctx.lineTo(x+width,y+height-radius.br);ctx.quadraticCurveTo(x+width,y+height,x+width-radius.br,y+height);ctx.lineTo(x+radius.bl,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius.bl);ctx.lineTo(x,y+radius.tl);ctx.quadraticCurveTo(x,y,x+radius.tl,y);ctx.closePath();if(fill){ctx.fill()};if(stroke){ctx.strokeStyle="red";ctx.stroke()}},clipto:function(ctx,obj){if(!obj||!obj.canvas)
return;var stage=lumise.stage();if(stage.canvas.getActiveGroup())
obj=stage.canvas.getActiveGroup();obj.scaleX=lumise.apply_filters('scale_designs_value_X',obj.scaleX);obj.scaleY=lumise.apply_filters('scale_designs_value_Y',obj.scaleY);var centerPoint=obj.getCenterPoint(),clipRect=stage.limit_zone,scaleXTo=(1/obj.scaleX),scaleYTo=(1/obj.scaleY),skewXTo=-obj.skewX/52,skewYTo=-obj.skewY/52;if(obj.imagebox!==undefined&&obj.imagebox!==''){var bss={},obs=stage.canvas.getObjects();obs.map(function(o){if(o.type=='imagebox')
o.set('opacity',1)});obs.map(function(o){if(o.id==obj.imagebox){clipRect={left:o.left-(o.width/2),top:o.top-(o.height/2),strokeWidth:1,width:o.width,height:o.height};o.set('opacity',0.25)}})}
if(obj.flipX)
scaleXTo=-scaleXTo;if(obj.flipY)
scaleYTo=-scaleYTo;ctx.save();ctx.translate(0,0);ctx.transform(1,skewYTo,0,1,0,0);ctx.transform(1,0,skewXTo,1,0,0);ctx.scale(scaleXTo,scaleYTo);ctx.rotate((obj.angle*-1)*(Math.PI/180));let x=(clipRect.left)-centerPoint.x+clipRect.strokeWidth,y=(clipRect.top)-centerPoint.y+clipRect.strokeWidth,w=clipRect.width-clipRect.strokeWidth,h=clipRect.height-clipRect.strokeWidth;ctx.beginPath();ctx.roundRect(x,y,w,h,clipRect.radius?clipRect.radius:0);ctx.fillStyle='transparent';ctx.fill();ctx.closePath();ctx.restore()},sides:{},text:function(ops){if(ops.fontFamily&&ops.fontFamily.indexOf('"')===-1)
ops.fontFamily='"'+ops.fontFamily+'"';if(lumise.data.text_direction=='1'){ops.originX=lumise.data.rtl=='1'?'right':'left';ops.originY='top'};var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};ops.editable=(lumise.data.rtl!='1');var limit=lumise.stage().limit_zone,_ops=$.extend({left:limit.left+(limit.width/2),top:limit.top+(limit.height/2),angle:0,textAlign:'center',fill:fill_default,name:ops.text?ops.text:'Sample Text'},ops),object=new fabric.IText(ops.text?ops.text:'Sample Text',_ops);object.set({clipTo:function(ctx){try{return lumise.objects.clipto(ctx,object)}catch(ex){}}});return object},qrcode:function(text,color,callback){var canvas=lumise.tools.qrcode({text:text,foreground:color,});fabric.Image.fromURL(canvas.toDataURL(),function(image){var stage=lumise.stage();image.set({left:stage.limit_zone.left+(stage.limit_zone.width/2),top:stage.limit_zone.top+(stage.limit_zone.height/2),width:stage.limit_zone.width*0.7,height:image.height*((stage.limit_zone.width*0.7)/image.width),fill:color,backgroundColor:lumise.fn.invert(color),name:text,text:text,type:'qrcode',clipTo:function(ctx){return lumise.objects.clipto(ctx,image)}});lumise.design.layers.create({type:'image',image:image});callback(image)})},lumise:{'i-text':function(ops,callback){return callback(lumise.objects.text(ops));ops.src='data:image/svg+xml;base64,'+btoa(lumise.fn.buildText(ops));return this.svg(ops,callback);ops.editable=!1;callback(lumise.objects.text(ops))},'curvedText':function(ops,callback){var limit=lumise.stage().limit_zone;var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};ops=$.extend({left:limit.left+(limit.width/2),top:limit.top+(limit.height/2),angle:0,textAlign:'center',fill:fill_default,textAlign:'center',radius:50,spacing:5},ops);var object=new fabric.CurvedText(ops.text?ops.text:'Sample Text',ops);object.set({clipTo:function(ctx){try{return lumise.objects.clipto(ctx,object)}catch(ex){}}});callback(object)},'image':function(ops,callback){if(ops.src.indexOf('.svg')==ops.src.length-4)
return this.svg(ops,callback);var stage=lumise.stage(),active=stage.canvas.getActiveObject(),replace_active=ops.replace,do_replace=(replace_active!==!1&&active!==null&&active!==undefined&&typeof active.setElement=='function'&&localStorage.getItem('LUMISE-REPLACE-IMAGE')=='true');if(do_replace&&ops.src.indexOf('.svg')!==ops.src.length-4&&ops.src.indexOf('data:image/svg+xml;base64')===-1)return lumise.fn.replace_image(ops.src,active);$('#LumiseDesign').attr({'data-processing':'true','data-msg':'Processing..'});let img=new Image();img.onerror=function(){lumise.fn.notice(lumise.i(33)+ops.src,'error',5000);callback(null)};img.onload=function(){let src_data=this.src;if(ops.user_upload===!0){src_data=lumise.fn.check_upload_dimensions(this);if(src_data===null)
return callback(null);delete ops.user_upload};let iw=this.naturalWidth,ih=this.naturalHeight;ops.src=src_data;if(ops.src.indexOf('http')===0){let cv=document.createElement('canvas');cv.height=ih;cv.width=iw;cv.getContext('2d').drawImage(img,0,0);ops.src=cv.toDataURL('image/'+(ops.src.indexOf('.png')===ops.src.length-4?'png':'jpeg'));img.onload=function(){lumise.stage().canvas.renderAll()};img.src=ops.src;delete cv};var image=new fabric.Image(this),stage=lumise.stage(),objs=stage.canvas.getObjects(),ibx=null;delete ops.replace;var imbs=objs.filter(function(o3){return o3.type=='imagebox'});if(imbs.length>0){imbs.map(function(o){if(objs.filter(function(o3){return o3.imagebox==o.id}).length===0)
ibx=o});if(ibx===null)
ibx=imbs[0]}
if(ops.width==undefined){ops.width=stage.limit_zone.width*0.85;ops.height=ops.width*(ih/iw)};if(ops.height==undefined){ops.height=stage.limit_zone.height*0.85;ops.width=ops.height*(iw/ih)};var ratio=parseFloat(window.devicePixelRatio);ops.width=lumise.apply_filters('object_size_width',ops.width,{iw:parseFloat(iw),ratio:ratio});ops.height=lumise.apply_filters('object_size_height',ops.height,{ih:parseFloat(ih),ratio:ratio});if(ops.evented===undefined){if(ibx!==null&&!do_replace){objs.map(function(o){if(o.imagebox==ibx.id&&o.id!=ops.id)
stage.canvas.remove(o)});ops.width=ibx.width;ops.height=ih*(ibx.width/iw);ops.left=ibx.left;ops.top=ibx.top;if(ops.height<ibx.height){ops.height=ibx.height;ops.width=iw*(ops.height/ih)};ibx.ibadded=new Date().getTime();ops.imagebox=ibx.id}else{if(ops.width>stage.limit_zone.width*0.85){ops.height=(stage.limit_zone.width*0.85)*(ops.height/ops.width);ops.width=stage.limit_zone.width*0.85}
if(ops.height>stage.limit_zone.height*0.85){ops.width=(stage.limit_zone.height*0.85)*(ops.width/ops.height);ops.height=stage.limit_zone.height*0.85}}};image.set($.extend({left:stage.limit_zone.left+(stage.limit_zone.width/2),top:stage.limit_zone.top+(stage.limit_zone.height/2),width:ops.width,height:ops.height},ops));if(ops.src.indexOf('data:image/svg+xml;base64')===-1&&image.full_src===undefined&&(this.naturalWidth>stage.limit_zone.width||this.naturalHeight>stage.limit_zone.height)){setTimeout(lumise.fn.large_image_helper,1,{w:img.naturalWidth,h:img.naturalHeight,ew:stage.limit_zone.width,eh:stage.limit_zone.height,iw:ops.width,ih:ops.height,el:img,obj:image,src:image.src})};if((ops.filters&&ops.filters.length>0)){ops.filters.map(function(fil,ind){if(fil.color){ops.filters[ind]=new fabric.Image.filters.Tint({color:fil.color,})}});image.set('filters',ops.filters);image.applyFilters(stage.canvas.renderAll.bind(stage.canvas))};image.set('clipTo',function(ctx){return lumise.objects.clipto(ctx,image)});if(do_replace){var olds={width:active.width,height:active.height,src:image.src,origin_src:image.src};if(image.src.indexOf('.svg')==image.src.length-4||image.src.indexOf('data:image/svg+xml;base64')===0){olds.type='svg'}else olds.type='image';active.setElement(image._element);active.set(olds);lumise.ops.importing=!1;lumise.stack.save();lumise.ops.set_active=active;callback(null)}else callback(image)};img.setAttribute('crossOrigin','anonymous');img.src=ops.src},'text-fx':function(ops,callback){if((typeof(ops.type)==='undefined'||ops.type=='undefined'||ops.type==null||ops.type=='null'||ops.type=='')&&(typeof(ops.text)==='undefined'||ops.text=='undefined'||ops.text==null||ops.text=='null'||ops.text=='')){lumise.f(!1);return}
var newobj=lumise.objects.text(ops);ops.width=newobj.width;ops.height=newobj.height;delete ops.type;delete ops.clipTo;if(ops.bridge===undefined){ops.bridge={curve:-2.5,offsetY:0.5,bottom:2.5,trident:!1,oblique:!1,}}
var ls=['angle','skewX','skewY','opacity'],ol={};ls.map(function(l){ol[l]=ops[l];delete ops[l]});var textImage=new fabric.Text(ops.text.trim(),ops);var cacheTextImage=new Image();cacheTextImage.src=textImage.toDataURL();var rs=['width','height','scaleX','scaleY','fontSize','stroke','strokeWidth'];rs.map(function(r){ops[r]=ops[r]*2});textImage=new fabric.Text(ops.text.trim(),ops);var cacheTextImageLarge=new Image();cacheTextImageLarge.src=textImage.toDataURL();rs.map(function(r){ops[r]=ops[r]/2});ls.map(function(l){ops[l]=ol[l]});fabric.Image.fromURL(textImage.toDataURL(),function(image){ops.type='text-fx';ops.cacheTextImage=cacheTextImage;ops.cacheTextImageLarge=cacheTextImageLarge;ops.height=ops.height*2.5;ops.clipTo=function(ctx){return lumise.objects.clipto(ctx,image)};var cdata=lumise.fn.bridgeText(image._element,ops.bridge);delete ops.stroke;delete ops.strokeWidth;image.set(ops);if((ops.filters&&ops.filters.length>0)){var stage=lumise.stage();ops.filters.map(function(fil,ind){if(fil.color){ops.filters[ind]=new fabric.Image.filters.Tint({color:fil.color,})}});image.set('filters',ops.filters);image.applyFilters(stage.canvas.renderAll.bind(stage.canvas))};var _w=ops.width,_h=ops.height;image.setSrc(cdata,function(){image.set({height:_h,width:_w});lumise.stack.save();return callback(image)})})},'qrcode':function(ops,callback){this.image(ops,callback)},'svg':function(ops,callback){if(ops.src===undefined)
return callback(null);var donow=function(ops){if(ops.src&&ops.src.indexOf('data:image/svg+xml;base64,')===0){var xsvg=atob(ops.src.split('base64,')[1]);xsvg=xsvg.replace('width="undefined"','').replace('height="undefined"','');var wrp=$('<div>'+xsvg+'</div>'),svg=wrp.find('svg').get(0),vb=svg.getAttribute('viewBox')?svg.getAttribute('viewBox'):svg.getAttribute('viewbox');vb=vb.replace(/\,/g,' ').replace(/  /g,' ').split(' ');if(!svg.getAttribute('width')||!svg.getAttribute('height')){svg.setAttribute('width',vb[2]);svg.setAttribute('height',vb[3])};if(ops.height===undefined)
ops.height=ops.width*(vb[3]/vb[2]);ops.src='data:image/svg+xml;base64,'+btoa(wrp.html());delete wrp;delete svg;delete vb};return lumise.objects.lumise.image(ops,callback);fabric.loadSVGFromURL(ops.src,function(objects,options){delete ops.type;delete ops.width;delete ops.height;var shape=fabric.util.groupSVGElements(objects,options),editzone=lumise.stage().edit_zone;if(ops.height===undefined){ops.width=shape.width;ops.height=shape.height;if(ops.scaleX==1&&ops.width>editzone.width){ops.scaleX=(editzone.width*0.8)/ops.width;ops.scaleY=(editzone.width*0.8)/ops.width}};shape.set(ops);shape.set('clipTo',function(ctx){return lumise.objects.clipto(ctx,shape)});callback(shape)})};if(ops.src.indexOf('http')===0){$.ajax({url:ops.src,method:'GET',dataType:'text',statusCode:{403:function(){lumise.fn.notice(lumise.i(33)+'(403) '+ops.src,'error',3500);callback(null)},404:function(){lumise.fn.notice(lumise.i(33)+'(404) '+ops.src,'error',3500);callback(null)}},success:function(res){ops.src='data:image/svg+xml;base64,'+btoa(res);ops.fill='';donow(ops)}})}else{donow(ops)}},'path':function(ops,callback){var limit=lumise.stage().limit_zone,path=new fabric.Path(ops.path,$.extend({left:limit.left+(limit.width/2),top:limit.top+(limit.height/2),},ops));path.set('clipTo',function(ctx){return lumise.objects.clipto(ctx,path)});path.set('fill',null);callback(path)},'path-group':function(ops,callback){return this.svg(ops,callback)},'imagebox':function(ops,callback){if(ops.src!==undefined)
return this.image(ops,callback);var img=new Image(),st=lumise.stage();ops=$.extend({width:st.limit_zone.width,height:st.limit_zone.height,left:st.limit_zone.left,top:st.limit_zone.top,border:10,background:'#eee',button:lumise.data.assets+'assets/images/imagebox-btn.png',imagebox:''},ops,!0);ops.width-=(ops.border*2);ops.height-=(ops.border*2);ops.border=0;ops.evented=!1;ops.selectable=!1;ops.lockMovementX=!0;ops.lockMovementY=!0;var canvas=document.createElement('canvas');ctx=canvas.getContext('2d'),canvas.width=(ops.width*2);canvas.height=(ops.height*2);ctx.fillStyle=ops.background;ctx.fillRect(0,0,canvas.width,canvas.height);img.onload=function(){ops.boxbtn=[this.width,this.height];ctx.drawImage(this,ops.width-(this.width/2),ops.height-(this.height/2),ops.boxbtn[0],ops.boxbtn[1]);ops.src=canvas.toDataURL('image/jpeg');delete canvas;delete ctx;return lumise.objects.lumise.image(ops,callback)};img.src=ops.button}},icons:{init:function(){var maps={'del':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ccc"><path d="m405 137l-30-30-119 119-119-119-30 30 119 119-119 119 30 30 119-119 119 119 30-30-119-119z"></path></svg>'),'rot':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ccc"><path d="m295 66c-96 0-175 66-187 160l-81-16l80 118l118-79l-75-15c10-60 73-126 146-126c81 0 146 69 146 150c0 80-80 146-144 146l0 42c107 0 187-86 187-190c0-104-86-190-190-190z"></path></svg>'),'rez':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ccc"><path d="M96,96v128l50.078-50l9.014,9l183.286,183L288.3,416h128.2V288l-50.078,50l-128.2-128l-64.1-64L224.2,96H96z"/></svg>'),'dou':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ccc"><path d="m160 352l160 0l0-128l96 0l0 256l-256 0z m-160-320l0 320l128 0l0 160l320 0l0-320l-128 0l0-160z"></path></svg>'),'gro':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ccc"><path d="m388 140l-31-31-140 139 31 31z m93-31l-233 231-92-91-30 31 122 123 264-263z m-481 171l123 123 31-31-122-123z"></path></svg>'),'wrot':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#777"><path d="m295 66c-96 0-175 66-187 160l-81-16l80 118l118-79l-75-15c10-60 73-126 146-126c81 0 146 69 146 150c0 80-80 146-144 146l0 42c107 0 187-86 187-190c0-104-86-190-190-190z"></path></svg>'),'wrez':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#777"><path d="M96,96v128l50.078-50l9.014,9l183.286,183L288.3,416h128.2V288l-50.078,50l-128.2-128l-64.1-64L224.2,96H96z"/></svg>'),'wdou':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#777"><path d="m160 352l160 0l0-128l96 0l0 256l-256 0z m-160-320l0 320l128 0l0 160l320 0l0-320l-128 0l0-160z"></path></svg>'),'wgro':btoa('<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#777"><path d="m388 140l-31-31-140 139 31 31z m93-31l-233 231-92-91-30 31 122 123 264-263z m-481 171l123 123 31-31-122-123z"></path></svg>')};Object.keys(maps).map(function(i){lumise.objects.icons[i]=new Image();lumise.objects.icons[i].src='data:image/svg+xml;base64,'+maps[i]})}}},design:{events:function(){var onInput=function(e){var c=lumise.stage().canvas,a=c.getActiveObject(),callback=this.getAttribute('data-callback'),action=this.getAttribute('data-action'),ratio=parseFloat(this.getAttribute('data-ratio'))||1,val=showInput(e,this);if(callback){if(lumise.design.nav.callback[callback])
lumise.design.nav.callback[callback](this,e,ratio)}else if(action&&a&&!e.isTrigger){a.set(action,val*ratio);c.renderAll()}},showInput=function(e,el){if(!el)
el=this;var val=el.value,unit=el.getAttribute('data-unit')||'',ratio=parseFloat(el.getAttribute('data-ratio'))||1;if(el.getAttribute('data-range')){el.getAttribute('data-range').split(',').map(function(m){if(Math.abs(val-parseFloat(m))<5)
val=m})}
el.setAttribute('data-value',val+unit);if(el.parentNode.getAttribute('data-range')=='helper')
el.parentNode.setAttribute('data-value',val+unit);return val};lumise.trigger({el:$('#LumiseDesign'),events:{'input[type="range"][data-view="lumise"]:input':showInput,'input[type="range"][data-action]:input, input[type="range"][data-callback]:input':onInput,'input[type="range"][data-callback="textFX"]:change':'textFX','#lumise-stroke-fix-colors li':'strokeColor','div#lumise-left>div.lumise-left-nav-wrp>ul.lumise-left-nav li[data-tab]':'leftNav','#lumise-general-status':'general_status','div#lumise-left #lumise-side-close':'close_side','svg#lumise-nav-file':'resp_file','#lumise-stage-nav':'stages','#lumise-cliparts':'cliparts','#lumise-uploads header button':'upload_nav','#lumise-left .lumise-x-thumbn:mouseover,#lumise-left .lumise-x-thumbn:mouseout':'x_thumbn_preview','#lumise-left button[data-func="show-categories"]':'x_thumbn_categories','#lumise-cliparts-list:scroll':'cliparts_more','#lumise-templates-list:scroll':'templates_more','#lumise-uploads div[data-tab="internal"]:scroll':'images_more','#lumise-shapes:scroll':'shapes_more','.lumise-tab-body-wrp .lumise-xitems-list:scroll':lumise.xitems.scroll_more,'#lumise-saved-designs:scroll':'designs_more','#lumise-templates-search-inp:click,#lumise-templates-search-inp:keydown,#lumise-templates-search-categories:change':'templates_search','#lumise-cliparts-search-inp:click,#lumise-cliparts-search-inp:keydown,#lumise-cliparts-search-categories:change':'cliparts_search','.lumise-xitems-search>input:click,.lumise-xitems-search>input:keydown,.lumise-xitems-search>input:change':lumise.xitems.search,'div#lumise-top-tools>ul.lumise-top-nav>li[data-tool], div#lumise-navigations ul li[data-tool]':'topTools','input#lumise-zoom[type="range"]:input, #lumise-zoom-wrp i[data-zoom], #lumise-zoom-wrp:mousewheel':'doZoom','ul[data-mode="text"] .text-format':'textFormat','.lumise-edit-text:input':'editText','#lumise-text-mask-guide':function(){lumise.tools.lightbox({content:'<img src="'+lumise.data.assets+'/assets/images/text-mask-guide.jpg" />',onload:function(tmpl){tmpl.children('div').addClass('parent-scroll-mobile').find('#lumise-lightbox-content').addClass('scroll-mobile');return tmpl}})},'#lumise-flip-x:change, #lumise-flip-y:change':'flip','#lumise-lock-position:change':'lock_position','#lumise-reset-transform':'resetTransform','input#lumise-curved:change':'enableCurved','input#lumise-fill:input,input#lumise-fill:change':'fillColor','span.lumise-save-color':'saveColor','input#lumise-stroke:input, input#lumise-stroke:change':'fillStroke','input#lumise-svg-fill:input,input#lumise-svg-fill:change':'svgFillColor','#lumise-svg-colors [data-func]':'svgFuncs','li[data-tool="arrange"] button[data-arrange]':'doArrange','.lumise-more-fonts':'load_fonts','#lumise-fonts':'select_font','#lumise-upload-form input[type="file"]:change':function(){lumise.fn.process_files(this.files)},'#lumise-design-undo':lumise.stack.back,'#lumise-design-redo':lumise.stack.forward,'#lumise-save-btn':lumise.tools.save,'#lumise-discard-drawing':'exit_drawing','#lumise-text-effect img[data-effect]':'text_effect','#lumise-text-fx-trident:change':'textFX','input[data-image-fx][type="range"]:change':'imageFX','#lumise-drawing-color:change':function(e){lumise.design.nav.callback.drawing(e)},'#lumise-auto-alignment:change, #lumise-template-append:change, #lumise-replace-image:change':'options','button[data-func="update-text-fx"]':lumise.fn.update_text_fx,'#lumise-bug button.submit':'bug_submit','#lumise-image-fx-mode:change':'selectImageFX','#lumise-image-fx-fx>li[data-fx]':'imageColorFX','#lumise-saved-designs':'saved_designs','#lumise-designs-search input:input':'saved_designs_search','#lumise-languages li':'change_lang','button#lumise-change-product, button#lumise-select-product':'change_product','#lumise-file-nav li[data-func]':'fileNav','#lumise-print-nav .doPrint:change, #lumise-print-nav button[data-func]':'doPrint','.lumise-tabs-nav':'nav','#lumise-shares-wrp':'doShare','#lumise-cart-items':'my_cart','a[data-view="cart-details"]':lumise.render.cart_details,},leftNav:function(e){var tab=this.getAttribute('data-tab'),stage=lumise.stage();if(stage===undefined||stage.canvas===undefined)
return;if(tab=='drawing'){stage.canvas.isDrawingMode=!0;stage.limit_zone.visible=!0;var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};stage.canvas.freeDrawingBrush.color=fill_default;lumise.get.el('top-tools').attr({'data-view':'drawing'})}else if(tab=='uploads'){if(lumise.get.el('external-images').hasClass('active')){$('#lumise-external-images iframe').each(function(){this.contentWindow.postMessage({action:'refresh'},"*")})}}else if(stage&&stage.canvas){stage.canvas.isDrawingMode=!1;stage.limit_zone.visible=!1;lumise.get.el('top-tools').attr({'data-view':'standard'});stage.canvas.renderAll()};if(this.getAttribute('data-load')){if(typeof lumise.design.nav.load[this.getAttribute('data-load')]=='function')
lumise.design.nav.load[this.getAttribute('data-load')](e);this.removeAttribute('data-load')};$('#lumise-left .lumise-tab-body-wrp.active,#lumise-left ul.lumise-left-nav li[data-tab].active').removeClass('active');$('#lumise-left [data-view="preactive"]').removeAttr('data-view');$(this).addClass('active').prev('li[data-tab]').attr({'data-view':'preactive'});$('#lumise-'+this.getAttribute('data-tab')).addClass('active');$('#lumise-side-close').addClass('active');if(this.getAttribute('data-callback')&&typeof lumise.design.nav.callback[this.getAttribute('data-callback')]=='function')
lumise.design.nav.callback[this.getAttribute('data-callback')](e)},general_status:function(e){var func=e.target.getAttribute('data-func');var funcParent=$(e.target).parent().attr('data-func');if(!func&&!funcParent){return}
if(!func&&funcParent){func=funcParent}
e.preventDefault();switch(func){case 'cancel-cart':lumise.fn.set_url('cart',null);lumise.get.el('general-status').html('<span>\
										<text>\
											<i class="lumisex-android-alert"></i> '+lumise.i(184)+'</text>\
										<a href="#clear-designs" data-btn="cancel" data-func="clear-designs">\
											'+lumise.i(185)+'\
										</a>\
									</span>');lumise.render.cart_change();break;case 'cancel-design':lumise.get.el('general-status').html('<span>\
										<text>\
											<i class="lumisex-android-alert"></i> '+lumise.i(184)+'</text>\
										<a href="#clear-designs" data-btn="cancel" data-func="clear-designs">\
											'+lumise.i(185)+'\
										</a>\
									</span>');lumise.render.cart_change();break;case 'save-design':lumise.design.my_designs.pre_save();break;case 'clear-designs':lumise.tools.clearAll();lumise.render.cart_change();lumise.get.el('general-status').html('');break}},close_side:function(e){$(this).removeClass('active');$('#lumise-left ul.lumise-left-nav li.active, .lumise-tab-body-wrp.active').removeClass('active')},resp_file:function(){if(!$(this).prev().hasClass('active')){$(this).prev().addClass('active');$(this).find('#__m').hide();$(this).find('#__x').show()}else{$(this).prev().removeClass('active');$(this).find('#__m').show();$(this).find('#__x').hide()}},stages:function(e){var stage=e.target.getAttribute('data-stage'),wrp=$(this),prev=$(this).hasClass('preview-designs');lumise.do_action('stage_nav_click',e);if(e.target.id=='lumise-stage-nav'&&prev){wrp.removeClass('preview-designs').removeClass('stages-expand');wrp.find('li[data-stage].active').removeClass('active');wrp.find('li[data-stage="'+lumise.current_stage+'"]').addClass('active');return};if(!stage){var nav=e.target.getAttribute('data-nav')||e.target.parentNode.getAttribute('data-nav')||e.target.parentNode.parentNode.getAttribute('data-nav'),actv=lumise.get.el('stage-nav').find('li.active');if(nav&&nav!='func'){if(nav=='prev'&&actv.prev('li[data-stage]'))
stage=actv.prev('li[data-stage]').data('stage');else if(nav=='next'&&actv.next('li[data-stage]'))
stage=actv.next('li[data-stage]').data('stage')}}else if(!wrp.hasClass('stages-expand')&&!prev){wrp.addClass('stages-expand');return};if(!stage||(stage==lumise.current_stage&&!prev)||!lumise.data.stages[stage])return;if(wrp.hasClass('preview-designs')){lumise.fn.stage_nav(stage);return};wrp.removeClass('stages-expand preview-designs');lumise.active_stage(stage,function(){lumise.design.layers.build();lumise.get.el('zoom').val(lumise.stage().canvas.getZoom()*100).trigger('input');lumise.e.tools.attr({'data-view':'standard'})})},cliparts:function(e){var el=e.target.getAttribute('data-act')?$(e.target):$(e.target).closest('[data-act]'),act=null;if(el.get(0))
act=el.data('act');if(!act)return;switch(act){case 'category':var tm=lumise.get.el('cliparts-list');lumise.get.el('cliparts').find('.lumise-cliparts-category.selected').removeClass('selected');el.addClass('selected');lumise.get.el('cliparts').addClass('selected');lumise.get.el('cliparts-list').data({'category':el.data('category')}).html('<header>\
												<span data-act="back" title="'+lumise.i(43)+'">\
													<i class="lumisex-android-arrow-back"></i>\
												</span>\
												<span class="lumise-category-title">'+lumise.i(44)+'</span>\
											</header><i class="lumise-spinner white x3 mt2"></i>');lumise.post({action:'cliparts',category:el.data('category'),q:lumise.ops.cliparts_q,index:0});lumise.ops.cliparts_index=0;break;case 'back':lumise.get.el('cliparts').find('.lumise-cliparts-category.selected').removeClass('selected');lumise.get.el('cliparts').removeClass('selected');lumise.get.el('cliparts-list').data({'category':''});break}},do_search:function(type){lumise.ops[type+'_index']=0;lumise.ops[type+'_loading']=!1;lumise.get.el(type+'-list').find('ul').html('');lumise.get.el(type+'-list').trigger('scroll')},templates_search:function(e){if(e.type=='click'){setTimeout(function(el){if(lumise.ops.templates_q!=el.value&&el.value===''){lumise.ops.templates_q=el.value;e.data.do_search('templates')}},100,this)}
if(this.tagName=='INPUT'&&e.keyCode!==13)
return;if(this.tagName=='INPUT')
lumise.ops.templates_q=this.value;e.data.do_search('templates')},cliparts_search:function(e){if(e.type=='click'){setTimeout(function(el){if(lumise.ops.cliparts_q!=el.value&&el.value===''){lumise.ops.cliparts_q=el.value;e.data.do_search('cliparts')}},100,this)}
if(this.tagName=='INPUT'&&e.keyCode!==13)
return;if(this.tagName=='INPUT')
lumise.ops.cliparts_q=this.value;e.data.do_search('cliparts')},upload_nav:function(e){var wrp=$(this).closest('#lumise-uploads'),nav=this.getAttribute('data-nav'),tab=wrp.find('div[data-tab="'+nav+'"]');if(nav=='external'){if(tab.find('iframe').length===0)
tab.html('<iframe src="https://services.lumise.com/images/"></iframe>');else if($(this).hasClass('active')){tab.scrollTop(0);tab.find('iframe').get(0).contentWindow.postMessage({action:'scrollTop'},"*")}}
wrp.find('header button.active, div[data-tab].active').removeClass('active');$(this).addClass('active');tab.addClass('active');e.preventDefault()},x_thumbn_preview:function(e){if(e.target.tagName=='I'&&e.target.getAttribute('data-info')&&e.target.parentNode.getAttribute('data-ops')){if(e.type=='mouseover'&&lumise.ops.drag_start===null){if(lumise.ops.xtc_timer!==undefined)
clearTimeout(lumise.ops.xtc_timer);try{var ops=e.target.parentNode.getAttribute('data-ops');if(lumise.xitems.ops[ops]!==undefined)
ops=$.extend([],lumise.xitems.ops[ops],!0);else ops=JSON.parse(ops);ops=ops[0]}catch(ex){console.warn(ex.message);console.log(ex);return};var price=((ops.type=='image'||ops.type=='template')?(ops.price>0)?lumise.fn.price(ops.price):lumise.i(100):''),tags=(ops.type=='upload'?lumise.i(84):ops.cates!='null'&&ops.cates!=''?ops.cates:(ops.tags!=''&&ops.tags!='null'?ops.tags:'')),do_view=function(){if(ops.component!==undefined)
ops.url=lumise.xitems.resources[ops.component].url[ops.id];lumise.get.el('x-thumbn-preview').show().find('>div').html('<img src="'+ops.url+'" />');lumise.get.el('x-thumbn-preview').find('>header').html((ops.name?ops.name:ops.url.split('/').pop().substr(0,50))+'<span>'+price+'</span>');if(tags!=='')
lumise.get.el('x-thumbn-preview').find('>footer').show().html(lumise.i(105)+' '+tags);else lumise.get.el('x-thumbn-preview').find('>footer').hide().html('')},template_view=function(){var s=lumise.stage(),c=lumise.get.color();lumise.get.el('x-thumbn-preview').show().find('>div').html('<div class="lumise-template-preview">\
												<img style="background:'+c+'" src="'+s.product._element.src+'" />\
												<div class="lumise-tp-limit"></div>\
											</div>');lumise.get.el('x-thumbn-preview').find('img').on('load',function(){var el=$(this).parent().find('.lumise-tp-limit'),ratio=s.product_width?this.offsetWidth/s.product_width:1,w=Math.round(s.edit_zone.width*ratio),h=Math.round(s.edit_zone.height*ratio),t=(s.edit_zone.top*ratio),l=(s.edit_zone.left*ratio);el.css({marginLeft:l+'px',marginTop:t+'px',height:(h%2!=0?h+1:h)+'px',width:(w%2!=0?w+1:w)+'px',borderColor:lumise.fn.invert(c)}).html('<img src="'+ops.screenshot+'" />')});lumise.get.el('x-thumbn-preview').find('>header').html((ops.name?ops.name:ops.url.split('/').pop().substr(0,50))+'<span>'+price+'</span>');if(tags!=='')
lumise.get.el('x-thumbn-preview').find('>footer').show().html(lumise.i(105)+' '+tags);else lumise.get.el('x-thumbn-preview').find('>footer').hide().html('')};if(ops.type=='template'){return template_view()}
if(ops.url===undefined){ops.url=lumise.cliparts.storage[ops.id]||lumise.cliparts.uploads[ops.id]}
if(ops.url!==undefined&&ops.url.indexOf('dumb-')===0){lumise.indexed.get(ops.url.split('dumb-')[1],'dumb',function(res){if(res!==null&&res!==undefined){lumise.cliparts.uploads[ops.id]=res[0];ops.url=res[0];do_view();delete res}else{lumise.fn.notice(lumise.i(165))}});ops.url=''}
do_view()}else{lumise.ops.xtc_timer=setTimeout(function(){lumise.get.el('x-thumbn-preview').hide()},350)}}},x_thumbn_categories:function(e){var wrp=lumise.get.el('x-thumbn-preview'),type=this.getAttribute('data-type');if(lumise.ops.xtc_timer!==undefined)
clearTimeout(lumise.ops.xtc_timer);if(wrp.css('display')=='block'&&wrp.find('div.lumise-categories-wrp').length!==0)
return wrp.hide();wrp.show().find('>div').html('');wrp.find('>header').html('<strong>'+lumise.i(56)+'<i class="lumisex-android-close close"></i></strong>');wrp.find('>footer').html('').hide();lumise.render.categories(type)},templates_more:function(e){if(lumise.ops.templates_loading===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight){lumise.post({action:'templates',category:lumise.ops.templates_category,q:lumise.ops.templates_q,index:lumise.ops.templates_index});lumise.get.el('templates-list').append('<i class="lumise-spinner white x3 mt1 mb1"></i>');lumise.ops.templates_loading=!0}},cliparts_more:function(e){if(lumise.ops.cliparts_loading===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight){lumise.post({action:'cliparts',category:lumise.ops.cliparts_category,q:lumise.ops.cliparts_q,index:lumise.ops.cliparts_index});lumise.get.el('cliparts-list').append('<i class="lumise-spinner white x3 mt1 mb1"></i>');lumise.ops.cliparts_loading=!0}},images_more:function(e){if(lumise.ops.images_loading===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight-100){lumise.ops.images_loading=!0;lumise.indexed.list(function(data){lumise.cliparts.import(data.id,{url:'dumb-'+data.id,thumbn:data.thumbn,name:data.name,save:!1});lumise.ops.uploads_cursor=data.id;delete data},'uploads',function(st){lumise.ops.images_loading=!1;if(st=='done'){$('#lumise-uploads').off('scroll')}})}},shapes_more:function(e){if(lumise.ops.shapes_loading===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight-100){lumise.post({action:'shapes',index:lumise.ops.shapes_index});lumise.get.el('shapes').append('<i class="lumise-spinner white x3 mt3 mb1"></i>');lumise.ops.shapes_loading=!0}},designs_more:function(e){if(lumise.ops.designs_loading===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight-100){lumise.ops.designs_loading=!0;lumise.ops.designs_cursor=$('#lumise-saved-designs>li[data-id]:not([data-id="new"])').last().data('id');lumise.indexed.list(function(data){lumise.render.my_designs(data);lumise.ops.designs_cursor=data.id;delete data},'designs',function(st){lumise.ops.designs_loading=!1;if(st=='done'){$('#lumise-my-designs').off('scroll')}})}},dragPop:function(e){if(e.target.tagName!='H3')
return;var el=this;el.dragging=!0;if(el.dragSetup===undefined){$(document).on('mousemove',function(e){if(!el.dragging||lumise.e.tools.hasClass('minisize'))
return;var scroll=lumise.get.scroll();lumise.e.tools.css({top:(e.clientY-el.rect.clientY+el.rect.top)+'px',left:(e.clientX-el.rect.clientX+el.rect.left)+'px',})}).on('mouseup',function(e){el.dragging=!1});el.dragSetup=!0}
var rect=document.querySelector('#lumise-workspace').getBoundingClientRect(),scroll={top:(lumise.body.scrollTop?lumise.body.scrollTop:lumise.html.scrollTop),left:(lumise.body.scrollLeft?lumise.body.scrollLeft:lumise.html.scrollLeft)};el.rect={left:lumise.e.tools.offset().left-rect.left-scroll.left,top:lumise.e.tools.offset().top-rect.top-scroll.top,clientX:e.clientX,clientY:e.clientY}},topTools:function(e){var act=this.getAttribute('data-tool'),cb=this.getAttribute('data-callback');if(this.getAttribute('data-load')){if(typeof lumise.design.nav.load[this.getAttribute('data-load')]=='function')
lumise.design.nav.load[this.getAttribute('data-load')](e);this.removeAttribute('data-load')}
if(act=='callback'&&cb&&typeof lumise.design.nav.callback[cb]=='function'){return lumise.design.nav.callback[cb](this,e)};if((!act||$(e.target).closest('[data-view="sub"]').length>0)&&(e.target.className.toString().indexOf('close')===-1||e.target.getAttribute('data-noclose'))){if(act&&e.data[act]&&typeof e.data[act]=='function')
e.data[act](e);return}
lumise.fn.navigation(this,e);if(cb&&typeof lumise.design.nav.callback[cb]=='function')
lumise.design.nav.callback[cb](this,e)},position:function(e){var pos=e.target.getAttribute('data-position')||e.target.parentNode.getAttribute('data-position')||e.target.parentNode.parentNode.getAttribute('data-position'),stage=lumise.stage(),limit=stage.limit_zone,active=stage.canvas.getActiveObject()||stage.canvas.getActiveGroup();if(active.imagebox!==undefined&&active.imagebox!==''){var imb=stage.canvas.getObjects().filter(function(o){return o.type=='imagebox'&&o.id==active.imagebox});if(imb.length>0)
limit={width:imb[0].width,height:imb[0].height,top:imb[0].top-(imb[0].height/2),left:imb[0].left-(imb[0].width/2),}};if(!active||!pos)
return;var left=active.left,top=active.top;switch(pos){case 'tl':left=limit.left+(active.getWidth()/2);top=limit.top+(active.getHeight()/2);break;case 'tc':left=limit.left+(limit.width/2);top=limit.top+(active.getHeight()/2);break;case 'tr':left=limit.left+limit.width-(active.getWidth()/2);top=limit.top+(active.getHeight()/2);break;case 'ml':left=limit.left+(active.getWidth()/2);top=limit.top+(limit.height/2);break;case 'mc':left=limit.left+(limit.width/2);top=limit.top+(limit.height/2);break;case 'mr':left=limit.left+limit.width-(active.getWidth()/2);top=limit.top+(limit.height/2);break;case 'bl':left=limit.left+(active.getWidth()/2);top=limit.top+limit.height-(active.getHeight()/2);break;case 'bc':left=limit.left+(limit.width/2);top=limit.top+limit.height-(active.getHeight()/2);break;case 'br':left=limit.left+limit.width-(active.getWidth()/2);top=limit.top+limit.height-(active.getHeight()/2);break;case 'cv':top=limit.top+(limit.height/2);break;case 'ch':left=limit.left+(limit.width/2);break};if(active.group_pos){stage.canvas.getObjects().map(function(o){if(o.group_pos&&o.id!=active.id){o.set({left:o.left+(left-active.left),top:o.top+(top-active.top),})}})};active.set({top:top,left:left});active.setCoords();stage.canvas.renderAll()},doZoom:function(e){e.preventDefault();var s=lumise.stage();if(!s)
return;var c=s.canvas,val=parseInt(lumise.get.el('zoom').val());if(e.originalEvent!==undefined&&e.originalEvent.deltaY!==undefined){val-=e.originalEvent.deltaY;if(val<50)
val=50;if(val>250)
val=250;e.preventDefault();return lumise.get.el('zoom').val(val).trigger('input')}
if(this.tagName=='I'){if(this.getAttribute('data-zoom')=='out')
val-=10;else val+=10;if(val<50)
val=50;if(val>250)
val=250;lumise.get.el('zoom').val(val).trigger('input');return!1}[75,100,125,150,175,200,225].map(function(m){if(Math.abs(val-m)<5)
val=m});this.setAttribute('data-value',val+'%');this.parentNode.setAttribute('data-value',val+'%');var wrp=lumise.get.el('stage-'+lumise.current_stage);if(!wrp.data('w'))
wrp.data({'w':wrp.width(),'h':wrp.height()});var w=wrp.data('w')*(val/100),h=wrp.data('h')*(val/100),v=c.viewportTransform;val/=100;c.zoomToPoint(new fabric.Point((s.limit_zone.left+(s.limit_zone.width/2)),(s.limit_zone.top+(s.limit_zone.height/2))),val);if(val>=1){lumise.fn.reversePortView(!1)}},moveZoom:function(e){var wrp=this.parentNode;var onstopmove=function(e){document.removeEventListener('mouseup',onstopmove,!1);wrp.removeEventListener('mousemove',lumise.fn.onZoomThumnMove,!1)};lumise.ops.preventClick=!0;wrp.addEventListener('mousemove',lumise.fn.onZoomThumnMove,!1);document.addEventListener('mouseup',onstopmove,!1)},wheelZoom:function(e){var zoom=parseFloat(lumise.get.el('zoom').val());zoom+=e.originalEvent.wheelDelta*0.15;if(zoom<100)
zoom=100;else if(zoom>250)
zoom=250;lumise.get.el('zoom').val(zoom).trigger('input');e.preventDefault()},fillColor:function(e){var c=lumise.stage().canvas,a=c.getActiveObject();if(a&&a.fill!==this.value){if(a.type=='image'||a.type=='qrcode'||a.type=='text-fx'){lumise.get.el('fill').closest('li[data-tool="fill"]').css({'border-bottom':'3px solid '+this.value});a.set('fill',this.value);if(a._element&&a._element.src.indexOf('data:image/svg+xml;base64')>-1){var svg=lumise.fn.fill_svg(a._element.src,this.value);a._element.src=svg;a._element.onload=function(){c.renderAll()};a.set({'colors':[this.value],origin_src:svg,src:svg});return}else{if(this.value!==''){var tint=new fabric.Image.filters.Tint({color:this.value,});if(!a.filters)
a.filters=[];if(a.filters.length==0)
a.filters.push(tint);else{var fil=a.filters.filter(function(f){return(f.color!==undefined)});if(fil.length>0)
fil[0].color=this.value;else a.filters.push(tint)}
if(a.type=='qrcode')
a.backgroundColor=lumise.fn.invert(this.value)}else{var fils=[];a.filters.map(function(f){if(f.color===undefined)
fils.push(f)});a.filters=fils};if(typeof a.applyFilters=='function')
a.applyFilters(c.renderAll.bind(c))}}else if(a.type!='path-group'&&a.type!='svg'){a.set('fill',this.value)};if(a.type!='text-fx')
c.renderAll();else lumise.fn.update_text_fx();lumise.design.layers.build()}},fillStroke:function(e){var c=lumise.stage().canvas,a=c.getActiveObject();if(a&&a.strokeWidth>0){a.set('stroke',this.value);c.renderAll()}},svgFillColor:function(e){var canvas=lumise.stage().canvas,active=canvas.getActiveObject(),c=this.value,o=this.getAttribute('data-active-color');if(active===undefined||active===null)
return;if(active.j_object===undefined){$('#lumise-color-picker-header i').click();return};lumise.tools.svg.replace(active.j_object,c,o);var src='data:image/svg+xml;base64,'+btoa(active.j_object.html());lumise.get.el('svg-colors').find('span[data-color="'+o+'"] input').css({'background-color':c});active.set('fill','');active.set('src',src);active.set('origin_src',src);active._element.src=src;active._originalElement.src=src;active._element.onload=function(){canvas.renderAll()}},saveColor:function(e){var color=lumise.get.el(this.getAttribute('data-target')).val().toString().toLowerCase();var colors='#F4511E|#546E7A|#00ACC1|#3949AB|#5E35B1|#e53935|#FDD835|#7CB342|#6D4C41|#8E24AA';if(color.indexOf('rgb')===0)
color=lumise.tools.svg.rgb2hex(color);color=color.toUpperCase();if(localStorage.getItem('lumise_color_presets'))
colors=localStorage.getItem('lumise_color_presets');colors=colors.split('|');if(color===''||colors.indexOf(color)>-1)
return;colors.unshift(color);while(colors.length>10)
colors.pop();localStorage.setItem('lumise_color_presets',colors.join('|'));lumise.render.colorPresets()},enableCurved:function(e){if(e.isTrigger)
return;var canvas=lumise.stage().canvas,active=canvas.getActiveObject(),props,text,newobj=null;if(!active)
return;if(this.checked&&active.type=='i-text'){props=active.toObject(lumise.ops.export_list);delete props.type;props.clipTo=function(ctx){return lumise.objects.clipto(ctx,newobj)};[['textAlign','center'],['radius',50],['spacing',5],['angle',0],['effect','bridge']].map(function(p){if(props[p[0]]===undefined)
props[p[0]]=p[1]});newobj=new fabric.CurvedText(active.getText().trim(),props)}else if(!this.checked&&active.type=='curvedText'){props=active.toObject(lumise.ops.export_list);props.text=active.getText().trim();delete props.type;props.clipTo=function(ctx){return lumise.objects.clipto(ctx,newobj)};newobj=lumise.objects.text(props)}
if(newobj!==null){var index=canvas.getObjects().indexOf(active);canvas.remove(active);lumise.stage().stack.data.pop();canvas.add(newobj);newobj.moveTo(index);canvas.setActiveObject(newobj).renderAll();lumise.design.layers.build()}else{alert(lumise.i(18))}},text_effect:function(e){if(e.isTrigger)
return;var canvas=lumise.stage().canvas,active=canvas.getActiveObject(),effect=this.getAttribute('data-effect'),props=active.toObject(lumise.ops.export_list),text,newobj=null,_this=this;if(!active)
return;lumise.f('Processing..');$(this.parentNode).find('[data-selected]').attr({'data-selected':''});$(this).attr({'data-selected':'true'});if(effect=='curved'){delete props.type;props.clipTo=function(ctx){return lumise.objects.clipto(ctx,newobj)};[['textAlign','center'],['radius',50],['spacing',5],['angle',0],['effect','bridge']].map(function(p){if(props[p[0]]===undefined)
props[p[0]]=p[1]});newobj=new fabric.CurvedText(active.text.trim(),props);lumise.fn.switch_type(newobj);newobj.set('radius',50);canvas.renderAll()}else{props.text=active.text.trim();delete props.type;props.clipTo=function(ctx){return lumise.objects.clipto(ctx,newobj)};if(effect=='normal')
return lumise.fn.switch_type(lumise.objects.text(props));if(props.bridge===undefined){props.bridge={curve:-2.5,offsetY:0.5,bottom:2.5,trident:!1,oblique:!1,}}
props.bridge.oblique=(effect=='oblique');if(effect=='oblique')
lumise.get.el('text-fx-trident').closest('li[data-func="text-fx"]').hide();else lumise.get.el('text-fx-trident').closest('li[data-func="text-fx"]').css({'display':''});if(active.type=='text-fx'){active.set({bridge:props.bridge});var dataSrc=lumise.fn.bridgeText(active.cacheTextImageLarge,active.bridge);active._element.onload=function(){canvas.renderAll();lumise.f(!1);lumise.get.el('text-effect').find('img[data-effect]').attr({'data-selected':null});lumise.get.el('text-effect').find('img[data-effect="'+effect+'"]').attr({'data-selected':'true'})};active._element.src=dataSrc;active._originalElement.src=dataSrc}else{lumise.objects.lumise['text-fx'](props,lumise.fn.switch_type)}}},editText:function(e){var c=lumise.stage().canvas,a=c.getActiveObject(),t=this,done=function(){c.renderAll();lumise.get.el('workspace').find('.lumise-edit-text').val(t.value)};if(a){if(!e.isTrigger){switch(a.type){case 'curvedText':a.setText(this.value);break;case 'i-text':a.setText(this.value);break;case 'qrcode':var qrcode=lumise.tools.qrcode({text:this.value,foreground:a.fill});a._element.onload=done;a._element.src=qrcode.toDataURL();a.set({'text':this.value,'name':a.name?a.name:this.value,'fill':a.fill});return delete qrcode;break;case 'text-fx':a.set('text',this.value);break}
done()}}},textFormat:function(e){var c=lumise.stage().canvas,a=c.getActiveObject(),fm=this.getAttribute('data-format'),_this=this;if(a&&!e.isTrigger){if(_this.getAttribute('data-align')){$(_this.parentNode).find('[data-align].selected').removeClass('selected');$(_this).addClass('selected');a.set('textAlign',_this.getAttribute('data-align'));var origin_x=_this.getAttribute('data-align');if(origin_x!='left'&&origin_x!='right'){origin_x='center'}
a.set('originX',origin_x);lumise.get.el('text-align').attr({'class':'lumisex-align-'+(_this.getAttribute('data-align')?_this.getAttribute('data-align'):'center')})}else if(fm){if(fm=='upper'){if(a.get('text').toString()!=a.get('text').toString().toUpperCase())
a.setText(a.get('text').toString().toUpperCase());else a.setText(a.get('text').toString().toLowerCase())}else{[['bold','fontWeight'],['italic','fontStyle'],['underline','textDecoration']].map(function(f){if(fm==f[0]){if($(_this).hasClass('selected')){$(_this).removeClass('selected');a.set(f[1],'')}else{$(_this).addClass('selected');a.set(f[1],f[0])}}})}}
if(a.type!='text-fx'){document.fonts.load(a.fontStyle+' '+a.fontWeight+' 1px '+a.fontFamily,'a').then(function(){fabric.util.clearFabricFontCache(a.fontFamily);c.renderAll()})}else lumise.fn.update_text_fx()}},textFX:function(el,e,ratio){if(e!==undefined&&e.isTrigger!==undefined)
return;var s=lumise.get.stage();if(!s.active)
return;if(!s.active.bridge)
s.active.bridge={};var ev='input';if(el.target){el=this;ratio=parseFloat(this.getAttribute('data-ratio'))||1;ev='change'}
var fx=el.getAttribute('data-fx');if(fx=='trident')
s.active.bridge[fx]=el.checked;else s.active.bridge[fx]=parseFloat(el.value)*ratio;var dataSrc;if(ev=='change')
dataSrc=lumise.fn.bridgeText(s.active.cacheTextImageLarge,s.active.bridge);else dataSrc=lumise.fn.bridgeText(s.active.cacheTextImage,s.active.bridge);s.active._element.onload=function(){s.active.set('fill',s.active.fill);s.canvas.renderAll()};s.active._element.src=dataSrc;s.active._originalElement.src=dataSrc},strokeColor:function(e){var act=lumise.stage().canvas.getActiveObject(),color=this.getAttribute('data-color'),stk=lumise.get.el('stroke').get(0),strwidth=lumise.get.el('stroke-width').val();if(stk.color&&typeof stk.color.fromString=='function')
stk.color.fromString(color);act.set('stroke',this.getAttribute('data-color'));lumise.stage().canvas.renderAll()},imageFX:function(e){this.setAttribute('data-value',this.value);lumise.fn.update_image_fx(this.getAttribute('data-image-fx'),this.value)},doArrange:function(e){var canvas=lumise.stage().canvas,active=canvas.getActiveObject();if(!active)
return;var objects=canvas.getObjects(),index=objects.indexOf(active);if(this.getAttribute('data-arrange')=='forward'){if(objects[index+1]!==undefined){active.moveTo(index+1);canvas.renderAll();return lumise.design.layers.build()}else return $(this).addClass('disabled')}else if(this.getAttribute('data-arrange')=='back'){if(objects[index-1]!==undefined&&objects[index-1].evented!==!1){active.moveTo(index-1);canvas.renderAll();return lumise.design.layers.build()}else return $(this).addClass('disabled')}},load_fonts:function(){lumise.tools.lightbox({width:1020,content:'<iframe src="https://services.lumise.com/fonts/"></iframe>\
									  <span data-view="loading"><i class="lumise-spinner x3"></i></span>'});$('#lumise-lightbox iframe').on('load',function(){this.contentWindow.postMessage({action:'fonts',fonts:localStorage.getItem('LUMISE_FONTS')},"*");$('#lumise-lightbox span[data-view="loading"]').remove()})},select_font:function(e){var family=e.target.getAttribute('data-family');if(family){lumise.get.el('fonts').find('font.selected').removeClass('selected');$(e.target).addClass('selected').closest('li[data-tool="font"]').find('button.dropdown').html('<font style="font-family:\''+family+'\'">'+family+'</font>');var canvas=lumise.stage().canvas,active=canvas.getActiveObject();if(active.fontFamily==family)
return;active.set('fontFamily','"'+family+'"');if(e.target.getAttribute('data-source')){active.set('font',e.target.getAttribute('data-source'));lumise.fn.font_blob(active)}else{fonts=JSON.parse(localStorage.getItem('LUMISE_FONTS'));if(fonts[encodeURIComponent(family)])
active.set({font:fonts[encodeURIComponent(family)]})}
if(active.type!='text-fx')
canvas.renderAll();else lumise.fn.update_text_fx()}},flip:function(e){var canvas=lumise.stage().canvas,active=canvas.getActiveObject();if(this.id=='lumise-flip-x')
active.set('flipX',this.checked);else active.set('flipY',this.checked);canvas.renderAll()},lock_position:function(e){var canvas=lumise.stage().canvas,active=canvas.getActiveObject();active.set({'lockPosition':this.checked,'lockMovementX':this.checked,'lockMovementY':this.checked});lumise.get.el('position-wrp').attr({'data-lock':this.checked===!0?'true':'false'});canvas.renderAll()},resetTransform:function(){var canvas=lumise.stage().canvas,active=canvas.getActiveObject();active.set({scaleY:active.scaleX,skewX:0,skewY:0,angle:0,flipX:!1,flipY:!1});canvas.renderAll();lumise.tools.set(active)},selectImageFX:function(e){lumise.fn.update_image_fx(this.getAttribute('data-fx'),this.value)},imageColorFX:function(e){var s=lumise.get.stage();if(this.getAttribute('data-fx')=='bnw'){return $('#lumise-image-fx-saturation').val(0).trigger('change')}else if(s.active.fx&&s.active.fx.saturation==0){s.active.fx.saturation=100;$('#lumise-image-fx-saturation').val(100).trigger('input')}else if(this.getAttribute('data-fx')===''){s.active.fx.saturation=100;s.active.fx.brightness=0;s.active.fx.contrast=0;lumise.get.el('image-fx-brightness').val(0).attr({'data-value':0});lumise.get.el('image-fx-contrast').val(0).attr({'data-value':0});lumise.get.el('image-fx-saturation').val(100).attr({'data-value':100})}
$(this.parentNode).find('[data-selected="true"]').removeAttr('data-selected');$(this).attr({'data-selected':'true'});lumise.fn.update_image_fx('fx',this.getAttribute('data-fx'))},bug_submit:function(e){var wrp=lumise.get.el('bug'),content=wrp.find('textarea[data-id="report-content"]').val();if(content.length<30)
return wrp.find('textarea[data-id="report-content"]').shake();content=btoa(encodeURIComponent(content.substr(0,1500)));wrp.attr({'data-view':'sending'});lumise.post({action:'send_bug',content:content},function(res){try{res=JSON.parse(res)}catch(ex){res={}};if(res.success!=1){wrp.removeAttr('data-view');lumise.fn.notice(res.message,'error',3500);return};wrp.attr({'data-view':'success'});setTimeout(function(){wrp.removeAttr('data-view');wrp.find('textarea[data-id="report-content"]').val('')},10000)})},options:function(){if(typeof this.getAttribute=='function')
localStorage.setItem('LUMISE-'+this.getAttribute('data-name'),this.checked)},exit_drawing:function(){lumise.get.el('left .lumise-left-nav li[data-tab="layers"]').trigger('click')},saved_designs:function(e){let act,id,el;el=e.target.getAttribute('data-func')?$(e.target):$(e.target).closest('[data-func]');act=e.target.getAttribute('data-func')?e.target.getAttribute('data-func'):$(e.target).closest('[data-func]').attr('data-func');id=e.target.getAttribute('data-id')?e.target.getAttribute('data-id'):$(e.target).closest('[data-id]').attr('data-id');if(!act)
return;lumise.ops.preventClick=!0;if(!id&&act!='new')
return;let is_save=($('#lumise-saved-designs').attr('is')=='save');switch(act){case 'edit':if(id=='new'||is_save){let is_empty_design=!0;Object.keys(lumise.cart.printing.states_data).map(function(s){Object.keys(lumise.cart.printing.states_data[s]).map(function(d){if(typeof lumise.cart.printing.states_data[s][d]=='number'&&lumise.cart.printing.states_data[s][d]!==0)
is_empty_design=!1})});if(is_empty_design)
return lumise.fn.notice(lumise.i(96),'error',3500);if(is_save)
lumise.fn.export('designs',id,el.attr('data-created'),el.attr('data-name'));else lumise.fn.export('designs');$('#lumise-navigations').attr({'data-navigation':''});$('li[data-tool]').removeClass('active');return lumise.fn.notice(lumise.i(109),'success',3500)};lumise.indexed.get(id,'dumb',function(res){if(res!==null){lumise.fn.set_url('cart',null);lumise.ops.my_designs[id].stages=res.stages;lumise.fn.edit_design(lumise.ops.my_designs[id])}else{lumise.fn.notice(lumise.i(166),'error',3500)}});break;case 'name':var name=$(e.target).text();e.target.onblur=function(){if(name!=$(this).text()){name=$(this).text();$(e.target).closest('li[data-name]').attr({'data-name':name});setTimeout(function(){lumise.indexed.get(id,'designs',function(res){if(res!==null){res.name=name;lumise.indexed.get(id,'dumb',function(res_dumb){if(res_dumb!==null){res_dumb.name=name;lumise.indexed.save([res,res_dumb],'designs');delete res;delete res_dumb}})}})},300)}};$(e.target).off('keydown').on('keydown',function(e){if(e.keyCode===13){e.preventDefault();this.blur()}});break;case 'delete':if(!confirm(lumise.i('sure')))
return;lumise.indexed.delete(id,'designs');$(e.target).closest('li[data-id]').find('img').each(function(){if(this.src.indexOf('blob:')===0)
URL.revokeObjectURL(this.src)});$(e.target).closest('li[data-id]').remove();break}},saved_designs_search:function(e){var val=this.value.trim().toLowerCase();lumise.get.el('saved-designs').find('li').each(function(){if(val===''||$(this).find('span[data-view="name"]').text().trim().toLowerCase().indexOf(val)>-1)
this.style.display='';else this.style.display='none'})},change_lang:function(e){lumise.post({action:'change_lang',code:this.getAttribute('data-id')});lumise.fn.set_url('lang',this.getAttribute('data-id'));$(this).closest('li[data-tool="languages"]').removeClass('active').html('<i class="lumise-spinner white"></i>')},change_product:function(e){var btn_txt=lumise.fn.url_var('product_base')?lumise.i(80):lumise.i(87);lumise.render.products_list(btn_txt)},fileNav:function(e){var func=this.getAttribute('data-func');switch(func){case 'new':lumise.design.my_designs['new']();break;case 'import':var inp=lumise.get.el('import-json').get(0);inp.type='';inp.type='file';inp.click();if(lumise.get.el('import-json').data('addEvent')!==!0){lumise.get.el('import-json').data({'addEvent':!0}).on('change',function(){lumise.design.my_designs['import'](this.files[0])})}
break;case 'clear':lumise.tools.clearAll();lumise.fn.notice(lumise.i(29),'success');break;case 'saveas':lumise.fn.download_design({type:'json'});break;case 'save':lumise.fn.notice(lumise.i(109),'success');lumise.fn.export('designs');break;case 'download':lumise.fn.download_design({type:this.getAttribute('data-type')});break}
lumise.fn.navigation('clear')},doPrint:function(e){var pcfg=localStorage.getItem('LUMISE_PRINT_CFG'),format=this.getAttribute('data-format');if(!pcfg||pcfg==='')
pcfg={};else pcfg=JSON.parse(pcfg);switch(this.getAttribute('data-dp')){case 'format':var inps=['li[data-row="size"]','li[data-row="csize"]','li[data-row="unit"]','li[data-row="orien"]','button[data-func="print"]'],stage=lumise.stage(),size=(stage!==undefined&&stage.size!==undefined?stage.size:'');inps=$('#lumise-print-nav').find(inps.join(','));pcfg.format=format;if(format=='png'){if(size!==''){inps.hide();if($('#lumise-print-nav li[data-row="size"] select option[value="'+size+'"]').length>0){$('#lumise-print-nav').find('li[data-row="size"]').show()}else{$('#lumise-print-nav').find('li[data-row="csize"],li[data-row="unit"]').show()}}else inps.show();$('#lumise-print-nav lumise-btn[data-func="print"]').show()}else{inps.hide();$('#lumise-print-nav lumise-btn[data-func="print"]').hide();$('#lumise-print-nav').find('li[data-row="size"]').hide()}
if(format=='pdf')
$('#lumise-print-nav').find('li[data-row="full"], li[data-row="cropmarks"]').show();else $('#lumise-print-nav').find('li[data-row="full"], li[data-row="cropmarks"]').hide();break;case 'csize':pcfg.csize=this.value;break;case 'orien':pcfg.orien=this.value;break;case 'base':pcfg.base=this.checked;break;case 'overflow':pcfg.overflow=this.checked;break;case 'cropmarks':pcfg.cropmarks=this.checked;break;case 'all_pages':pcfg.all_pages=this.checked;break;case 'unit':var val=$('#lumise-print-nav select[name="select-size"]').val();inp=$('#lumise-print-nav input[name="size"]'),unit=this.getAttribute('data-unit');if(val===''||val===null)
return;pcfg.unit=unit;val=val.split('x');val[0]=parseFloat(val[0].trim());val[1]=parseFloat(val[1].trim());if(unit=='inch'){val[0]=(val[0]/2.54).toFixed(2);val[1]=(val[1]/2.54).toFixed(2)}else if(unit=='px'){val[0]=(val[0]*118.095238).toFixed(2);val[1]=(val[1]*118.095238).toFixed(2)}
val=val.join(' x ');inp.val(val);pcfg.csize=val;break;case 'size':var unit=$('#lumise-print-nav input[name="print-unit"]:checked').data('unit'),val=this.value;if(val==='')
return;pcfg.size=val;val=val.split('x');val[0]=parseFloat(val[0].trim());val[1]=parseFloat(val[1].trim());if(unit=='inch'){val[0]=(val[0]/2.54).toFixed(2);val[1]=(val[1]/2.54).toFixed(2)}else if(unit=='px'){val[0]=(val[0]*118.1).toFixed(0);val[1]=(val[1]*118.1).toFixed(0)}
val=val.join(' x ');pcfg.csize=val;lumise.get.el('print-nav').find('input[name="size"]').val(val);break};if(this.tagName=='BUTTON'){var format=$('#lumise-print-nav input[name="print-format"]:checked').attr('data-format'),include_base=$('#lumise-print-base').prop('checked'),full=$('#lumise-print-full').prop('checked'),overflow=$('#lumise-print-overflow').prop('checked'),stage=lumise.stage(),func=this.getAttribute('data-func');if(format=='svg'||format=='pdf')
return lumise.fn.download_design({type:format,include_base:include_base,full:full});document.getElementById('LumiseDesign').setAttribute('data-processing','true');document.getElementById('LumiseDesign').setAttribute('data-msg',lumise.i('render'));lumise.get.el('zoom').val('100').trigger('input');var psize=lumise.get.size();lumise.fn.uncache_large_images(function(){lumise.f(!1);lumise.fn.download_design({type:'png',orien:psize.o,height:psize.h,width:psize.w,include_base:include_base,callback:function(data){lumise.fn.uncache_large_images(null,!0);if(func=='download'){name=lumise.data.prefix_file+'_print_'+lumise.current_stage+'.png';if(lumise.fn.url_var('order_print','')!==''){name='order-'+lumise.fn.url_var('order_print')+'__product-'+lumise.fn.url_var('product_cms')+'__base-'+lumise.fn.url_var('product_base')+'__stage-'+(Object.keys(lumise.data.stages).indexOf(lumise.current_stage)+1)+'.png'};lumise.fn.download(data,name);lumise.f(!1);return};if(data.length<10)
return alert(lumise.i(36));var print_window=window.open();print_window.document.write('<img style="width:100%" src="'+data+'" onload="window.print();window.close();" />')}})})};localStorage.setItem('LUMISE_PRINT_CFG',JSON.stringify(pcfg))},nav:function(e){if(e.target.getAttribute('data-func')=='nav'){var el=$(e.target),nav=el.data('nav'),wrp=el.closest('.lumise-tabs-nav').find('li[data-view="'+nav+'"]');el.closest('.lumise-tabs-nav').attr({'data-nav':nav}).find('[data-active="true"]').removeAttr('data-active');el.attr({'data-active':'true'});wrp.attr({'data-active':'true'});e.preventDefault()}},doShare:function(e){var func=e.target.getAttribute('data-func');if(!func)
return;var share_history=localStorage.getItem('LUMISE_SHARE_HISTORY'),el=$(e.target);if(!share_history){share_history=[]}else{try{share_history=JSON.parse(share_history)}catch(ex){share_history=[]}};if(share_history.length>3)
share_history.splice(3);var load_history=function(index){var wrp=lumise.get.el('shares-wrp').find('li[data-view="history"]');wrp.attr({'data-process':'true'});lumise.post({action:'get_shares',index:index,stream:lumise.fn.url_var('stream','')},function(res){wrp.removeAttr('data-process');var res=JSON.parse(res);if(res.result.length>0){var html='',share_url='';res.result.map(function(s){share_url=lumise.data.tool_url;if(share_url.indexOf('?')>-1)
share_url+='&';else share_url+='?';share_url+='product_base='+s.product;share_url+='&product_cms='+s.product_cms;share_url+='&share='+s.share_id;share_url=share_url.replace('?&','?');html+='<span data-item>\
											<a href="'+share_url+'" target="_blank">\
												<img src="'+lumise.data.upload_url+'shares/'+lumise.fn.date('Y/t',s.created)+'/'+s.share_id+'.jpg'+'" height="150" />\
											</a>\
											<name>'+s.name+'</name>\
											<span data-view="func">\
												<i class="lumise-icon-menu"></i>\
												<span data-view="fsub" data-id="'+s.share_id+'" data-aid="'+s.aid+'" data-link="'+encodeURIComponent(share_url)+'" data-created="'+s.created+'">\
													<date data-func="date">'+lumise.fn.date('h:m D d M, Y',s.created)+'</date>\
													<button data-func="copy-link">\
														<i class="lumise-icon-doc"></i> '+lumise.i(130)+'\
													</button>\
													<button data-func="open">\
														<i class="lumise-icon-link"></i> '+lumise.i(131)+'\
													</button>\
													<button data-func="delete">\
														<i class="lumise-icon-trash"></i> '+lumise.i(132)+'\
													</button>\
												</span>\
											</span>\
										</span>'});wrp.html(html)}else{wrp.html('<p class="notice mt2 mb2">'+lumise.i(129)+'</p>')};if(res.per_page<res.total){var nav='<ul data-view="pagenation">';if(res.index>res.per_page){nav+='<li data-func="pagination" data-p="0"><i data-func="pagination" data-p="0" class="lumisex-ios-arrow-back"></i><i data-func="pagination" data-p="0" class="lumisex-ios-arrow-back"></i></li>'};for(var i=1;i<=Math.ceil(res.total/res.per_page);i++){nav+='<li data-func="pagination" data-p="'+((i-1)*res.per_page)+'"'+(res.index==i*res.per_page?' data-active="true"':'')+'>'+i+'</li>'};if(res.index<res.total){nav+='<li data-func="pagination" data-p="'+((Math.ceil(res.total/res.per_page)-1)*res.per_page)+'"><i data-func="pagination" data-p="'+((Math.ceil(res.total/res.per_page)-1)*res.per_page)+'" class="lumisex-ios-arrow-forward"></i><i data-func="pagination" data-p="'+((Math.ceil(res.total/res.per_page)-1)*res.per_page)+'" class="lumisex-ios-arrow-forward"></i></li>'};nav+='</ul>';wrp.append(nav)}else if(res.index>res.per_page&&res.result.length>0){wrp.append('<p class="center">'+lumise.i(134)+'</p>')}})};if(el.data('nav')=='history')
load_history(0);switch(func){case 'nav':return e.data.nav(e);break;case 'pagination':load_history(el.data('p'));break;case 'copy-link':lumise.fn.copy(decodeURIComponent(el.closest('[data-view="fsub"]').data('link')));lumise.fn.notice(lumise.i(135),'success');break;case 'open':window.open(decodeURIComponent(el.closest('[data-view="fsub"]').data('link')));break;case 'delete':lumise.fn.confirm({title:lumise.i(133),primary:{text:'Delete',callback:function(e){el.closest('span[data-item]').css({opacity:0.25});lumise.post({action:'delete_link_share',aid:el.closest('[data-view="fsub"]').data('aid'),id:el.closest('[data-view="fsub"]').data('id')},function(res){res=JSON.parse(res);if(res.success==0){el.closest('span[data-item]').css({opacity:1});lumise.fn.notice(res.message,'error')}else el.closest('span[data-item]').remove()})}},second:{text:'Cancel'}});break;case 'create-link':var restrict=!1;if(share_history.length==3&&new Date().getTime()-(parseInt(share_history[0]*1000))<5*60*1000){restrict=!0};if(restrict===!0){lumise.fn.confirm({title:lumise.i(128),primary:{},second:{text:'Ok'},type:'notice'});return};if($('#lumise-share-link-title').val()===''){$('#lumise-share-link-title').shake();e.preventDefault();return};var has_design=0;Object.keys(lumise.data.stages).map(function(s){if(typeof lumise.data.stages[s]!=='undefined'&&typeof lumise.data.stages[s].canvas!=='undefined'){var canvas=lumise.data.stages[s].canvas,objs=canvas.getObjects();if(objs.filter(function(o){return o.evented===!0}).length>0){has_design++}}});if(has_design===0){lumise.fn.notice(lumise.i(96),'error');delete cart_data;delete cart_design;return!1};if(lumise.data.required_full_design=='1'&&has_design<Object.keys(lumise.data.stages).length){lumise.fn.notice(lumise.i(210),'error');delete cart_data;delete cart_design;return!1};var wrp=$(e.target).closest('#lumise-shares-wrp'),data=lumise.fn.export('share'),screenshot=lumise.data.stages[Object.keys(data.stages)[0]].screenshot;Object.keys(data.stages).map(function(s){data.stages[s].screenshot=''});let items=[],formData=new FormData(),blob='',upload_size=100;formData.append('action','upload_share_design');formData.append('ajax','frontend');formData.append('nonce','LUMISE-SECURITY:'+lumise.data.nonce);formData.append('aid',lumise.fn.get_cookie('lumise-AID'));formData.append('label',$('#lumise-share-link-title').val());formData.append('product_cms',lumise.fn.url_var('product_cms',''));formData.append('product',lumise.fn.url_var('product_base',''));blob=JSON.stringify(data);formData.append('data',new Blob([blob]));formData.append('screenshot',new Blob([screenshot]));upload_size+=blob.length+screenshot.length;if(lumise.data.max_upload_size>0&&upload_size/1024000>lumise.data.max_upload_size){lumise.fn.notice('Error: your design is too large ('+(upload_size/1024000).toFixed(2)+'MB out of max '+lumise.data.max_upload_size+'MB)<br>Please contact the administrator to change the server configuration','error',5000);return lumise.f(!1)}
lumise.f('0% complete');$.ajax({data:formData,type:"POST",url:lumise.data.ajax,contentType:!1,processData:!1,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;if(percentComplete<1)
$('div#LumiseDesign').attr({'data-msg':parseInt(percentComplete*100)+'% upload complete'});else $('div#LumiseDesign').attr({'data-msg':lumise.i(159)})}},!1);return xhr},success:function(res,status){lumise.f(!1);res=JSON.parse(res);wrp.removeAttr('data-process').find('.lumise-notice').remove();if(res.success===0){wrp.find('li[data-view="link"]').prepend('<p class="notice error mb1" data-phase="1">'+res.message+'</p>')}else{wrp.attr({'data-phase':'2'});var share_url=lumise.data.tool_url;if(share_url.indexOf('?')>-1)
share_url+='&';else share_url+='?';share_url+='product_base='+res.product;if(res.product_cms!==null&&res.product_cms!=='')
share_url+='&product_cms='+res.product_cms;share_url+='&share='+res.id;share_url=share_url.replace('?&','?');wrp.find('p[data-view="link-share"]').html(share_url);wrp.find('button[data-network]').off('click').on('click',function(e){var nw=this.getAttribute('data-network'),link='';if(nw=='facebook'){link='https://www.facebook.com/dialog/share?href='+encodeURIComponent(share_url)+'&display=popup&app_id='+lumise.apply_filters('fbappid','1430309103691863')}else if(nw=='twitter'){link='https://twitter.com/intent/tweet?url='+encodeURIComponent(share_url)+'&text='+encodeURIComponent(res.name)+'&via=Lumise&related=Lumise,LumiseCom,LumiseProductDesigner'}else if(nw=='pinterest'){link='https://www.pinterest.com/pin/create/button/?url='+encodeURIComponent(share_url)+'&description='+encodeURIComponent(res.name)+'&is_video=false&media='+encodeURIComponent(lumise.data.upload_url+'shares/'+res.path+'/'+res.id+'.jpg')}
if(link!=='')
window.open(link);e.preventDefault()});share_history.push(res.created);localStorage.setItem('LUMISE_SHARE_HISTORY',JSON.stringify(share_history))}},error:function(){alert('Error: could not checkout this time')}});wrp.attr({'data-process':'Creating...'});break;case 'do-again':lumise.get.el('shares-wrp').removeAttr('data-phase');break;case 'copy':var el=e.target;lumise.fn.copy(el.innerHTML.trim());el.setAttribute("data-copied","true");setTimeout(function(){el.removeAttribute("data-copied")},1500);break}},my_cart:function(e){var func=e.target.getAttribute('data-func'),current=lumise.fn.url_var('cart',''),id=e.target.getAttribute('data-id');if(!func||func==='')
return;switch(func){case 'remove':if(confirm(lumise.i('sure'))){if(current==id)
lumise.fn.set_url('cart',null);var items=JSON.parse(localStorage.getItem('LUMISE-CART-DATA'));delete items[id];localStorage.setItem('LUMISE-CART-DATA',JSON.stringify(items));setTimeout(lumise.render.cart_change,150)}
break;case 'edit':lumise.cart.edit_item(id,e);break;case 'checkout':lumise.cart.do_checkout();break}
e.preventDefault()}});$('#lumise-left #lumise-text *[draggable="true"]').each(function(){lumise.design.event_add_text(this)});var aa=localStorage.getItem('LUMISE-AUTO-ALIGNMENT'),ta=localStorage.getItem('LUMISE-TEMPLATE-APPEND'),ri=localStorage.getItem('LUMISE-REPLACE-IMAGE'),a_a=$('#lumise-auto-alignment'),t_a=$('#lumise-template-append'),r_i=$('#lumise-replace-image');if(aa===null)
localStorage.setItem('LUMISE-AUTO-ALIGNMENT',a_a.prop('checked'));else a_a.prop({checked:aa=='true'?!0:!1});if(ta===null)
localStorage.setItem('LUMISE-TEMPLATE-APPEND',t_a.prop('checked'));else t_a.prop({checked:ta=='true'?!0:!1});if(ri===null)
localStorage.setItem('LUMISE-REPLACE-IMAGE',r_i.prop('checked'));else r_i.prop({checked:ri=='true'?!0:!1});$(document).on('click',function(e){if(e.isTrigger!==undefined)
return;var except=lumise.apply_filters('click_except','');if(!$(e.target).is(except)&&$(e.target).closest('#lumise-stage-nav').length===0&&lumise.get.el('stage-nav').hasClass('stages-expand'))lumise.get.el('stage-nav').removeClass('stages-expand').removeClass('preview-designs');var el=$(e.target);if(e.target.tagName!='INPUT'&&el.closest('div.lumise_color_picker').length===0)
$('#lumise-color-picker-header i').click();if(el.hasClass('close')||el.closest('div#lumise-x-thumbn-preview,[data-prevent-click="true"]').length===0){lumise.get.el('x-thumbn-preview').hide()}else if(!lumise.ops.preventClick&&!el.hasClass('upper-canvas')&&!el.hasClass('close')&&lumise.ops.preventClick!==!0&&el.closest('div.lumise-stage.canvas-wrapper,'+'[data-view="sub"],'+'div.lumise_color_picker,'+'div.lumise-lightbox,'+'ul.lumise-top-nav,'+'[data-prevent-click="true"],'+'#lumise-navigations').length===0){if(lumise.e.main.find('li[data-tool].active').length>0)
lumise.fn.navigation('clear');else lumise.tools.discard()};delete lumise.ops.preventClick;$('iframe').each(function(){this.contentWindow.postMessage({action:'parentClick'},"*")})}).on('keydown',function(e){if(['TEXTAREA','INPUT'].indexOf(e.target.tagName)>-1||e.target.getAttribute('contenteditable'))
return!0;if([37,38,39,40].indexOf(e.keyCode)>-1)
return lumise.actions.do('key-move',e);if(e.keyCode===13)
return lumise.actions.do('key-enter',e);if(e.metaKey===!0||e.ctrlKey===!0){if(e.keyCode===90){if(e.shiftKey===!1)
return lumise.actions.do('ctrl-z');else return lumise.actions.do('ctrl-shift-z')}else if(e.keyCode===83){if(e.shiftKey===!0)
return lumise.actions.do('ctrl-shift-s',e);else return lumise.actions.do('ctrl-s',e)}else if(e.keyCode===80)
return lumise.actions.do('ctrl-p',e);else if(e.keyCode===79)
return lumise.actions.do('ctrl-o',e);else if(e.keyCode===69)
return lumise.actions.do('ctrl-e',e)};if(e.keyCode===27)
return lumise.actions.do('key-esc');switch(e.keyCode){case 8:return lumise.actions.do('key-delete',e);break;case 46:return lumise.actions.do('key-delete',e);break;case 13:return lumise.actions.do('key-enter',e);break;case 27:return lumise.actions.do('key-esc',e);break;case 37:case 38:case 39:case 40:return lumise.actions.do('key-move',e);break};if(e.metaKey===!0||e.ctrlKey===!0){switch(e.keyCode){case 48:return lumise.actions.do('ctrl-0',e);break;case 65:return lumise.actions.do('ctrl-a',e);break;case 68:return lumise.actions.do('ctrl-d',e);break;case 69:return lumise.actions.do('ctrl-e',e);break;case 79:return lumise.actions.do('ctrl-o',e);break;case 80:return lumise.actions.do('ctrl-p',e);break;case 83:if(e.shiftKey===!0)
return lumise.actions.do('ctrl-shift-s',e);else return lumise.actions.do('ctrl-s',e);break;case 90:if(e.shiftKey===!1)
return lumise.actions.do('ctrl-z');else return lumise.actions.do('ctrl-shift-z');break;case 61:return lumise.actions.do('ctrl+',e);break;case 173:return lumise.actions.do('ctrl-',e);break;case 107:return lumise.actions.do('ctrl+',e);break;case 109:return lumise.actions.do('ctrl-',e);break;case 187:return lumise.actions.do('ctrl+',e);break;case 189:return lumise.actions.do('ctrl-',e);break}}}).on('mouseup',function(e){lumise.actions.do('globalMouseUp',e)});$('#lumise-upload-form').on('drag dragstart dragend dragover dragenter dragleave drop',function(e){e.preventDefault();e.stopPropagation()}).on('dragover dragenter',function(){$(this).addClass('is-dragover')}).on('dragleave dragend drop',function(){$(this).removeClass('is-dragover')}).on('drop',function(e){lumise.fn.process_files(e.originalEvent.dataTransfer.files)}).on('click',function(){$(this).find('input[type="file"]').get(0).click()});var pcfg=localStorage.getItem('LUMISE_PRINT_CFG');if(pcfg&&pcfg!==''){pcfg=JSON.parse(pcfg);if(pcfg.format!==undefined)
$('#lumise-print-nav input[data-format="'+pcfg.format+'"]').prop({checked:!0}).change();if(pcfg.unit!==undefined)
$('#lumise-print-nav input[data-unit="'+pcfg.unit+'"]').prop({checked:!0}).change();if(pcfg.size!==undefined)
$('#lumise-print-nav select[name="select-size"]').val(pcfg.size).change();if(pcfg.csize!==undefined)
$('#lumise-print-nav input[name="size"]').val(pcfg.csize).change();if(pcfg.orien!==undefined)
$('#lumise-print-nav select[name="orientation"]').val(pcfg.orien).change();if(pcfg.base!==undefined)
$('#lumise-print-nav input[data-dp="base"]').prop({checked:pcfg.base});if(pcfg.overflow===undefined||pcfg.overflow==!0)
$('#lumise-print-nav input[data-dp="overflow"]').prop({checked:!0});if(pcfg.cropmarks!==undefined)
$('#lumise-print-nav input[data-dp="cropmarks"]').prop({checked:pcfg.cropmarks});if(pcfg.all_pages!==undefined)
$('#lumise-print-nav input[data-dp="all_pages"]').prop({checked:pcfg.all_pages})};lumise.cliparts.add_events()},event_add_text:function(el){[['dragstart',function(e){lumise.ops.drag_start=this;var offs=$(this).offset();lumise.ops.drag_start.distance={x:(e.pageX-offs.left)-(this.offsetWidth/2),y:(e.pageY-offs.top)-(this.offsetHeight/2),w:this.offsetWidth,h:this.offsetHeight}}],['dragend',function(e){lumise.ops.drag_start=null}],['click',function(e){lumise.itemInStage('add');var ops=JSON.parse(this.getAttribute('data-ops'));if(window.is_first_text===undefined){window.is_first_text=!0;$('#lumise-text-tools li[data-tool="spacing"]').trigger('click')}
if(this.getAttribute('data-act')){lumise.fn.preset_import(ops,{},function(){if(ops[0].type=='text-fx')
lumise.fn.update_text_fx()})}}]].map(function(ev){el.addEventListener(ev[0],ev[1],!1)})},layers:{current:null,create:function(opt){switch(opt.type){case 'text':var text=lumise.objects.text(opt.ops);lumise.stage().canvas.add(text).setActiveObject(text).renderAll();lumise.tools.set(text);lumise.design.layers.build();break;case 'image':lumise.stage().canvas.add(opt.image).setActiveObject(opt.image).renderAll();lumise.tools.set(opt.image);lumise.design.layers.build();break}
lumise.stack.save()},arrange:function(){var canvas=lumise.stage().canvas,active=canvas.getActiveObject();if(!active)
return;var objects=canvas.getObjects(),index=objects.indexOf(active),btn=$('#lumise-top-tools li[data-tool="arrange"] button[data-arrange]');if(objects[index-1]!==undefined&&objects[index-1].evented!==!1)
btn.filter('[data-arrange="back"]').removeClass('disabled');else btn.filter('[data-arrange="back"]').addClass('disabled');if(objects[index+1]!==undefined&&objects[index+1].evented!==!1)
btn.filter('[data-arrange="forward"]').removeClass('disabled');else btn.filter('[data-arrange="forward"]').addClass('disabled')},sort:function(el){var L=lumise.design.layers,events={dragstart:function(e){L.eldrag=this;this.setAttribute('data-holder','true');this.parentNode.setAttribute('data-holder','true')},dragover:function(e){L.elover=this;if(this==L.eldrag){e.preventDefault();return!1}
var rect=this.getBoundingClientRect();if(rect.bottom-e.clientY<(rect.height/2)&&$(this).next().get(0)!==L.eldrag)
$(this).after(L.eldrag);else if(rect.bottom-e.clientY>(rect.height/2)&&$(this).prev().get(0)!==L.eldrag)
$(this).before(L.eldrag);e.preventDefault();return!1},dragleave:function(e){e.preventDefault();return!1},dragend:function(e){L.eldrag.removeAttribute('data-holder');L.eldrag.parentNode.removeAttribute('data-holder');var items=lumise.e.layers.find('li[data-id]'),total=lumise.stage().canvas.getObjects().length-1;items.each(function(i){$(this).data('canvas').moveTo(total-i)});L.build();e.preventDefault();return!1}};for(var ev in events)
el.addEventListener(ev,events[ev],!1);},item:function(o){if(!o.id){var date=new Date();o.set('id',parseInt(date.getTime()/1000).toString(36)+':'+(Math.random().toString(36).substr(2)))}
var thumbn=o.get('thumbn');o.fill=(o.fill=='rgb(0,0,0)'?'#000':o.fill);var args={name:'',thumbn:thumbn,color:o.fill?lumise.fn.invert(o.fill):'#eee',bgcolor:o.fill?o.fill:'#333',class:o.active?'active':'',visible:(o.visible!==undefined&&o.visible===!1)?'data-active="true" ':'',selectable:(o.selectable!==undefined&&o.selectable===!1)?'data-active="true" ':'',id:o.id};var name=o.name?o.name:(o.text?o.text:'New layer');args.name=name.substr(0,20).replace(/\n/g,' ').replace(/[^a-z0-9A-Z ]/g,'');if(o.type=='path')
args.name='Drawing';return args},build:function(){if(!lumise.get.el('left').find('li[data-tab="layers"]').hasClass('active'))
return this.arrange();var tmpl="<li draggable=\"true\" class=\"%class%\" data-id=\"%id%\">\
							%thumbn%\
							<span class=\"layer-name\" contenteditable=\"true\" title=\"%name%\">%name%</span> \
							<span class=\"layer-func\">\
								<i class=\"lumise-icon-eye\" %visible%title=\""+lumise.i('14')+"\" data-act=\"visible\"></i>\
								<i class=\"lumise-icon-lock-open\" %selectable%title=\""+lumise.i('15')+"\" data-act=\"selectable\"></i>\
								<i class=\"lumise-icon-close\" title=\""+lumise.i('16')+"\" data-act=\"delete\"></i>\
							</span>\
						</li>",layers=lumise.get.el('layers>ul').html(''),index=0,is_empty=!0,stage=lumise.stage();if(stage===undefined)
return;stage.canvas.getObjects().map(function(o){if(o.evented===!1)
return index++;is_empty=!1;var args=lumise.design.layers.item(o),tmp=tmpl;Object.keys(args).map(function(n){tmp=tmp.replace(new RegExp('%'+n+'%','g'),args[n])});var layer=$(tmp);layers.prepend(layer.data({canvas:o}).on('click',function(e){e.preventDefault();lumise.ops.preventClick=!0;var act=e.target.getAttribute('data-act'),evt=lumise.design.layers.event,stage=lumise.stage(),target=$(this).data('canvas');if(act&&evt[act])
return evt[act](this,e.target);if(target.selectable!==!1){if($(this).hasClass('active'))
return;$(this.parentNode).find('li.active').removeClass('active');stage.limit_zone.set('visible',!0);stage.canvas.setActiveObject(target)}}));layer.find('span.layer-name').on('keyup',function(e){$(this.parentNode).data('canvas').name=this.innerText;if(e.keyCode===13){e.preventDefault();lumise.design.layers.build();return!1}});lumise.design.layers.sort(layer.get(0))});if(is_empty)
lumise.get.el('layers>ul').html('<h3 class="mt2" style="border:none;text-align:center">'+lumise.i('06')+'</h3>');else lumise.design.layers.arrange()},event:{visible:function(el,tar){tar.setAttribute('data-active',(tar.getAttribute('data-active')!='true'));$(el).data('canvas').set('visible',(tar.getAttribute('data-active')!='true'));lumise.objects.do.deactiveAll()},selectable:function(el,tar){tar.setAttribute('data-active',(tar.getAttribute('data-active')!='true'));$(el).data('canvas').set('selectable',(tar.getAttribute('data-active')!='true'));lumise.objects.do.deactiveAll()},delete:function(el,tar){canvas=lumise.stage().canvas;canvas.discardActiveGroup();canvas.discardActiveObject();lumise.stack.save();canvas.remove($(el).data('canvas'));lumise.stack.save();lumise.design.layers.build()}}},my_designs:{import:function(file){if(typeof file!='object'||(file.type.indexOf('application/json')!==0&&file.name.substr(file.name.length-5)!='.json'&&file.name.substr(file.name.length-5)!='.lumi'))return alert(lumise.i(32));if(lumise.cliparts.uploads[file.lastModified]===undefined){var reader=new FileReader();reader.addEventListener("load",function(){try{var data=JSON.parse(decodeURIComponent(this.result))}catch(ex){return lumise.fn.notice(ex.message,'error',3500)}
if(data.stages===undefined)
return lumise.fn.notice(lumise.i(32),'error',3500);lumise.tools.imports(data);delete reader},!1);reader.readAsText(file)}},pre_save:()=>{$('#lumise-navigations').attr({"data-navigation":"active"});$('ul#lumise-saved-designs').attr({'is':"save"});$('li[data-tool="designs"][data-callback="designs"]').addClass('active').find('ul[data-view="sub"] header').after('<h3>'+lumise.i('211')+'</h3>');lumise.render.refresh_my_designs(!0)}},nav:{callback:{layers:function(){lumise.design.layers.build()},textFX:function(el,e,ratio){e.data.textFX(el,e,ratio)},replace:function(el,e){var active=lumise.stage().canvas.getActiveObject();if(!active)
return;lumise.fn.select_image(function(opt){lumise.fn.replace_image(opt.url,active)},!1);e.preventDefault()},crop:function(el,e){var s=lumise.get.stage(),src=s.active.full_src?s.active.full_src:(s.active.fxOrigin?s.active.fxOrigin.src:(s.active._element?s.active._element.src:s.active._cacheCanvas.toDataURL()));lumise.fn.crop({src:src,width:Math.round(s.active.width),save:function(crop){var s=lumise.stage(),active=s.canvas.getActiveObject(),el=crop.find('.lumise_crop_selArea');if(active){var _e=el.get(0),_c=crop.get(0),img=crop.find('img.lumise_crop_img').get(0),cv=document.createElement('canvas'),ctx=cv.getContext('2d'),type=lumise.fn.get_type(img.src),w=img.naturalWidth*(_e.offsetWidth/_c.offsetWidth),h=img.naturalHeight*(_e.offsetHeight/_c.offsetHeight),iw=active.width*(_e.offsetWidth/_c.offsetWidth),ih=active.height*(_e.offsetHeight/_c.offsetHeight);cv.width=w;cv.height=h;ctx.drawImage(img,-_e.offsetLeft*(img.naturalWidth/_c.offsetWidth),-_e.offsetTop*(img.naturalHeight/_c.offsetHeight),img.naturalWidth,img.naturalHeight);var src=cv.toDataURL('image/'+type);delete cv;delete ctx;if(w>s.limit_zone.width||h>s.limit_zone.height){setTimeout(lumise.fn.large_image_helper,1,{w:w,h:h,ew:s.limit_zone.width,eh:s.limit_zone.height,iw:active.width*(_e.offsetWidth/_c.offsetWidth),ih:active.height*(_e.offsetHeight/_c.offsetHeight),el:cv,obj:active,src:src})}else{active.setSrc(src,function(){active.set({full_src:'',width:iw,height:ih,origin_src:src,src:src,type:'image'});s.canvas.renderAll()})}}}})},select_mask:function(el,e){var $this=$(el);var s=lumise.get.stage(),objs=s.canvas.getObjects(),wrp=$this.find('li[data-view="list"]');wrp.html('');if(!s.active)
return;objs.map(function(o){if(o.evented!==!1&&o.active!==!0){var args=lumise.design.layers.item(o);wrp.append('<span data-id="'+o.id+'">'+args.thumbn.replace('%color%','').replace('%bgcolor%','')+' '+args.name+'</span>')}});if(wrp.html()===''){wrp.html('<p><center>'+lumise.i('07')+'</center></p>')}else{wrp.find('>span').on('click',function(){var id=this.getAttribute('data-id'),tar=objs.filter(function(o){return o.id==id})[0];if(tar.left-(tar.width/2)>s.active.left+(s.active.width/2)||tar.left+(tar.width/2)<s.active.left-(s.active.width/2)||tar.top-(tar.height/2)>s.active.top+(s.active.height/2)||tar.top+(tar.height/2)<s.active.top-(s.active.height/2)){return alert(lumise.i('08'))};lumise.stack.save();lumise.ops.importing=!0;tar.setCoords();var next_step=function(){var arect=s.active.getBoundingRect(),brect=tar.getBoundingRect();var group=[];delete tar.clipTo;tar.set({scaleX:tar.scaleX*5,scaleY:tar.scaleY*5,});group.push(tar);let new_group=new fabric.Group(group,{}),psize=lumise.get.size();var dataURLNew=new_group.toDataURL({multiplier:(psize.h/lumise.stage().limit_zone.height)/(window.devicePixelRatio>2?window.devicePixelRatio*2:window.devicePixelRatio)});if(new_group.minScaleLimit<=0.0008){dataURLNew=new_group.toDataURL()}
let mask={left:(brect.left-arect.left)/arect.width,top:(brect.top-arect.top)/arect.height,width:brect.width/arect.width,height:brect.height/arect.height,dataURL:dataURLNew};$(this).remove();s.canvas.remove(tar);lumise.fn.update_image_fx('mask',mask,function(){lumise.ops.importing=!1;lumise.stack.save()})};if(tar.full_src&&tar.full_src!==tar.origin_src)
return tar.setSrc(tar.full_src,next_step);next_step()})}},qrcode:function(){var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};lumise.objects.qrcode(lumise.i('09'),fill_default,function(obj){lumise.get.el('top-tools').find('li[data-tool="qrcode-text"]').addClass('active').find('textarea').focus()});return;lumise.tools.lightbox({width:500,content:'<div id="lumise-create-qrcode" class="lumise-lightbox-form">\
										<h3 class="title">'+lumise.i('10')+'</h3>\
										<p>\
											<label>'+lumise.i('11')+':</label>\
											<input name="text" type="text" placeholder="'+lumise.i('11')+'" /></p>\
										<p>\
											<label>'+lumise.i('12')+':</label>\
											<input name="color" type="search" placeholder="'+lumise.i('13')+'" value="'+fill_default+'" />\
										</p>\
										<p class="right"><button class="primary">'+lumise.i('10')+'</button></p>\
									</div>'});new jscolor.color(lumise.fn.q('#lumise-create-qrcode input[name="color"]'),{});$('#lumise-create-qrcode button').on('click',function(e){var text=lumise.fn.q('#lumise-create-qrcode input[name="text"]').value,color=lumise.fn.q('#lumise-create-qrcode input[name="color"]').value;if(text==='')
return $('#lumise-create-qrcode input[name="text"]').shake();if(color==='')
return $('#lumise-create-qrcode input[name="color"]').shake();lumise.objects.qrcode(text,color);lumise.get.el('left .lumise-left-nav li[data-tab="layers"]').trigger('click')});lumise.fn.q('#lumise-create-qrcode input[name="text"]').focus()},drawing:function(el,e){var canvas=lumise.stage().canvas;var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};if(!canvas.isDrawingMode)
return;canvas.freeDrawingBrush.width=parseFloat(lumise.get.el('drawing-width').val());canvas.freeDrawingBrush.color=lumise.get.el('drawing-color').val()?lumise.get.el('drawing-color').val():fill_default},imageFXReset:function(){var s=lumise.get.stage();if(!s.active||!s.active.fxOrigin)
return lumise.tools.discard();lumise.stack.save();delete s.active.fx;s.active._element.src=s.active.fxOrigin.src;s.active._originalElement.src=s.active.fxOrigin.src;s.canvas.renderAll();lumise.tools.discard()},designs:function(){$('ul#lumise-saved-designs').removeAttr('is');$('li[data-tool="designs"][data-callback="designs"]>ul[data-view="sub"]>h3').remove();return lumise.render.refresh_my_designs();if(!$('#lumise-saved-designs').attr('data-load')){lumise.render.refresh_my_designs();$('#lumise-saved-designs').attr({'data-load':'true'})}},proceed:function(el,e){var printings=lumise.get.el('cart-wrp').find('input[name="printing"].lumise-cart-param'),prtsel=printings.filter(function(){return $(this).prop('checked')});if(printings.length>0&&prtsel.length===0)
printings.eq(0).prop({'checked':!0}).trigger('change')},svg:function(el,e){if(e.target.tagName=='INPUT'&&e.target.getAttribute('data-color')){var se=lumise.get.el('svg-fill').get(0),cl=e.target.getAttribute('data-color');se.setAttribute('data-active-color',e.target.getAttribute('data-color'));se.value=cl;se.style.background=cl;se.style.color=lumise.tools.svg.invertColor(cl);lumise.get.el('svg-colors').addClass('active');return}else if(e.target.getAttribute('data-func')=='editor'){lumise.tools.svg.edit()};lumise.get.el('svg-colors').removeClass('active')},group:function(el,e){var stage=lumise.stage(),group=stage.canvas.getActiveGroup(),tel=$('#lumise-top-tools ul[data-mode="group"]'),gr=tel.attr('data-grouped'),id=new Date().getTime().toString(36);if(group&&group._objects){group._objects.map(function(o){if(gr=='false')
o.set({group_pos:id});else o.set({group_pos:null})});$('#lumise-top-tools ul[data-mode="group"]').attr({'data-grouped':gr=='false'?'true':'false'})};e.preventDefault()},ungroup:function(el,e){lumise.stage().canvas.getActiveObject().set({'group_pos':null});el.style.display='none'}},load:{cliparts:function(){lumise.post({action:'cliparts',category:''})},templates:function(){lumise.post({action:'templates',category:''})},images:function(){$('#lumise-uploads div[data-tab="internal"]').trigger('scroll')},shapes:function(){$('#lumise-shapes').trigger('scroll')}}}},xitems:{ops:{},resources:{},load:function(comp,ops){this.resources[comp]={url:[],ops:ops};lumise.post({action:'addon',component:comp,category:'',rayid:Math.random()},function(res){if(typeof ops.load=='function')
res=ops.load(res);lumise.xitems.response(res,comp)})},response:function(res,comp){if(typeof lumise.xitems.resources[comp].ops.response=='function')
res=lumise.xitems.resources[comp].ops.response(res);var html='',wrp=$('#lumise-'+comp+'-list');if(res.items&&res.items.length>0){res.items.map(function(item){lumise.xitems.resources[comp].url[item.id]=lumise.data.upload_url+item.upload;var defaultResource='backgrounds';if(item.resource){defaultResource=item.resource}
var preview_type='';if(lumise.xitems.resources[comp].ops.preview!=undefined&&lumise.xitems.resources[comp].ops.preview!=''&&lumise.xitems.resources[comp].ops.preview!='undefined'){preview_type=lumise.xitems.resources[comp].ops.preview}
html+='<li style="background-image: url(\''+(item.thumbnail_url!==undefined?item.thumbnail_url:item.screenshot)+'\')" \data-ops=\'[{'+'"type": "'+preview_type+'",'+'"component": "'+comp+'",'+'"name": "'+item.name+'",'+'"id": "'+item.id+'",'+'"tags": "'+(item.tags?item.tags:'')+'",'+'"cates": "'+(item.cates?item.cates:'')+'",'+'"resource": "'+defaultResource+'",'+'"resource_id": "'+item.id+'",'+'"price": "'+item.price+'",'+'"screenshot": "'+(item.thumbnail_url!==undefined?item.thumbnail_url:item.screenshot)+'"'+'}]\' class="lumise-xitem">'+'<i data-tag="'+item.id+'">'+(item.price>0?lumise.fn.price(item.price):lumise.i(100))+'</i>'+'<i data-info="'+item.id+'"></i>'+'</li>'});var total=res.total?res.total:0;lumise.ops[comp+'_q']=res.q;lumise.ops[comp+'_category']=res.category;lumise.ops[comp+'_index']=parseInt(res.index)+res.items.length;if(lumise.ops[comp+'_index']<total)
lumise.ops[comp+'_loading']=!1}else html+='<span class="noitems">'+lumise.i(42)+'</span>';wrp.find('i.lumise-spinner').remove();wrp.find('ul.lumise-list-items').append(html);lumise.render.categories(comp,res);wrp.find('ul.lumise-list-items li.lumise-xitem:not([data-event="true"])').off('click').on('click',function(e){e.preventDefault();var o=JSON.parse(this.getAttribute('data-ops'))[0];o.url=lumise.xitems.resources[comp].url[o.id];if(lumise.xitems.resources[comp].ops!==undefined&&typeof lumise.xitems.resources[comp].ops.click=='function')lumise.xitems.resources[comp].ops.click(o,this)})},scroll_more:function(e){var comp=this.getAttribute('data-component');if(!comp||lumise.ops[comp+'_loading']===!0)
return;if(this.scrollTop+this.offsetHeight>=this.scrollHeight){lumise.post({action:'addon',component:comp,category:lumise.ops[comp+'_category'],q:lumise.ops[comp+'_q'],index:lumise.ops[comp+'_index']},function(res){lumise.xitems.response(res,comp)});$(this).append('<i class="lumise-spinner white x3 mt1 mb1"></i>');lumise.ops[comp+'_loading']=!0}},search:function(e){var comp=this.getAttribute('data-component');if(e.type=='click'){setTimeout(function(el){if(lumise.ops[comp+'_q']!=el.value&&el.value===''){lumise.ops[comp+'_q']=el.value;lumise.xitems.do_search(comp)}},100,this)}
if(this.tagName=='INPUT'&&e.keyCode!==13)
return;if(this.tagName=='INPUT')
lumise.ops[comp+'_q']=this.value;lumise.xitems.do_search(comp)},do_search:function(type){lumise.ops[type+'_index']=0;lumise.ops[type+'_loading']=!1;lumise.get.el(type+'-list').find('ul').html('');lumise.get.el(type+'-list').trigger('scroll')}},templates:{storage:[],add_events:function(){var events=[['click',function(e){lumise.itemInStage('add');var t=this,ops=JSON.parse(this.getAttribute('data-ops'));if(lumise.templates.storage[ops[0].id]){lumise.templates.load({upload:lumise.templates.storage[ops[0].id],id:ops[0].id,price:lumise.apply_filters('template_price',ops[0].price,ops)});if(lumise.stage().template!==undefined)
lumise.stage().template.loaded=!0}}]];lumise.get.el('left').find('ul.lumise-list-items li.lumise-template:not([data-event="true"])').each(function(){if(this.getAttribute('data-event'))
return;this.setAttribute('data-event',!0);var _this=this;events.map(function(ev){_this.addEventListener(ev[0],ev[1],!1)})})},load:function(tmp,callback){if(tmp.upload===undefined){if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0};return};let ext=tmp.upload.split('.').pop();if(ext=='lumi'){if(tmp.upload.toString().trim().indexOf('http')!==0)
tmp.upload=lumise.data.upload_url+tmp.upload;lumise.f(lumise.i('loading')+'..');$.ajax({url:tmp.upload,method:'GET',statusCode:{403:lumise.response.statusCode[403],404:function(){lumise.fn.notice(lumise.i(83),'error',3500);lumise.f(!1)},200:function(res){lumise.templates.response(res,tmp,callback)}}})}else{lumise.f(lumise.i('loading')+'..');var templ=new Image();templ.onerror=function(){lumise.f(!1);lumise.fn.notice('Error on loading template file','error')};templ.onload=function(){var res=lumise.fn.build_lumi(this);lumise.templates.response(res,tmp,callback)};templ.src=tmp.upload.startsWith('https://')||tmp.upload.startsWith('http://')?tmp.upload:lumise.data.upload_url+tmp.upload}},response:function(res,tmp,callback){try{if(typeof res===' string'||res.stages===undefined)
res=JSON.parse(decodeURIComponent(typeof res==='string'?res:res.responseText))}catch(ex){console.warn(ex);console.log(ex);lumise.f(!1);return};if(typeof res!=='object'||res.stages===undefined||res.stages.length===0)
return!1;if(res.stages.lumise===undefined)
res.stages.lumise=res.stages[Object.keys(res.stages)[0]];if(typeof res.stages.lumise.data=='string')
res.stages.lumise.data=JSON.parse(res.stages.lumise.data);var objects=res.stages.lumise.data.objects;if(objects!==undefined){for(var item in objects){if(objects[item]!==null&&typeof objects[item].type!=='undefined'){objects[item].price=0;objects[item].template=[tmp.id,!isNaN(tmp.price)?parseFloat(tmp.price):0]}
if(objects[item]!==null&&typeof objects[item].type!=='undefined'&&(objects[item].type=='i-text'||objects[item].type=='text-fx'||objects[item].type=='curvedText')){let targetText=objects[item].text;let reg=/(\&\#x([a-zA-Z0-9]+)\;)/gm;let res=targetText.replace(reg,function(character_detect){console.log(character_detect);character_detect=character_detect.substring(6,character_detect.length-1);let charCode=String.fromCodePoint(character_detect);return charCode});objects[item].text=res}}};lumise.cart.template[lumise.current_stage]=[];lumise.cart.price.template[lumise.current_stage]=0;res.clear=tmp.clear;lumise.actions.do('template',tmp,res);if(res.stages.lumise!==undefined&&res.stages.lumise.padding===undefined){res.stages.lumise.padding=lumise.fn.calc_padding(res.stages.lumise)};lumise.tools.imports(res,function(stage){if(stage.template!==undefined&&stage.template.offset!==undefined&&stage.template.scale!==undefined&&stage.template.loaded!==!0){var stage=lumise.stage(),scale=stage.template.offset.width/stage.edit_zone.width,scl=stage.limit_zone.width/stage.edit_zone.width,left=stage.template.offset.left*scl,top=stage.template.offset.top*scl;if(res.stages.lumise!==undefined&&res.stages.lumise.padding!==undefined){left+=res.stages.lumise.padding[0]*stage.template.offset.width*scl;top+=res.stages.lumise.padding[1]*stage.template.offset.height*scl}
lumise.fn.scale_designs(scale,{left:left,top:top});stage.template.loaded=!0};if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0};if(typeof callback==='function')
callback()})}},cliparts:{storage:[],uploads:[],add:function(el,ops){if(!el.getAttribute('data-ops'))
return;lumise.ops.preventClick=!0;lumise.f(lumise.i('loading')+'..');var ops=$.extend(JSON.parse(el.getAttribute('data-ops')),(ops?ops:{}),!0),sto=ops.type=='image'?lumise.cliparts.storage[ops.id]:(lumise.cliparts.uploads[ops.id]||{}),stage=lumise.stage();if(ops.type=='shape')
sto.url='data:image/svg+xml;base64,'+btoa(el.innerHTML.trim());sto.width=sto.width?sto.width:stage.limit_zone.width*0.8;if(ops.text&&!ops.name)
ops.name=ops.text.substr(0,30);if(sto.url){if(sto.url.indexOf('data:image/svg+xml;base64,')>-1||sto.url.split('.').pop().trim()=='svg'){ops.type='svg'}else ops.type='image'}
ops=$.extend({left:stage.limit_zone.left+(stage.limit_zone.width/2),top:stage.limit_zone.top+(stage.limit_zone.height/2),width:sto.width,name:sto.name?sto.name:(sto.url&&sto.url.indexOf('data:image')===-1?sto.url.split('/').pop():ops.type=='svg'?'New SVG':'New Image')},ops);var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};if(ops.type=='i-text'){ops.fill=fill_default;lumise.design.layers.create({type:'text',ops:ops});lumise.f(!1);return}else if(ops.type=='text-fx'){ops.fill=fill_default};fabric.Image.fromURL(sto.url,function(image){lumise.f(!1);if(ops.height===undefined)
ops.height=image.height*(sto.width/image.width),ops.clipTo=function(ctx){return lumise.objects.clipto(ctx,image)};image.set(ops);lumise.design.layers.create({type:'image',src:sto.url,image:image});lumise.get.el('x-thumbn-preview').hide();stage.canvas.setActiveObject(image)})},add_events:function(){var events=[['dragstart',function(e){lumise.ops.drag_start=this;var offs=$(this).offset();lumise.ops.drag_start.distance={x:(e.pageX-offs.left)-(this.offsetWidth/2),y:(e.pageY-offs.top)-(this.offsetHeight/2),w:this.offsetWidth,h:this.offsetHeight};lumise.get.el('x-thumbn-preview').hide()}],['dragend',function(e){lumise.ops.drag_start=null}],['click',function(e){lumise.itemInStage('add');var del=e.target.getAttribute('data-delete');if(del){if(confirm(lumise.i('sure'))){$(this).remove();URL.revokeObjectURL($(e.target).parent().find('img').attr('src'));delete lumise.cliparts.uploads[del];return lumise.indexed.delete(del,'uploads')}}
var t=this,ops=this.getAttribute('data-ops');if(lumise.xitems.ops[ops]!==undefined)
ops=$.extend(!0,[],lumise.xitems.ops[ops]);else ops=JSON.parse(ops);if(ops[0].type=='shape')
ops[0].url='data:image/svg+xml;base64,'+btoa(t.innerHTML.trim());else if(ops[0].url===undefined)
ops[0].url=lumise.cliparts.storage[ops[0].id]||lumise.cliparts.uploads[ops[0].id];if(ops[0].url&&ops[0].url.indexOf('dumb-')===0){lumise.indexed.get(ops[0].url.split('dumb-')[1],'dumb',function(res){if(res!==null&res!==undefined){lumise.cliparts.uploads[ops[0].id]=res[0];ops[0].url=res[0];ops[0].user_upload=!0;lumise.fn.preset_import(ops,{});delete res}else lumise.fn.notice(lumise.i(165))})}else{lumise.fn.preset_import(ops,{})}}]];lumise.get.el('left').find('ul.lumise-list-items li.lumise-clipart:not([draggable="true"])').each(function(){if(this.getAttribute('draggable'))
return;this.setAttribute('draggable',!0);var _this=this;events.map(function(ev){_this.addEventListener(ev[0],ev[1],!1)})})},external:function(url,callback){var image=new Image();image.crossOrigin="Anonymous";image.onload=function(){var canvas=document.createElement('canvas');canvas.width=this.naturalWidth;canvas.height=this.naturalHeight;canvas.getContext('2d').drawImage(this,0,0);this.callback(canvas);delete this;delete canvas};image.callback=callback;image.src=url},import:function(id,ops,dir){var do_import=function(){lumise.cliparts.uploads[id]=ops.url;if(ops.thumbn&&typeof ops.thumbn=='string'&&ops.thumbn.indexOf('data:image')===0)
ops.thumbn=lumise.fn.url2blob(ops.thumbn);if(ops.save!==!1){try{lumise.indexed.save([{thumbn:ops.thumbn,name:ops.name,id:id},[ops.url]],'uploads')}catch(ex){console.log(ex)}}
var html='<li style="background-image: url(\''+URL.createObjectURL(ops.thumbn?ops.thumbn:ops.url)+'\')" \
			    				data-ops=\'[{"type": "upload", "name": "'+ops.name+'", "id": "'+id+'"}]\' class="lumise-clipart">\
								<i data-info="'+id+'"></i>\
								<i class="lumise-icon-close" data-delete="'+id+'" title="'+lumise.i(47)+'"></i>\
							</li>';if(dir=='prepend')
lumise.get.el('upload-list').find('ul.lumise-list-items').prepend(html);else lumise.get.el('upload-list').find('ul.lumise-list-items').append(html);lumise.cliparts.add_events()};if(ops.thumbn===undefined){lumise.fn.createThumbn({source:ops.url,width:300,height:240,callback:function(canvas){ops.thumbn=lumise.fn.url2blob(canvas.toDataURL('image/jpeg',0.3));do_import()}});return};do_import()}},actions:{stack:[],add:function(name,callback,priority){if(priority===undefined)
priority=10;if(this.stack[priority]===undefined)
this.stack[priority]={};if(this.stack[priority][name]===undefined)
this.stack[priority][name]=[];this.stack[priority][name].push(callback)},do:function(name,opts,p){lumise.actions.stack.map(function(stack){if(stack[name]!==undefined){var res;stack[name].map(function(evt){if(typeof evt=='function'){try{res=evt(opts,p)}catch(ex){console.warn(ex.message+' - do action '+name);console.log(ex);lumise.fn.notice(ex.message+' - do action '+name,'error')}}});return res}})}},tools:{set:function(obj){if(!obj)
obj=lumise.stage().canvas.getActiveObject();if(!obj)
return;var el=lumise.get.el;el('transparent').val(obj.opacity!==undefined&&obj.opacity!==null?parseFloat(obj.opacity)*100:100).trigger('input');el('rotate').val(obj.angle!==undefined?obj.angle:0).trigger('input');el('curved-radius').val(obj.radius!==undefined?obj.radius:50).trigger('input');el('curved-spacing').val(obj.spacing!==undefined?obj.spacing:50).trigger('input');el('workspace').find('.lumise-edit-text').val(obj.text?obj.text.trim():'');el('font-size').val(obj.fontSize?obj.fontSize:14).trigger('input');el('letter-spacing').val(obj.charSpacing!==undefined?obj.charSpacing:0).trigger('input');el('line-height').val(obj.lineHeight!==undefined?obj.lineHeight*10:10).trigger('input');if(obj.type=='path'){el('stroke-width').attr({'data-ratio':'1'}).val(obj.strokeWidth!==undefined?obj.strokeWidth:0).trigger('input')}else{el('stroke-width').attr({'data-ratio':'0.1'}).val(obj.strokeWidth!==undefined?obj.strokeWidth*10:0).trigger('input')}
el('skew-x').val(obj.skewX!==undefined?obj.skewX:0).trigger('input');el('skew-y').val(obj.skewY!==undefined?obj.skewY:0).trigger('input');if(obj.type!='path'&&(obj.type!='image'||(obj.type=='image'&&obj.fill!='rgb(0,0,0)'&&obj.fill!=='#000'&&obj.fill!==''))&&(obj.type!='svg'||(obj.type=='svg'&&obj.fill!='rgb(0,0,0)'&&obj.fill!=='#000'&&obj.fill!==''))){var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};var fill=obj.fill?obj.fill:fill_default;if(el('fill').get(0).color&&typeof el('fill').get(0).color.fromString=='function')
el('fill').get(0).color.fromString(fill);el('fill').closest('li[data-tool="fill"]').css({'border-bottom':'3px solid '+(fill)})}else{el('fill').val('').attr({style:''});el('fill').closest('li[data-tool="fill"]').css({'border-bottom':''})};var stroke=obj.stroke?obj.stroke:'';if(el('stroke').get(0).color&&typeof el('stroke').get(0).color.fromString=='function')
el('stroke').val(stroke).css({background:''}).get(0).color.fromString(stroke);el('text-tools .text-format').removeClass('selected');el('text-tools .text-format.lumisex-align-'+obj.textAlign).addClass('selected');el('text-align').attr({'class':'lumisex-align-'+(obj.textAlign?obj.textAlign:'center')});el('curved').get(0).checked=(obj.type==='curvedText');el('flip-x').get(0).checked=obj.flipX;el('flip-y').get(0).checked=obj.flipY;el('lock-position').get(0).checked=obj.lockPosition;el('position-wrp').attr({'data-lock':obj.lockPosition===!0?'true':'false'});el('qrcode-text').val(obj.text?obj.text.trim():'');var format=el('text-tools .text-format');[['bold','fontWeight'],['italic','fontStyle'],['underline','textDecoration']].map(function(f){if(obj[f[1]]==f[0])
format.filter('[data-format="'+f[0]+'"]').addClass('selected')});if(obj.fontFamily){var fml=obj.fontFamily.replace(/\"/g,'');if(el('fonts').find('font[data-family="'+fml+'"]').length>0){el('fonts').find('.selected').removeClass('selected');el('fonts').find('font[data-family="'+fml+'"]').addClass('selected')}
el('text-tools').find('button.dropdown').html('<font style="font-family:\''+fml+'\'">'+fml+'</font>')}
el('text-effect').find('img[data-effect]').attr({'data-selected':null});if(obj.type=='text-fx'){if(obj.bridge===undefined)
obj.bridge={};el('text-fx-offsety').val(obj.bridge.offsetY!==undefined?obj.bridge.offsetY*100:50).trigger('input');el('text-fx-bottom').val(obj.bridge.bottom!==undefined?obj.bridge.bottom*10:25).trigger('input');el('text-fx-curve').val(obj.bridge.curve!==undefined?obj.bridge.curve*10:-25).trigger('input');el('text-fx-trident').prop({checked:obj.bridge.trident});if(obj.bridge.oblique===!0)
el('text-effect').find('img[data-effect="oblique"]').attr({'data-selected':'true'});else el('text-effect').find('img[data-effect="bridge"]').attr({'data-selected':'true'})}else if(obj.type=='curvedText'){el('text-effect').find('img[data-effect="curved"]').attr({'data-selected':'true'})}else if(obj.type=='text-fx'){el('text-effect').find('img[data-effect="normal"]').attr({'data-selected':'true'})}else if(obj.type=='image'){el('image-fx-brightness').val(obj.fx&&obj.fx.brightness?obj.fx.brightness:0).trigger('input');el('image-fx-saturation').val(obj.fx&&obj.fx.saturation?obj.fx.saturation:100).trigger('input');el('image-fx-contrast').val(obj.fx&&obj.fx.contrast?obj.fx.contrast:0).trigger('input');el('image-fx-deep').val(obj.fx&&obj.fx.deep?obj.fx.deep:0).trigger('input');el('image-fx-mode').val(obj.fx&&obj.fx.mode?obj.fx.mode:'light');el('image-fx-fx').find('[data-selected]').removeAttr('data-selected');el('image-fx-fx').find('li[data-fx="'+(obj.fx&&obj.fx.fx?obj.fx.fx:'')+'"]').attr({'data-selected':'true'})}else if(obj.type=='svg'&&obj.src!==undefined&&obj.src.indexOf('data:image/svg+xml;base64,')===0){lumise.fn.set_svg_colors(obj)};lumise.design.layers.arrange();if(obj.type=='image'&&obj._element&&obj._element.src.indexOf('data:image/svg+xml;base64,')>-1)
obj.set('type','svg');lumise.e.tools.attr({'data-view':obj.type});el('top-tools').find('li[data-tool="un-group"]').css({display:obj.group_pos?'inline-block':'none'});switch(el('text-effect').find('img[data-effect][data-selected="true"]').attr('data-effect')){case 'bridge':case 'oblique':$('[data-tool="text-effect"] li[data-func]').removeAttr('data-active');$('[data-tool="text-effect"] li[data-func="text-fx"]').attr({'data-active':'true'});break;case 'curved':$('[data-tool="text-effect"] li[data-func]').removeAttr('data-active');$('[data-tool="text-effect"] li[data-func="curved"]').attr({'data-active':'true'});break;default:$('[data-tool="text-effect"] li[data-func]').removeAttr('data-active');break}},export:function(stage){if(!stage||!stage.canvas)
return null;var data=stage.canvas.toJSON(lumise.ops.export_list);data.objects.map(function(obj,ind){if(obj.evented===!1&&obj.type!='imagebox'){delete data.objects[ind]}else delete data.objects[ind].clipTo;Object.keys(obj).map(function(k){if(obj[k]===undefined||obj[k]===null)
delete obj[k]});if(obj.fontFamily!==undefined&&obj.font===undefined){fonts=JSON.parse(localStorage.getItem('LUMISE_FONTS'));if(fonts[encodeURIComponent(obj.fontFamily)])
obj.font=fonts[encodeURIComponent(obj.fontFamily)]};if(obj.fontFamily!==undefined&&typeof obj.font=='string'&&obj.font.indexOf('.woff')>-1&&obj.font.indexOf('http')===-1)obj.font=lumise.data.upload_url+obj.font;if(obj.fontFamily&&obj.fontFamily.indexOf('"')>-1)
obj.fontFamily=obj.fontFamily.replace(/\"/g,'');if(obj.origin_src){obj.src=obj.origin_src;delete obj.origin_src};if(obj.type=='text-fx'||obj.type=='i-text'||obj.type=='curvedText')
delete obj.src;if(obj.type=='path-group'){obj.type='svg';delete obj.paths}});data.devicePixelRatio=window.devicePixelRatio;data.product_color=lumise.get.color();data.limit_zone={};data.edit_zone=stage.edit_zone;data.product_width=stage.product.width;data.product_height=stage.product.height;data.screenshot=stage.screenshot;['width','height','top','left'].map(function(f){data.limit_zone[f]=stage.limit_zone?stage.limit_zone[f]:0});data=lumise.apply_filters('export',data,stage);return data},toImage:function(ops){var s=ops.stage,dpr=window.devicePixelRatio!==undefined?window.devicePixelRatio:1;if(!s||!s.limit_zone)
return null;ops=$.extend({is_bg:!1,format:ops.is_bg!==!0?'png':'jpeg',multiplier:dpr/2,top:s.limit_zone.top,left:s.limit_zone.left,width:s.limit_zone.width,height:s.limit_zone.height},ops);ops.multiplier=ops.multiplier/dpr;if(ops.is_bg=='full'){ops.left=s.product.left-(s.product.width/2);ops.top=s.product.top-(s.product.height/2);ops.width=s.product.width;ops.height=s.product.height}else{ops.left+=1;ops.top+=1;ops.width-=1;ops.height-=1};if((ops.is_bg===!1&&ops.with_base!==!0)||(s.productColor&&s.productColor.fill=='#dedede')){var bg=s.canvas.backgroundColor;s.canvas.backgroundColor='transparent';if(s.productColor)
s.productColor.visible=!1};if(ops.is_bg===!1&&ops.with_base!==!0){if(s.product)
s.product.visible=!1;if(s.canvas.overlayImage)
s.canvas.overlayImage.visible=!1};var lm=s.limit_zone.visible;s.limit_zone.visible=!1;var data=s.canvas.toDataURL(ops);if((ops.is_bg===!1&&ops.with_base!==!0)||(s.productColor&&s.productColor.fill=='#dedede')){s.canvas.backgroundColor=bg;if(s.productColor)
s.productColor.visible=!0};if(ops.is_bg===!1&&ops.with_base!='yes'){if(s.product)
s.product.visible=!0;if(s.canvas.overlayImage)
s.canvas.overlayImage.visible=!0};s.limit_zone.visible=lm;s.canvas.renderAll();return data},qrcode:function(options){if(typeof options==='string'){options={text:options}}
options=$.extend({},{render:"canvas",width:500,height:500,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"rgba(255,255,255,0)",foreground:lumise.get.color('invert')},options);var qrcode=new QRCode(options.typeNumber,options.correctLevel);qrcode.addData(options.text);qrcode.make();var canvas=document.createElement('canvas');canvas.width=options.width+50;canvas.height=options.height+50;var ctx=canvas.getContext('2d');var tileW=options.width/qrcode.getModuleCount();var tileH=options.height/qrcode.getModuleCount();for(var row=0;row<qrcode.getModuleCount();row++){for(var col=0;col<qrcode.getModuleCount();col++){ctx.fillStyle=qrcode.isDark(row,col)?options.foreground:options.background;var w=(Math.ceil((col+1)*tileW)-Math.floor(col*tileW));var h=(Math.ceil((row+1)*tileW)-Math.floor(row*tileW));ctx.fillRect(Math.round(col*tileW)+25,Math.round(row*tileH)+25,w,h)}}
return canvas},clear:function(){this.discard();var canvas=lumise.stage().canvas,objs=canvas.getObjects();while(objs.filter(function(obj){return obj.evented}).length>0){objs.map(function(obj){if(obj.evented===!0)
canvas.remove(obj)})}
lumise.stack.save()},clearAll:function(){var canvas,objs;Object.keys(lumise.data.stages).map(function(s){canvas=lumise.data.stages[s].canvas;if(canvas===undefined)
return;objs=canvas.getObjects();while(objs.filter(function(obj){return obj.evented}).length>0){objs.map(function(obj){if(obj.evented===!0)
canvas.remove(obj)})}});lumise.stack.save()},import:function(data,callback){if(!data||!data.objects){lumise.ops.importing=!1;return callback()};if(typeof callback!='function')
callback=function(){};data=lumise.apply_filters('import',data);data.objects=data.objects.filter(function(val){return val});var stage=lumise.stage(),canvas=stage.canvas,do_import=function(i){if(i===-1){var gfonts=[],custom=[],families=[],cfo,uco;if($('#lumise-fonts-preload').length===0)
$('body').append('<div id="fonts-preload" style="position: fixed;opacity: 0;"></div>');data.objects.map(function(o){if(o!==null&&o.fontFamily!==undefined&&o.fontFamily!==''&&o.fontFamily.toLowerCase()!='arial'){cfo=decodeURIComponent(o.fontFamily.replace(/\"/g,''));if(families.indexOf(cfo)===-1&&cfo.toLowerCase()!='arial'){families.push(cfo);$('#fonts-preload').append('<font style="font-family:\''+cfo+'\'">abcdefghijkl<b>mnopqrx</b><u>tywxz098</u><i>7654321</i></font>');if(o.font!==undefined&&o.font.indexOf('fonts.gstatic.com')===-1&&(o.font.indexOf('.woff')>-1||o.font.indexOf('data:')===0)){custom.push(cfo);uco=o.font;if(o.font.indexOf('.woff')>-1&&o.font.indexOf('http')===-1)
uco=lumise.data.upload_url+o.font;$('head').append('<style type="text/css">@font-face {font-family:"'+cfo+'";src: url("'+uco+'") format("woff");}</style>')}else{if(o.font===undefined||o.font.indexOf('fonts.gstatic.com')>-1)o.font=["latin","regular"];gfonts.push(cfo.replace(/ /g,'+')+':'+o.font[1])}}}});if(gfonts.length>0||custom.length>0){var fload={inactive:function(){this.active()},active:function(){lumise.f(lumise.i('importing'));var loo=0,loop_check=function(){var pass=!0;loo++;families.map(function(f){if(!document.fonts.check('12px "'+f+'"'))
pass=!1});if(pass===!1&&loo<20)
setTimeout(loop_check,350);else setTimeout(do_import,100,0)};loop_check()},text:'abcdefghijklmnopqrxtywxz0987654321'};if(gfonts.length>0)
fload.google={families:gfonts};if(custom.length>0)
fload.custom={families:custom};return WebFont.load(fload)}else i=0};data.objects[i]=lumise.apply_filters('before_import_object',data.objects[i]);if(data.objects[i]!==undefined){lumise.f(lumise.i('importing'));lumise.ops.importing=!0;if(data.objects[i]!==null){delete data.objects[i].clipTo;delete data.objects[i].active;data.objects[i]=$.extend({stroke:'',strokeWidth:0,scaleX:1,scaleY:1,angle:0,skewX:0,skewY:0,left:stage.limit_zone.left+(stage.limit_zone.width/2),top:stage.limit_zone.top+(stage.limit_zone.height/2)},data.objects[i]);if(lumise.objects.lumise[data.objects[i].type]){data.objects[i].top+=yCenter;data.objects[i].left+=xCenter;if(data.objects[i].src!==undefined&&data.objects[i].src.indexOf('http')!==0&&data.objects[i].src.indexOf('blob:')!==0&&data.objects[i].src.indexOf('data:image/')!==0)data.objects[i].src=lumise.data.upload_url+data.objects[i].src;var do_add=function(){if(data.objects[i].resource=='cliparts'){data.objects[i]=lumise.apply_filters('clipart_filter',data.objects[i])}
lumise.objects.lumise[data.objects[i].type](data.objects[i],function(obj){if(obj===null){err=!0;return do_import(i+1)};canvas.add(obj);if(obj.type=='curvedText')
obj.set('radius',obj.radius);if(obj.type=='image'&&obj.fx!==undefined){obj.fxOrigin=obj._originalElement.cloneNode(!0);setTimeout(function(){lumise.fn.image_fx(obj.fxOrigin,obj.fx,function(cdata,colors){obj._element.src=cdata;obj._originalElement.src=cdata;obj.colors=colors;obj._element.onload=function(){lumise.f(!1);do_import(i+1)}})},1)}else do_import(i+1)})};do_add()}else do_import(i+1)}else do_import(i+1)}else{canvas.renderAll();lumise.design.layers.build();lumise.ops.importing=!1;lumise.f(!1);if(typeof callback=='function'){if(typeof data.template!=='undefined'){lumise.cart.template=data.template.stages;lumise.cart.price.template=data.template.price};if(typeof data.extra!=='undefined')
lumise.cart.price.extra=data.extra;callback(err)}
if(lumise.fn.url_var('print_download','')!==''){$('li[data-tool="print"]').trigger('click');$('#lumise-print-full').prop({checked:!0});$('#lumise-print-base').prop({checked:!1});$('#print-format-'+lumise.fn.url_var('print_download')).prop({checked:!0}).change();$('#lumise-print-nav button[data-func="download"]').trigger('click');lumise.fn.set_url('print_download',null)}
if(lumise.fn.url_var('cart','')!==''){lumise.data.stages[lumise.render.stage_nav()].screenshot=lumise.tools.toImage({stage:lumise.data.stages[lumise.render.stage_nav()],is_bg:'full',multiplier:1/window.devicePixelRatio});lumise.tools.save()}}},err=!1;if(stage.limit_zone===undefined)
return callback();xCenter=data.limit_zone!==undefined?data.limit_zone.left+(data.limit_zone.width/2):0,yCenter=data.limit_zone!==undefined?data.limit_zone.top+(data.limit_zone.height/2):0;xCenter=xCenter!==0?(stage.limit_zone.left+(stage.limit_zone.width/2))-xCenter:0;yCenter=yCenter!==0?(stage.limit_zone.top+(stage.limit_zone.height/2))-yCenter:0;lumise.f(lumise.i(88));setTimeout(do_import,1,-1)},imports:function(data,callback){if(!data||!data.stages){return lumise.fn.notice(lumise.i(25),'error')};this.discard();if(Object.keys(data.stages).length===1&&Object.keys(data.stages)[0]=='lumise'){if(data.clear!==!1&&localStorage.getItem('LUMISE-TEMPLATE-APPEND')!='true')
this.clear();var cur=lumise.current_stage;if(lumise.data.stages[cur]&&data.stages.lumise.data){if(typeof data.stages.lumise.data=='string')
lumise.data.stages[cur].data=JSON.parse(data.stages.lumise.data);else lumise.data.stages[cur].data=data.stages.lumise.data;lumise.data.stages[cur].screenshot=data.stages.lumise.screenshot;lumise.data.stages[cur].updated=data.stages.lumise.updated}}else{this.clearAll();var _stages={};Object.keys(data.stages).map(function(s){if(data.stages[s].data!==''&&typeof data.stages[s].data=='string')
data.stages[s].data=JSON.parse(data.stages[s].data);if(s==lumise.current_stage){_stages[s]=lumise.data.stages[s];_stages[s].data=data.stages[s].data;_stages[s].screenshot=data.stages[s].screenshot;_stages[s].updated=data.stages[s].updated}else{_stages[s]=data.stages[s];_stages[s].stack={data:[],state:!0,index:0};if(lumise.data.stages[s]!==undefined){_stages[s].src=lumise.data.stages[s].src;_stages[s].thumbnail=lumise.data.stages[s].thumbnail;_stages[s].source=lumise.data.stages[s].source}}
if(lumise.data.stages[s]!==undefined&&_stages[s].product_width===undefined&&lumise.data.stages[s].product_width!==undefined)
_stages[s].product_width=lumise.data.stages[s].product_width;if(lumise.data.stages[s]!==undefined&&_stages[s].product_height===undefined&&lumise.data.stages[s].product_height!==undefined)
_stages[s].product_height=lumise.data.stages[s].product_height});if(data.system_version===undefined){Object.keys(lumise.data.stages).map(function(s){if(_stages[s]===undefined){_stages[s]=lumise.data.stages[s]}})}
lumise.data.stages=_stages;lumise.render.stage_nav()};var stage=lumise.data.stages[lumise.current_stage];if(stage!==undefined&&stage.data!==undefined){let scale=1;if(stage.data.limit_zone!==undefined)
scale=stage.limit_zone.width/stage.data.limit_zone.width;if(localStorage.getItem('LUMISE-TEMPLATE-APPEND')==!0||localStorage.getItem('LUMISE-TEMPLATE-APPEND')=='true'){scale=0}
this.import(lumise.data.stages[lumise.current_stage].data,function(){if(scale!==1)
lumise.fn.scale_designs(scale);lumise.stack.save();lumise.fn.update_state();if(typeof callback=='function'){callback(lumise.data.stages[lumise.current_stage])};delete lumise.data.color;delete lumise.data.stages[lumise.current_stage].data})}else{lumise.active_stage(lumise.render.stage_nav(),callback)};lumise.fn.navigation('clear')},discard:function(){if(!lumise.stage())
return;var canvas=lumise.stage().canvas;canvas.discardActiveObject();canvas.discardActiveGroup();canvas.renderAll()},save:function(e,id,created){if(lumise.ops.importing===!0)
return;if(lumise.get.el('main').find('.lumise-stage').length===0)
return;lumise.fn.export(e=='designs'?'designs':!0,id,created);lumise.actions.do('save');if(e&&typeof e.preventDefault=='function')
e.preventDefault()},load_font:function(family,font,callback){var is_returned=!1;if(!document.fonts)
return;var ff=family.replace(/[\"\']*/g,'');if(typeof font=='string'){if(font.trim().indexOf('http')===-1&&font.trim().indexOf('data:')!==0)
font=lumise.data.upload_url+font;else if(font.trim().indexOf('data:text/plain;')>-1)
font=font.trim().replace('data:text/plain;','data:font/truetype;charset=utf-8;');if(font.trim().indexOf('url(')!==0)
font='url('+font+')';$('head').append('<style type="text/css">@font-face {font-family:"'+ff+'";src: '+font+' format("woff2");}</style>');WebFont.load({custom:{families:[ff]},active:function(){callback(family)}});return};var txt=decodeURIComponent(family).replace(/ /g,'+').replace(/\"/g,'')+':'+font[1]+':'+font[0];WebFont.load({google:{families:[txt]},active:function(){callback(family)}})},lightbox:function(ops){if(ops=='close')
return $('#lumise-lightbox').remove();var cfg=$.extend({width:1000,footer:'',content:'',onload:function(){},onclose:function(){}},ops),tmpl='<div id="lumise-lightbox" class="lumise-lightbox">\
								<div id="lumise-lightbox-body">\
									<div id="lumise-lightbox-content" style="min-width:'+cfg.width+'px">\
										'+cfg.content+'\
									</div>\
									'+cfg.footer+'\
									<a class="kalb-close" href="#close" title="Close">\
										<i class="lumisex-android-close"></i>\
									</a>\
								</div>\
								<div class="kalb-overlay"></div>\
							</div>';if(cfg.footer!=='')
cfg.footer='<div id="lumise-lightbox-footer">'+cfg.footer+'</div>';tmpl=tmpl.replace(/\%width\%/g,cfg.width).replace(/\%content\%/g,cfg.content).replace(/\%footer\%/g,cfg.footer);tmpl=$(tmpl);$('.lumise-lightbox').remove();$('body').append(tmpl);cfg.onload(tmpl);tmpl.find('a.kalb-close,div.kalb-overlay').on('click',function(e){cfg.onclose(tmpl);$('.lumise-lightbox').remove();e.preventDefault()})},svg:{rgb2hex:function(rgb){if(rgb===null||rgb===undefined||rgb===''||rgb.indexOf('#')===0)
return rgb;rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(rgb&&rgb.length===4)?"#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2):''},invertColor:function(hexTripletColor){var color=hexTripletColor;color=color.substring(1);color=parseInt(color,16);color=0xFFFFFF^color;color=color.toString(16);color=("000000"+color).slice(-6);color="#"+color;return color},getColors:function(svg){var fills=[],strokes=[],stops=[];svg.find('[fill]').map(function(){if(this.getAttribute('fill').indexOf('rgb')>-1)
this.setAttribute('fill',lumise.tools.svg.rgb2hex(this.getAttribute('fill')));this.setAttribute('data-fill-attr-color',this.getAttribute('fill'));fills.push(this.getAttribute('fill'))});svg.find('[stroke]').each(function(){this.setAttribute('data-stroke-attr-color',this.getAttribute('stroke'));strokes.push(this.getAttribute('stroke'))});svg.find('[stop-color]').map(function(){this.setAttribute('data-stop-attr-color',this.getAttribute('stop-color'));stops.push(this.getAttribute('stop-color'))});svg.find('[style]').each(function(){if(this.style.fill&&this.style.fill!==''){fills.push(this.style.fill);this.setAttribute('data-fill-style-color',this.style.fill)};if(this.style.stroke&&this.style.stroke!==''){strokes.push(this.style.stroke);this.setAttribute('data-stroke-style-color',this.style.stroke)};if(this.style.stopColor&&this.style.stopColor!==''){stops.push(this.style.stopColor);this.setAttribute('data-stop-style-color',this.style.stopColor)}});var colors={};for(var i=0;i<fills.length;i++){if(fills[i].indexOf('url')===-1&&fills[i]!='none'){if(colors[fills[i]]===undefined)
colors[fills[i]]=1;else colors[fills[i]]++}}
for(var i=0;i<strokes.length;i++){if(strokes[i].indexOf('url')===-1&&strokes[i]!='none'){if(colors[strokes[i]]===undefined)
colors[strokes[i]]=1;else colors[strokes[i]]++}}
for(var i=0;i<stops.length;i++){if(stops[i].indexOf('url')===-1&&stops[i]!='none'){if(colors[stops[i]]===undefined)
colors[stops[i]]=1;else colors[stops[i]]++}}
return Object.keys(colors).sort(function(a,b){return(colors[a]<colors[b])?1:((colors[a]>colors[b])?-1:0)})},renderColors:function(el){var _this=this,colors=this.getColors($('#lumise-svg-edit>svg')),inps=$('#lumise-svg-tool div[data-view="current-colors"]');inps.html('');colors.map(function(color){inps.append('<span><input type="color" data-color="'+color+'" value="'+_this.rgb2hex(color)+'" style="background-color:'+color+';color: '+color+'" /></span>')});inps.find('input[type="color"]').on('input',function(e){var color=this.getAttribute('data-color'),new_color=this.value,svg=$('#lumise-svg-edit svg');svg.find('[fill][data-fill-attr-color="'+color+'"]').attr({fill:new_color});svg.find('[fill][data-stroke-attr-color="'+color+'"]').attr({stroke:new_color});svg.find('[fill][data-stop-attr-color="'+color+'"]').attr({'stop-color':new_color});svg.find('[data-fill-style-color="'+color+'"]').css({fill:new_color});svg.find('[data-stroke-style-color="'+color+'"]').css({stroke:new_color});svg.find('[data-stop-style-color="'+color+'"]').css({stopColor:new_color})});if(el!==undefined)
this.render_fills(el)},render_fills:function(e_l){var _this=this,fill=e_l.getAttribute('fill')?e_l.getAttribute('fill'):e_l.style.fill.replace(/\ /g,'').replace(/\"/g,''),stroke=e_l.getAttribute('stroke')?e_l.getAttribute('stroke'):e_l.style.stroke.replace(/\ /g,'').replace(/\"/g,''),stroke_width=e_l.getAttribute('stroke-width')?e_l.getAttribute('stroke-width'):e_l.style.strokeWidth.replace(/\ /g,'').replace(/\"/g,''),inps=$('#lumise-svg-fills-custom'),inpz=$('#lumise-svg-strokes-custom'),el=$(e_l);inps.html('');if(fill.indexOf('url')>-1){var linear=$(fill.replace('url(','').replace(')',''));linear.find('stop').each(function(i){inps.append('<span><input type="color" value="'+_this.rgb2hex(this.style.stopColor)+'" data-i="'+i+'" /><small data-i="'+i+'" title="Delete">x</small></span>')});inps.find('input').on('input',function(e){linear.find('stop').eq(this.getAttribute('data-i')).css({stopColor:this.value});_this.renderColors()});inps.find('small[data-i]').on('click',function(e){linear.find('stop').eq(this.getAttribute('data-i')).remove();$(this).parent().remove();_this.renderColors(e_l)})}else if(fill!==''){inps.append('<span><input type="color" value="'+(fill.indexOf('rgb')>-1?_this.rgb2hex(fill):fill)+'" /><small data-i="0" title="Delete">x</small></span>');inps.find('input').on('input',function(e){el.css({'fill':this.value});el.removeAttr('fill');_this.renderColors()});inps.find('small[data-i]').on('click',function(e){el.css({'fill':''});el.removeAttr('fill');$(this).parent().remove();_this.renderColors(e_l)})}else{var a=$('<a href="#">Add fill color</a>');inps.html('').append(a);a.on('click',function(e){el.css({'fill':'#4ca722'});_this.renderColors(e_l);e.preventDefault()})};if(stroke!==''){inpz.html('<input type="color" value="'+(stroke.indexOf('rgb')>-1?_this.rgb2hex(stroke):stroke)+'" /><input placeholder="Stroke width" type="range" min="0" max="50" value="'+parseFloat(stroke_width)+'" /><p><a href="#">Remove stroke</a></p>');inpz.find('input').on('input',function(e){if(this.type==='color')
el.css({'stroke':this.value});else el.css({'stroke-width':this.value});_this.renderColors()});inpz.find('a').on('click',function(e){el.css({'stroke':'','stroke-width':''});_this.renderColors(e_l);e.preventDefault()})}else{var a=$('<a href="#">Add stroke</a>');inpz.html('').append(a);a.on('click',function(e){el.css({'stroke':'#4ca722','stroke-width':'1px'});_this.renderColors(e_l);e.preventDefault()})}},replace:function(svg,new_color,color){if(svg===undefined){$('#lumise-color-picker-header i').click();return};svg.find('[fill][data-fill-attr-color="'+color+'"]').attr({fill:new_color});svg.find('[fill][data-stroke-attr-color="'+color+'"]').attr({stroke:new_color});svg.find('[fill][data-stop-attr-color="'+color+'"]').attr({'stop-color':new_color});svg.find('[data-fill-style-color="'+color+'"]').css({fill:new_color});svg.find('[data-stroke-style-color="'+color+'"]').css({stroke:new_color});svg.find('[data-stop-style-color="'+color+'"]').css({stopColor:new_color})},edit:function(){var _this=this,canvas=lumise.stage().canvas,active=canvas.getActiveObject(),svg=atob(active.src.split('base64,')[1]);$('#LumiseDesign').append('<div id="lumise-svg-workspace">\
							<div id="lumise-svg-edit">'+svg.substr(svg.indexOf('<svg'))+'\
							</div>\
							<div data-view="zoom">\
								<i class="lumisex-android-search"></i> zoom <input type="range" min="100" max="300" value="100" />\
							</div>\
							<div id="lumise-svg-tool">\
								<ul data-view="nav">\
									<li data-func="save" title="'+lumise.i('save')+'"><i class="lumisex-android-done"></i></li>\
									<li data-func="reset" title="'+lumise.i('reset')+'"><i class="lumisex-android-refresh"></i></li>\
									<li data-func="cancel" title="'+lumise.i('cancel')+'"><i class="lumisex-android-close"></i></li>\
								</ul>\
								<h3>All colors</h3>\
								<div data-view="current-colors"></div>\
							</div>\
						</div>');var svg=$('#lumise-svg-edit>svg');if(svg.attr('width')){svg.attr('data-width',svg.attr('width'));svg.removeAttr('width')};if(svg.attr('height')){svg.attr('data-height',svg.attr('height'));svg.removeAttr('height')};var w=svg.width(),h=svg.height();svg.on('click',function(e){var allw=['a','audio','canvas','circle','ellipse','foreignObject','g','iframe','image','line','mesh','path','polygon','polyline','rect','svg','switch','symbol','text','textPath','tspan','unknown','use','video'];if(allw.indexOf(e.target.tagName.toLowerCase())>-1){if($('#lumise-svg-tool div[data-view="customize"]').length===0){$('#lumise-svg-tool>ul[data-view="nav"]').after('<h3>Selection</h3>\
										<div data-view="customize">\
											<label>Fill:</label>\
											<div class="lumst" id="lumise-svg-fills">\
												<div id="lumise-svg-fills-custom"></div>\
											</div>\
										</div>\
										<div data-view="customize">\
											<label>Stroke:</label>\
											<div class="lumst" id="lumise-svg-strokes">\
												<div id="lumise-svg-strokes-custom"></div>\
											</div>\
										</div>')}
_this.render_fills(e.target)}});$('#lumise-svg-workspace input[type="range"]').on('input',function(){svg.css({'width':(w*(this.value/100))+'px','max-width':(w*(this.value/100))+'px','height':(h*(this.value/100))+'px','max-height':(h*(this.value/100))+'px'})});$('#lumise-svg-tool ul li').on('click',function(e){switch(this.getAttribute('data-func')){case 'save':svg.removeAttr('style');svg.attr({width:svg.data('width'),height:svg.data('height')});svg.removeAttr('data-width');svg.removeAttr('data-height');var canvas=lumise.stage().canvas,active=canvas.getActiveObject(),colors=_this.getColors(svg),svg_html=svg.parent().html(),src='data:image/svg+xml;base64,'+btoa(svg_html);$('#lumise-svg-workspace').remove();if(active===undefined||active===null)
return;active.set('fill','');active.set('src',src);active.set('origin_src',src);delete active.j_object;active.colors=colors;active._element.src=src;active._originalElement.src=src;active._element.onload=function(){canvas.renderAll();lumise.fn.set_svg_colors(active)};break;case 'reset':$('#lumise-svg-workspace').remove();lumise.tools.svg.edit();break;case 'cancel':$('#lumise-svg-workspace').remove();break}});this.renderColors()}}},stack:{working:!1,save:function(){if(lumise.ops.importing===!0||lumise.stack.working===!0)
return;var stage=lumise.stage(),stack=stage.stack,canvas=stage.canvas,hash='',apply=!1;canvas.getObjects().map(function(obj){if(obj.evented===!0){if(typeof obj.clipTo!='function'){obj.set('clipTo',function(ctx){return lumise.objects.clipto(ctx,obj)});apply=!0};hash+=obj.id+':'+(obj.src!==undefined?obj.src.length:'')+(obj.fill!==undefined?obj.fill:'')+(obj.stroke!==undefined?obj.stroke:'')+(obj.text!==undefined?obj.text:'')+(obj.font!==undefined?obj.font:'')+(obj.fx!==undefined?JSON.stringify(obj.fx).length:'')+obj.scaleX.toString()+obj.scaleY.toString()+obj.width.toString()+obj.height.toString()+obj.left.toString()+obj.top.toString()}});if((stack.data[stack.index]!==undefined&&hash==stack.data[stack.index].hash)||hash==='')return;if(apply){canvas.renderAll();lumise.design.layers.build()}
if(stack.data.length>50)
stack.data=stack.data.splice(stack.data.length-50);var current=lumise.tools.export(lumise.stage());current.template={stages:lumise.cart.template,price:lumise.cart.price.template};current=JSON.stringify(current);stack.data.splice(stack.index+1);stack.data.push({hash:hash,data:current});stack.index=stack.data.length-1;lumise.get.el('design-redo').addClass("disabled");if(stack.data.length>1)
lumise.get.el('design-undo').removeClass("disabled");lumise.actions.do('stack:save:complete');if(stack.data.length>1){lumise.tools.save()}else{lumise.ops.before_unload=null}},back:function(e){var stack=lumise.stage().stack,canvas=lumise.stage().canvas;if(stack.index>0){stack.state=!1;var current=JSON.parse(stack.data[stack.index-1].data);lumise.tools.clear();lumise.stack.working=!0;lumise.tools.import(current,function(){lumise.fn.update_state();lumise.stack.working=!1});stack.index--;lumise.get.el('design-redo').removeClass("disabled")}
if(stack.index===0){lumise.get.el('design-undo').addClass("disabled")}
if(e)e.preventDefault()},forward:function(e){var stack=lumise.stage().stack,canvas=lumise.stage().canvas;if(stack.data[stack.index+1]){stack.state=!1;var current=JSON.parse(stack.data[stack.index+1].data);lumise.tools.clear();lumise.stack.working=!0;lumise.tools.import(current,function(){lumise.fn.update_state();lumise.stack.working=!1});stack.index++;lumise.get.el('design-undo').removeClass("disabled")}
if(!stack.data[stack.index+1]){lumise.get.el('design-redo').addClass("disabled")}
if(e)e.preventDefault()}},get:{els:{},color:function(s){var color=$('.lumise-cart-field[data-type="product_color"]').find('li[data-color].choosed').attr('data-color');if(!color)
color=lumise.data.color?lumise.data.color:'#dedede';else color=decodeURIComponent(color);return(s!='invert'?color:lumise.fn.invert(color))},color_name:function(s){var elm=lumise.get.el('product-color').find('li[data-color].choosed');return(!elm.get(0))?'':elm.attr('title')},scroll:function(){return{top:(lumise.body.scrollTop?lumise.body.scrollTop:lumise.html.scrollTop),left:(lumise.body.scrollLeft?lumise.body.scrollLeft:lumise.html.scrollLeft)}},active:function(){return lumise.stage().canvas.getActiveObject()||lumise.stage().canvas.getActiveGroup()},stage:function(){return{stage:lumise.stage(),canvas:lumise.stage().canvas,active:lumise.stage().canvas.getActiveObject(),limit:lumise.stage().limit_zone}},size:function(){var stage=lumise.stage(),size=lumise.get.el('print-nav').find('input[name="size"]').val().split('x'),unit=$('#lumise-print-nav input[name="print-unit"]:checked').data('unit'),o=lumise.get.el('print-nav').find('select[name="orientation"]').val(),w=parseFloat(size[0].trim()),h=parseFloat(size[1]?size[1].trim():0);if(stage.size===undefined||stage.size===''){if(unit=='inch'){w*=2.54*118.095238;h*=2.54*118.095238}else if(unit=='cm'){w*=118.095238;h*=118.095238};if(size[0]===''||size[1]===undefined||size[1]===''){lumise.get.el('print-nav').find('input[name="size"]').focus();return alert(lumise.i(35))}}else if(typeof stage.size=='string'){Object.keys(lumise.data.size_default).map(function(s){if(lumise.data.size_default[s].cm==stage.size){size=lumise.data.size_default[s].px.split('x')}});w=parseFloat(size[0].trim()),h=parseFloat(size[1]?size[1].trim():0)}else if(typeof stage.size=='object'){w=parseFloat(stage.size.width);h=parseFloat(stage.size.height);if(stage.size.unit=='inch'){w*=2.54*118.095238;h*=2.54*118.095238}else if(stage.size.unit=='cm'){w*=118.095238;h*=118.095238}};return{o:o,w:w,h:h}},el:function(s){if(!lumise.get.els[s]){if($('#lumise-'+s).length>0)
lumise.get.els[s]=$('#lumise-'+s);else return $('#lumise-'+s)}
return lumise.get.els[s]},},fn:{version_compare:function(a,b){if(a===undefined||b===undefined)
return 0;var pa=a.split('.');var pb=b.split('.');for(var i=0;i<3;i++){var na=Number(pa[i]);var nb=Number(pb[i]);if(na>nb)
return 1;if(nb>na)
return-1;if(!isNaN(na)&&isNaN(nb))
return 1;if(isNaN(na)&&!isNaN(nb))
return-1}
return 0},invert:function(color){var r,g,b;if(color.indexOf('rgb')>-1){color=color.split(',');r=parseInt(color[0].trim());g=parseInt(color[1].trim());b=parseInt(color[2].trim())}else{if(color.length<6)
color+=color.replace('#','');var cut=(color.charAt(0)=="#"?color.substring(1,7):color.substring(0,6));r=(parseInt(cut.substring(0,2),16)/255)*0.213;g=(parseInt(cut.substring(2,4),16)/255)*0.715;b=(parseInt(cut.substring(4,6),16)/255)*0.072}
return(r+g+b<0.5)?'#DDD':'#333'},reversePortView:function(eff){var m=lumise.get.el('stage-'+lumise.current_stage).get(0);if(m===undefined)
return;var stage=lumise.stage(),canvas=stage.canvas,view=canvas.viewportTransform,ratio=lumise.get.el('zoom').val()/100,wr=((m.offsetWidth*ratio)/100),hr=((m.offsetHeight*ratio)/100),p={w:(stage.product.width*ratio),h:(stage.product.height*ratio),l:(stage.product.left-(stage.product.width/2))*ratio,t:(stage.product.top-(stage.product.height/2))*ratio,},w={w:m.offsetWidth,h:m.offsetHeight},_rw=p.w/w.w>1?p.w/w.w:1,_rh=p.h/w.h>1?p.h/w.h:1;var anicfg={x:view[4]>0?0:((view[4]>-p.l&&p.w>w.w)?0:(view[4]<-(canvas.width*view[0]-canvas.width)?-(canvas.width*view[0]-canvas.width):view[4])),y:view[5]>0?0:((view[5]>-p.t&&p.h>w.h)?0:(view[5]<-(canvas.height*view[0]-canvas.height)?-(canvas.height*view[0]-canvas.height):view[5]))};if(anicfg.x==view[4]&&anicfg.y==view[5])
return!0;if(eff===!1){view[5]=anicfg.y;canvas.set('viewportTransform',view);canvas.renderAll()}
return!1},onZoomThumnMove:function(e){var ratio=lumise.get.el('zoom').val()/100,m=lumise.get.el('main').get(0),delta=new fabric.Point(-e.movementX*((m.offsetWidth*ratio)/100),-e.movementY*((m.offsetHeight*ratio)/100));lumise.stage().canvas.relativePan(delta);lumise.fn.reversePortView(!1)},notice:function(content,type,delay){var i='bulb';switch(type){case 'success':i='done';break;case 'error':i='close';break};var el=lumise.get.el('notices');clearTimeout(lumise.ops.notice_timer);if(el.data('working')){el.stop().append('<span data-type="'+type+'"><i class="lumisex-android-'+i+'"></i> '+content+'</span>').animate({opacity:1,top:55},250)}else{el.data({'working':!0}).stop().html('<span data-type="'+type+'"><i class="lumisex-android-'+i+'"></i> '+content+'</span>').css({opacity:0,top:0,display:'block'}).animate({opacity:1,top:55},250)}
lumise.ops.notice_timer=setTimeout(function(){el.animate({top:0,opacity:0},250,function(){this.style.display='none';el.data({'working':!1})})},(delay?delay:1500),el)},bridgeText:function(image,ops){if(!ops)
ops={curve:-2.5,offsetY:0.4,bottom:2.5,trident:!1,oblique:!1};var s=lumise.get.stage(),w=image.width,h=image.height*2.5,curve=ops.curve!==undefined?(ops.curve/2)*image.height:-0.3*image.height,top=ops.offsetY!==undefined?ops.offsetY*image.height:0.5*image.height,bottom=ops.bottom!==undefined?ops.bottom*image.height:0.2*image.height,trident=ops.trident!==undefined?ops.trident:!1,d,i=w,y=0,angle=(ops.oblique===!0?45:180)/w;if(ops.oblique===!0)
trident=!1;if(lumise.ops.brid===undefined){lumise.ops.brid=document.createElement('canvas');lumise.ops.bctx=lumise.ops.brid.getContext('2d')}
lumise.ops.brid.width=w;lumise.ops.brid.height=h;lumise.ops.bctx.clearRect(0,0,w,h);if(trident){y=bottom;d=(curve)/(h*0.25);if((d*w*0.5)>bottom){d=bottom/(w*0.5)}}else if(ops.oblique){if(curve>bottom+(h*0.25))
curve=bottom+(h*0.25)}else{if(curve>bottom)
curve=bottom}
while(i-->0){if(trident){if(i>(w*0.5))
y-=d;else y+=d}else{y=bottom-curve*Math.sin(i*angle*Math.PI/180)}
lumise.ops.bctx.drawImage(image,i,0,1,h,i,h*0.5-top/h*y,1,y)}
return lumise.ops.brid.toDataURL()},update_text_fx:function(){var s=lumise.get.stage();if(!s.active)
return;lumise.f('Processing..');var props=s.active.toObject(lumise.ops.export_list);delete props.type;var newobj=lumise.objects.text(props);props.width=newobj.width;props.height=newobj.height;lumise.objects.lumise['text-fx'](props,lumise.fn.switch_type)},image_fx:function(img,fx,callback){if(!img)
return!1;if(fx&&fx.mask&&fx.mask.dataURL&&(fx.mask.image===undefined||fx.mask.image.src===undefined)){fx.mask.image=new Image();fx.mask.image.onload=function(){lumise.fn.image_fx(img,fx,callback)};if(fx.mask.dataURL.indexOf('http')!==0&&fx.mask.dataURL.indexOf('data:image/')!==0)fx.mask.dataURL=lumise.data.upload_url+fx.mask.dataURL;return fx.mask.image.src=fx.mask.dataURL}
var cfg=$.extend({fx:'',brightness:0,saturation:100,contrast:0,deep:0,mode:'light',mask:null},fx);if(cfg.brightness!==0)
cfg.brightness/=2;if(!lumise.ops.imageFXcanvas){lumise.ops.imageFXcanvas=document.createElement('canvas');lumise.ops.fxctx=lumise.ops.imageFXcanvas.getContext("2d")};var cv=lumise.ops.imageFXcanvas,ctx=lumise.ops.fxctx,w=img.width,h=img.height;cv.width=w;cv.height=h;ctx.clearRect(0,0,w,h);if(cfg.mask!==null&&cfg.mask.image){ctx.drawImage(cfg.mask.image,cfg.mask.left*w,cfg.mask.top*h,cfg.mask.width*w,cfg.mask.height*h);ctx.globalCompositeOperation='source-in'};ctx.drawImage(img,0,0,w,h);if(fx&&fx.crop){ctx.clearRect(0,0,w,h*fx.crop.top);ctx.clearRect(0,0,w*fx.crop.left,h);ctx.clearRect((w*fx.crop.left)+(w*fx.crop.width),0,w,h);ctx.clearRect(0,(h*fx.crop.top)+(h*fx.crop.height),w,h)};var imageData=ctx.getImageData(0,0,w,h);var data=imageData.data;if(cfg.fx!==''&&lumise_fx_map[cfg.fx])
cfg.fx=lumise_fx_map[cfg.fx]();var R,G,B,CT,brightness;var rfx,gfx,bfx;var vgrid=0;for(var i=0;i<data.length;i+=4){if(typeof cfg.fx=='object'){data[i]=cfg.fx.r[data[i]];data[i+1]=cfg.fx.g[data[i+1]];data[i+2]=cfg.fx.b[data[i+2]]};brightness=(0.4*(data[i]+cfg.brightness))+(0.4*(data[i+1]+cfg.brightness))+(0.2*(data[i+2]+cfg.brightness));brightness*=(1-cfg.saturation/100);R=brightness+data[i]*(cfg.saturation/100)+cfg.brightness;G=brightness+data[i+1]*(cfg.saturation/100)+cfg.brightness;B=brightness+data[i+2]*(cfg.saturation/100)+cfg.brightness;if(cfg.contrast!=0){CT=1+(cfg.contrast*0.01);R/=255;G/=255;B/=255;R=(((R-0.5)*CT)+0.5)*255;G=(((G-0.5)*CT)+0.5)*255;B=(((B-0.5)*CT)+0.5)*255;R=R>255?255:R;R=R<0?0:R;G=G>255?255:G;G=G<0?0:G;B=B>255?255:B;B=B<0?0:B};data[i]=R;data[i+1]=G;data[i+2]=B;if(cfg.deep>0){if(cfg.mode!='dark'){if(255-R<cfg.deep&&255-G<cfg.deep&&255-B<cfg.deep){data[i+3]=((((255-R)/cfg.deep)+((255-G)/cfg.deep)+((255-B)/cfg.deep))/3);data[i+3]=(data[i+3]>0?data[i+3]*100:0)}}else{if(R<cfg.deep&&G<cfg.deep&&B<cfg.deep){data[i+3]=(((R/cfg.deep)+(G/cfg.deep)+(B/cfg.deep))/3);data[i+3]=(data[i+3]>0?data[i+3]*100:0)}}}};ctx.putImageData(imageData,0,0);return callback(cv.toDataURL(),lumise.fn.count_colors(cv,!0))},update_image_fx:function(fx,val,callback){var s=lumise.get.stage();if(!s.active)
return;lumise.f('Processing..');clearTimeout(lumise.ops.update_image_fx_timer);lumise.ops.update_image_fx_timer=setTimeout(function(){var next_step=function(){if(s.active.fx===undefined||s.active.fx===null)
s.active.fx={};if(fx!==undefined)
s.active.fx[fx]=val;if(!s.active.fxOrigin){s.active.fxOrigin=new Image();s.active.fxOrigin.src=(s.active.full_src!==undefined&&s.active.full_src!=='')?s.active.full_src:s.active.src;s.active.fxOrigin.onload=next_step};lumise.fn.image_fx(s.active.fxOrigin,s.active.fx,function(cdata,colors){s.active._element.src=cdata;s.active._originalElement.src=cdata;s.active.colors=colors;s.active._element.onload=function(){s.canvas.renderAll();lumise.f(!1);if(typeof callback=='function')
callback()}})};if(!s.active.fxOrigin||!s.active.fxOrigin.tagName){if(s.active.full_src){s.active.fxOrigin=new Image();s.active.fxOrigin.src=(s.active.full_src!==undefined&&s.active.full_src!=='')?s.active.full_src:s.active.src;s.active.fxOrigin.onload=next_step;return};s.active._originalElement.cloneNode(!0)};next_step()},1)},refresh_image_fx:function(active,callback){if(typeof callback!='function')
callback=function(){};if(!active||active.fx===undefined||active.fx===null||Object.keys(active.fx).length===0)return callback();lumise.f('Processing FX..');clearTimeout(lumise.ops.update_image_fx_timer);lumise.ops.update_image_fx_timer=setTimeout(function(){if(!active.fxOrigin||!active.fxOrigin.tagName)
active.fxOrigin=active._originalElement.cloneNode(!0);lumise.fn.image_fx(active.fxOrigin,active.fx,function(cdata,colors){active._element.src=cdata;active._originalElement.src=cdata;active.colors=colors;active._element.onload=function(){lumise.stage().canvas.renderAll();lumise.f(!1);callback()}})},1)},fill_svg:function(data,color){if(data.toString().indexOf('data:image/svg+xml;base64,')===-1)
return data;var svg=atob(data.split(',')[1]),span=$('<span>'+svg.substr(svg.indexOf('<svg'))+'</span>');if(color&&color!=='')
span.find('svg,path').attr({'fill':color});svg='data:image/svg+xml;base64,'+btoa(span.html());delete span;return svg},product_color:function(color){if(color===undefined||color==='')
color='#dedede';sessionStorage.setItem("LUMISE-CHANGE-COLOR","true");var stage=lumise.stage();if(stage.limit_zone){var invert=lumise.fn.invert(color);stage.limit_zone.set('stroke',invert);stage.productColor.set('fill',color);stage.canvas.renderAll();Object.keys(lumise.data.stages).map(function(s){if(s!=lumise.current_stage&&lumise.data.stages[s].canvas!==undefined){lumise.data.stages[s].productColor.set('fill',color);lumise.data.stages[s].canvas.renderAll()}});lumise.tools.save()}
lumise.actions.do('product-color',color)},set_svg_colors:function(obj){if(obj.j_object===undefined){var svg_source=obj.src.split('base64,')[1];svg_source=atob(svg_source);svg_source=svg_source.substr(svg_source.indexOf('<svg'));obj.j_object=$('<div>'+svg_source+'</div>')};var max=(lumise.get.el('svg-colors').parent().width()-180)/33,colors=lumise.tools.svg.getColors(obj.j_object),total=colors.length;if(max<6)
max=6;else if(max>15)
max=15;if(total===0){obj.j_object.find('svg>*').css({fill:'#000000'});colors=lumise.tools.svg.getColors(obj.j_object)};obj.colors=colors.slice();colors.splice(max);lumise.get.el('svg-colors').find('>span').remove();colors.map(function(c){lumise.get.el('svg-colors').append('<span data-view="noicon" data-color="'+c+'"><input type="text" data-color="'+c+'" readonly value="" style="background:'+c+'" /></span>')});if(total>colors.length){lumise.get.el('svg-colors').append('<span data-view="more">+'+(total-colors.length)+'</span>')};lumise.get.el('svg-colors').append('<span data-view="btn" data-tip="true"><i class="lumisex-wand" data-func="editor"></i><span>'+lumise.i(138)+'</span></span>')},switch_type:function(newobj){var s=lumise.get.stage();if(newobj!==null){lumise.ops.importing=!0;var index=s.canvas.getObjects().indexOf(s.active);s.canvas.remove(s.active);s.canvas.add(newobj);newobj.moveTo(index);s.canvas.setActiveObject(newobj).renderAll();lumise.get.el('top-tools').attr({'data-view':newobj.type});lumise.design.layers.build();lumise.ops.importing=!1}else alert(lumise.i(19));lumise.f(!1)},download_design:function(ops){var type=ops.type,include_base=ops.include_base,stage=lumise.stage(),canvas=stage.canvas,wcf="menubar=0,status=0,titlebar=0,toolbar=0,location=0,directories=0",ex={format:'png',multiplier:2,width:stage.product.width,height:stage.product.height,top:stage.product.top-(stage.product.height/2),left:stage.product.left-(stage.product.width/2)},name=lumise.data.prefix_file+'_'+lumise.fn.slugify($('#lumise-product header name t').text())+'_'+lumise.current_stage;if(lumise.fn.url_var('order_print','')!==''){name='order-'+lumise.fn.url_var('order_print')+'__product-'+lumise.fn.url_var('product_cms')+'__base-'+lumise.fn.url_var('product_base')+'__stage-'+(Object.keys(lumise.data.stages).indexOf(lumise.current_stage)+1)}
lumise.get.el('zoom').val(100).trigger('input');switch(type){case 'svg':var svg_obj=lumise.fn.export_svg(include_base);if(svg_obj!==null){lumise.fn.download('data:image/svg+xml;base64,'+btoa(svg_obj),name+'.svg');delete svg_obj}else lumise.fn.notice('Error on render SVG','error');break;case 'png':var h=ops.height,w=ops.width;if(window.devicePixelRatio==3&&h*w>=16777216){let r=16777216/h*w;h=h*r;w=w*r};var o=ops.orien,bg=canvas.backgroundColor,multiplier=w/(stage.limit_zone.width-1),mp=o!='landscape'?multiplier:multiplier*(canvas.width/canvas.height),dops={stage:stage,top:stage.limit_zone.top,left:stage.limit_zone.left,width:stage.limit_zone.width,height:stage.limit_zone.height,multiplier:mp,is_bg:include_base===!0?'full':!1,with_base:ops.with_base},data=lumise.tools.toImage(dops),_canvas=document.createElement('canvas'),ctx=_canvas.getContext("2d"),img=new Image();if(multiplier>33)
multiplier=33;if(typeof ops.callback!='function'){ops.callback=function(data){lumise.fn.download(data,name+'.png')}};if(o!='landscape'){_canvas.width=w;_canvas.height=h;img.onload=function(){var _w=this.width,_h=this.height;if(_w!=w){_h=(_h/_w)*w;_w=w}
if(_h>h){_w=(_w/_h)*h;_h=h}
ctx.drawImage(this,(w-_w)/2,0,_w,_h);lumise.f('false');ops.callback(_canvas.toDataURL());delete _canvas;delete ctx};img.src=data}else{multiplier=(w/stage.limit_zone.width)<33?h/stage.limit_zone.width:33;var data=lumise.tools.toImage({stage:stage,width:stage.limit_zone.width,left:stage.limit_zone.left,multiplier:mp,is_bg:include_base===!0?'full':!1});_canvas.width=w;_canvas.height=h;img.onload=function(){ctx.translate(_canvas.width/2,_canvas.height/2);ctx.rotate(Math.PI/2);var ih=w,iw=w*(this.width/this.height);if(iw>w){ih=ih*(w/iw);iw=w}
if(ih>h){iw=iw*(h/ih);ih=h}
ctx.drawImage(this,-iw/2,-ih/2,iw,ih);ctx.rotate(-Math.PI/2);ctx.translate(-_canvas.width/2,-_canvas.height/2);lumise.f('false');ops.callback(_canvas.toDataURL());delete _canvas;delete ctx};img.src=data};break;case 'jpg':ex.format='jpeg';lumise.fn.download(canvas.toDataURL(ex),name+'.jpg');break;case 'pdf':lumise.tools.discard();var stages=Object.keys(lumise.data.stages),inactive=stages.filter(function(s){return lumise.data.stages[s].canvas===undefined}),data=[],ratio=[],fonts=[],do_export=function(){var exp=lumise.fn.export_svg(include_base,!0),stage=lumise.stage();data.push([exp[0],lumise.get.size()]);if(!lumise.get.el('print-base').prop('checked'))
ratio.push((stage.edit_zone.width/stage.edit_zone.height).toFixed(5));else ratio.push((stage.product.width/stage.product.height).toFixed(5));exp[1].map(function(f){if(fonts.indexOf(f)===-1)
fonts.push(f)})},do_activ=function(i){lumise.active_stage(stages[i],function(){do_export();if(stages[i+1]!==undefined)
do_activ(i+1);else do_upload(data,fonts)})},do_upload=function(data,fonts){var pdf_render=window.open(lumise.data.ajax+'&action=pdf&nonce=LUMISE-SECURITY:'+lumise.data.nonce+(fonts.length>0?'&fonts='+encodeURIComponent(fonts.join('|')):'')+(lumise.get.el('print-cropmarks').prop('checked')?'&cropmarks=1':''));lumise.f(!1);if(pdf_render===null){alert('Please allow popup on this site');return};pdf_render.addEventListener('load',function(){this.window.renderPDF(data,URL)});return;lumise.f('Start uploading..');var boundary="---------------------------7da24f2e50046";var body='--'+boundary+'\r\n'+'Content-Disposition: form-data; name="file";'+'filename="temp.txt"\r\n'+'Content-type: plain/text\r\n\r\n'+data.join('<!-----Lumise break page------>')+'\r\n'+'--'+boundary+'--';$.ajax({contentType:"multipart/form-data; boundary="+boundary,data:body,type:"POST",url:lumise.data.ajax+'&action=render_pdf'+'&ajax=frontend'+'&name='+encodeURIComponent($('#lumise-product header name t').text())+'&nonce=LUMISE-SECURITY:'+lumise.data.nonce,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;if(percentComplete<1)
$('div#LumiseDesign').attr({'data-msg':parseInt(percentComplete*100)+'% upload complete'});else $('div#LumiseDesign').attr({'data-msg':lumise.i(159)})}},!1);return xhr},success:function(res,status){lumise.f(!1);if(res.indexOf('user_data')!==0||res.indexOf('.pdf')===-1){alert(res);return}
var a=document.createElement('a');a.download=name+'.pdf';a.href=lumise.data.upload_url+res;a.click();delete a}})};if(ops.full===undefined||ops.full!==!0){do_export();return do_upload(data,fonts)};if(inactive.length>0){lumise.active_stage(inactive[0],function(){lumise.fn.download_design(ops)});return};lumise.f('Start rendering..');do_activ(0);break;case 'json':var data={stages:{},type:lumise.data.type,updated:new Date().getTime()/1000,name:lumise.data.name},sts=[];lumise.get.el('stage-nav').find('li[data-stage].active').each(function(){var s=this.getAttribute('data-stage'),stage=lumise.data.stages[s],objs,padding;if(stage.canvas){data.stages.lumise={data:lumise.tools.export(stage),screenshot:lumise.tools.toImage({stage:stage}),edit_zone:stage.edit_zone,image:stage.image,overlay:stage.overlay,updated:data.updated};objs=stage.canvas.getObjects().filter(function(o){if(o.evented===!0){return!0}else return!1});if(objs.length>0){var group=new fabric.Group(objs,{originX:'center',originY:'center'});padding=[(group.left-(group.width/2)-stage.limit_zone.left)/stage.limit_zone.width,(group.top-(group.height/2)-stage.limit_zone.top)/stage.limit_zone.height];stage.canvas._activeObject=null;stage.canvas.setActiveGroup(group.setCoords()).renderAll();stage.canvas.discardActiveGroup()}else{padding=[0,0]};data.stages.lumise.padding=padding;sts.push(s)}else if(stage.data){data.stages.lumise={data:stage.data,screenshot:'',edit_zone:'',image:'',overlay:stage.overlay,updated:stage.data.updated,padding:[0,0]};sts.push(s)}});if(data!=undefined&&data.stages!=undefined&&data.stages.lumise!=undefined&&data.stages.lumise.data!=undefined&&data.stages.lumise.data.objects!=undefined&&data.stages.lumise.data.objects.length>0){console.log(JSON.stringify(data.stages.lumise.data.objects));data.stages.lumise.data.objects.map(function(detailObj,index){if(detailObj.type=='i-text'||detailObj.type=='text-fx'||detailObj.type=='curvedText'){let targetText=detailObj.text;let reg=/([^a-zA-Z0-9 ])/gm;let res=targetText.replace(reg,function(character_detect){let charCode="&#x000"+character_detect.codePointAt(0)+';';return charCode});detailObj.text=res;data.stages.lumise.data.objects[index]=detailObj}})}
lumise.fn.download('data:application/octet-stream;charset=utf-16le;base64,'+btoa(JSON.stringify(data).replace(/[\u{0080}-\u{FFFF}]/gu,(v)=>{return encodeURIComponent(v)})),name+'.lumi');break}},download:function(data,name){lumise.fn.dataURL2Blob(data,function(blob){var a=$('<a href="'+URL.createObjectURL(blob)+'" download="'+name.replace(/\"/g,'')+'"></a>');if(typeof a.get(0).download!='string'){lumise.fn.notice('After saving the download file, change the file type to .'+name.split('.')[1].toUpperCase(),'notice',5000);return window.open(URL.createObjectURL(blob),name);delete a};$('body').append(a);a.get(0).click();URL.revokeObjectURL(a.href);a.remove()})},export_svg:function(include_base,is_pdf){var stage=lumise.stage(),canvas=stage.canvas,fonts=[];if(is_pdf===undefined)
is_pdf=!1;if(include_base!==undefined&&include_base===!1){stage.productColor.set('visible',!1);stage.product.set('visible',!1);var cbc=canvas.backgroundColor;canvas.backgroundColor='rgba(0,0,0,0)'};var svg_obj=$('<div>'+canvas.toSVG()+'</div>'),objs=canvas.getObjects(),fml=[],svg=svg_obj.find('svg'),lz=stage.limit_zone,ov=$('#lumise-print-overflow').prop('checked'),has_imagebox=(objs.filter(function(ie){return ie.type=='imagebox'}).length>0),radius=lumise.stage().edit_zone.radius,toUni=function(txt){var result="";for(var i=0;i<txt.length;i++){result+='&#x'+('000'+txt[i].charCodeAt(0).toString(16)).substr(-4)+';'};return result};if(include_base!==undefined&&include_base===!1){stage.productColor.set('visible',!0);stage.product.set('visible',!0);canvas.backgroundColor=cbc};svg_obj.find('tspan').each(function(){if(this.innerHTML=='&amp;'){this.innerHTML='&#x26;'}else{this.innerHTML='<!--lmstart-->'+toUni(this.innerHTML)+'<!--lmend-->'}});svg_obj.find('text').each(function(){var id=this.parentNode.getAttribute('id'),obj=objs.filter(function(o){return o.id==id});if(obj.length>0&&obj[0].charSpacing>0)
this.setAttribute('letter-spacing',(obj[0].charSpacing*0.001)+'em');this.setAttribute('font-family',this.getAttribute('font-family').replace(/\'/g,''));var text_style=this.getAttribute('style')+'paint-order: stroke;';this.setAttribute('style',text_style)});if(svg_obj.find('defs').length===0)
svg_obj.find('svg').append("<defs></defs>");if(has_imagebox!==!0){var limitZ=$('<g'+(ov===!0?' clip-path="url(#limit-zone-path)"':'')+'></g>');svg.append(limitZ);svg.find('defs').append('<clipPath id="limit-zone-path">\
							<rect x="'+lz.left+'" y="'+lz.top+'" rx="'+radius+'" ry="'+radius+'" width="'+lz.width+'" height="'+lz.height+'" />\
						</clipPath>')};objs.map(function(o){var font='';if(o&&o.evented&&o.fontFamily!==undefined&&o.fontFamily!==''&&typeof o.font=='object'&&o.font.length===2&&fml.indexOf(o.fontFamily.replace(/\"/g,''))===-1){font=o.fontFamily.replace(/\"/g,'');fml.push(font)};if(o.fontFamily!==undefined&&o.fontFamily!==''&&typeof o.font=='string'&&o.font.indexOf('data:text/plain;base64')===0){var ff=o.font.replace('data:text/plain;base64,','data:font/truetype;charset=utf-8;base64,');font=o.fontFamily.replace(/\"/g,'');svg_obj.find('defs').append("<style type=\"text/css\">"+"@font-face {font-family: '"+font+"';"+"src: url("+ff+") format('woff2');}"+"</style>")};if(o.type=='imagebox'){var ib=svg_obj.find('#'+o.id);var ib_el=objs.filter(function(ie){return ie.imagebox!==undefined&&ie.imagebox==o.id});if(ib_el.length>0){var trn1=ib.parent().attr('transform').split('(')[1].split(')')[0].split(' '),trn2=svg_obj.find('#'+ib_el[0].id).parent().attr('transform').split('(')[1].split(')')[0].split(' ');svg_obj.find('defs').append('<clipPath id="imagebox-'+o.id+'">\
									<rect transform="translate('+(parseFloat(trn1[0])-parseFloat(trn2[0]))+' '+(parseFloat(trn1[1])-parseFloat(trn2[1]))+')" x="'+ib.attr('x')+'" y="'+ib.attr('y')+'" rx="0" ry="0" width="'+o.width+'" height="'+o.height+'" />\
								</clipPath>');svg_obj.find('#'+ib_el[0].id).parent().get(0).setAttribute('clip-path','url(#imagebox-'+o.id+')')};if(ib.parent().get(0).tagName=='g')
ib.parent().remove();else ib.remove()};if(o.full_src!==undefined&&o.full_src!=='')
svg_obj.find('image#'+o.id).attr({'xlink:href':o.full_src});if(o&&o.evented&&!has_imagebox){limitZ.append(svg_obj.find('#'+o.id).parent().get(0)&&svg_obj.find('#'+o.id).parent().get(0).tagName=='g'?svg_obj.find('#'+o.id).parent():svg_obj.find('#'+o.id))};if(font!==''&&fonts.indexOf(font)===-1)
fonts.push(font)});if(fml.length>0){svg_obj.find('defs').append('<style type="text/css">@import url(\'http://fonts.googleapis.com/css?family='+fml.join('|')+'\');</style>')};svg_obj.find('desc').html('Created with Lumise Product Designer Tool (https://www.lumise.com)');svg_obj.find('img').each(function(){var attributes=$(this).prop("attributes"),image_el=$('<image></image>');$.each(attributes,function(){image_el.attr(this.name,this.value)});$(this).after(image_el);$(this).remove()});svg_obj.find('image').each(function(){var src=this.getAttribute('xlink:href');if(src==''&&stage.backgrounds.url){src=stage.backgrounds.url}
if(src.indexOf('http')===0){var id=this.getAttribute('id'),canvas=document.createElement('canvas'),ctx=canvas.getContext('2d'),obj=lumise.stage().canvas.getObjects().filter(function(o){return o.id==id});if(obj.length===0&&src==lumise.stage().product._element.src)
obj=[lumise.stage().product];if(obj.length===0)
return;var el=obj[0]._element;canvas.width=el.width;canvas.height=el.height;ctx.drawImage(el,0,0,el.width,el.height);this.setAttribute('xlink:href',canvas.toDataURL('image/'+(src.indexOf('.png')?'png':'jpeg')))}});var stage=lumise.stage();stage.canvas.getObjects().filter(function(o){return o.type=='svg'}).map(function(o,i){var el=svg_obj.find('image[id="'+o.id+'"]'),sv=$('<div>'+atob(o.src.split(',')[1])+'</div>'),s_v=sv.find('svg').get(0),vb=s_v.getAttribute('viewBox')?s_v.getAttribute('viewBox'):s_v.getAttribute('viewbox');vb=vb.replace(/\,/g,' ').replace(/  /g,' ').split(' ');if(!s_v.getAttribute('width'))
s_v.setAttribute('width',vb[2]);if(!s_v.getAttribute('height'))
s_v.setAttribute('height',vb[3]);var x=parseFloat(vb[0]),y=parseFloat(vb[1]),w=parseFloat(s_v.getAttribute('width').toString().replace(/[^0-9.\-]/g,'')),h=parseFloat(s_v.getAttribute('height').toString().replace(/[^0-9.\-]/g,'')),rx=o.width/parseFloat(vb[2]),ry=o.height/parseFloat(vb[3]),l=(o.width/2)+(x*rx),t=(o.height/2)+(y*ry),g='<g transform="translate(-'+l+' -'+t+') scale('+rx+' '+ry+')">';$.each(s_v.attributes,function(){if(this.name.indexOf('xmlns:')===0&&!svg_obj.find('svg').attr(this.name))
svg_obj.find('svg').attr(this.name,this.value)});$(s_v).find('[stroke-width]').each(function(){this.setAttribute('stroke-width',parseFloat(this.getAttribute('stroke-width')*rx))});g+=s_v.innerHTML+'</g>';el.after(g);el.remove();return;var canvas=document.createElement('canvas'),ctx=canvas.getContext('2d');canvas.width=o._element.width*5;canvas.height=o._element.height*5;ctx.drawImage(o._element,0,0,o._element.width*5,o._element.height*5);svg_obj.find('image[id="'+o.id+'"]').get(0).setAttribute('xlink:href',canvas.toDataURL('image/png'))});if(include_base!==undefined&&include_base===!1){svg.attr({width:800,height:lz.height*(800/lz.width)});svg.get(0).setAttribute('viewBox',(lz.left)+' '+(lz.top)+' '+(lz.width)+' '+(lz.height))}else if(include_base!==undefined&&include_base===!0){svg.attr({width:stage.product.width,height:stage.product.height});svg.get(0).setAttribute('viewBox',(stage.product.left-(stage.product.width/2))+' '+(stage.product.top-(stage.product.height/2))+' '+(stage.product.width)+' '+(stage.product.height))}
if(is_pdf){svg.removeAttr('width');svg.removeAttr('height')};var svg_data=svg_obj.html();svg_data=svg_data.split('<!--lmstart-->');svg_data.map(function(s,i){if(i>0&&s.indexOf('<!--lmend-->')>-1){s=s.split('<!--lmend-->');s[0]=toUni(s[0]);svg_data[i]=s.join('')}});svg_data=svg_data.join('').replace(/gradienttransform/g,'gradientTransform').replace(/gradientunits/g,'gradientUnits').replace(/lineargradient/g,'linearGradient').replace(/radialgradient/g,'radialGradient').replace(/\<\/clippath\>/g,'</clipPath>').replace(/\<clippath\ /g,'<clipPath ').replace(/\>\<\/stop\>/g,'/>');if(is_pdf===!1)
return svg_data;else return[svg_data,fonts]},dataURL2Blob:function(dataURL,callback){callback(this.url2blob(dataURL))},process_files:function(files,callback,saveas){var tmpl='',file,reader={};for(f in files){if(typeof files[f]!='object')
return;if(files[f].type.indexOf('image/')!==0)
return lumise.fn.notice(lumise.i('148'),'error',5000);file=files[f];reader[f]=new FileReader();reader[f].f=f;reader[f].file=file;reader[f].addEventListener("load",function(){if(!lumise.fn.check_upload_size(reader[this.f].file)){delete reader[this.f];return};var id=parseInt(reader[this.f].file.lastModified/1000).toString(36);id=parseInt((new Date().getTime()/1000)).toString(36)+'-'+id;var url_data=this.result,img_opt={url:url_data,type:reader[this.f].file.type,size:reader[this.f].file.size,name:reader[this.f].file.name.replace(/[^0-9a-zA-Z\.\-\_]/g,"").trim().replace(/\ /g,'+')};if(url_data.indexOf('data:image/svg+xml;base64,')===0){var wrp=$('<div>'+atob(url_data.split('base64,')[1]).replace('viewbox=','viewBox=')+'</div>'),svg=wrp.find('svg').get(0),vb=svg.getAttribute('viewBox')?svg.getAttribute('viewBox'):svg.getAttribute('viewbox');if(vb===null)
return;vb=vb.replace(/\,/g,' ').replace(/  /g,' ').split(' ');if(!svg.getAttribute('width'))
svg.setAttribute('width',vb[2]);if(!svg.getAttribute('height'))
svg.setAttribute('height',vb[3]);wrp.find('[id]').each(function(){this.id=this.id.replace(/[\u{0080}-\u{FFFF}]/gu,"")});img_opt.url='data:image/svg+xml;base64,'+btoa(wrp.html());if(saveas!==!1)
new lumise.cliparts.import(id,img_opt,'prepend')}else if(saveas!==!1){let _URL=window.URL||window.webkitURL;img_preview_check=new Image();let objectUrl=_URL.createObjectURL(file);img_preview_check.onload=function(){let check_img=lumise.fn.check_upload_dimensions(img_preview_check);delete img_preview_check;if(img_opt===null){return null}
new lumise.cliparts.import(id,img_opt,'prepend')};img_preview_check.src=objectUrl};if(typeof callback=='function')
callback(img_opt);delete reader[this.f]},!1);reader[f].readAsDataURL(file)}},select_image:function(callback,saveas){var ops=lumise.ops;if(ops.image_inp===undefined){ops.image_inp=document.createElement('input');ops.image_inp.type='file';ops.image_inp.accept='.jpg,.png,.jpeg,.svg';ops.image_inp.onchange=function(){lumise.fn.process_files(this.files,this.callback,this.saveas)}};ops.image_inp.type='text';ops.image_inp.value='';ops.image_inp.type='file';ops.image_inp.callback=callback;ops.image_inp.saveas=saveas;ops.image_inp.click()},replace_image:function(url,image){lumise.f(!1);lumise.fn.crop({src:url,width:image.width,dimension:image.width/image.height,square:!1,load:function(img,crop){var are=crop.find('div.lumise_crop_selArea'),pw=are.parent().width(),ph=are.parent().height(),w=pw*0.9,h=w*(image.height/image.width);if(h<ph){are.css({width:w+'px',height:h+'px',top:((ph-h)/2)+'px',left:((pw-w)/2)+'px',})}else{h=ph*0.9;w=h*(image.width/image.height);are.css({width:w+'px',height:h+'px',top:((ph-h)/2)+'px',left:((pw-w)/2)+'px',})}
crop.trigger('mousedown').off('mousemove touchmove')},save:function(crop){var s=lumise.stage(),active=s.canvas.getActiveObject(),el=crop.find('.lumise_crop_selArea');if(active){var _e=el.get(0),_c=crop.get(0),img=crop.find('img.lumise_crop_img').get(0),cv=document.createElement('canvas'),ctx=cv.getContext('2d'),type=lumise.fn.get_type(img.src),w=img.naturalWidth*(_e.offsetWidth/_c.offsetWidth),h=img.naturalHeight*(_e.offsetHeight/_c.offsetHeight),iw=active.width,ih=iw*(el.height()/el.width());cv.width=w;cv.height=h;ctx.drawImage(img,-_e.offsetLeft*(img.naturalWidth/_c.offsetWidth),-_e.offsetTop*(img.naturalHeight/_c.offsetHeight),img.naturalWidth,img.naturalHeight);var src=cv.toDataURL('image/'+type);delete cv;delete ctx;if(w>s.limit_zone.width||h>s.limit_zone.height){setTimeout(lumise.fn.large_image_helper,1,{w:w,h:h,ew:s.limit_zone.width,eh:s.limit_zone.height,iw:iw,ih:ih,el:cv,obj:active,src:src,callback:function(){lumise.ops.importing=!1;lumise.stack.save()}})}else{active.setSrc(src,function(){active.set({full_src:'',width:active.width,height:active.width*(el.height()/el.width()),origin_src:src,src:src,type:'image'});s.canvas.renderAll()})}};return;var s=lumise.stage(),main_canvas=s.canvas,active=image,img=crop.find('img.lumise_crop_img').get(0),type=img.src.indexOf('data:image/jpeg')?'jpeg':'png',canvas=document.createElement('canvas'),ctx=canvas.getContext('2d'),area=crop.find('div.lumise_crop_selArea'),w=area.width(),h=area.height(),t=area.get(0).offsetTop,l=area.get(0).offsetLeft;canvas.width=w;canvas.height=h;ctx.drawImage(img,-l,-t,area.parent().width(),area.parent().height());var ow=active.width,oh=active.height,src=canvas.toDataURL('image/'+type);delete canvas;delete ctx;active.setSrc(src,function(){active.set({width:ow,height:ow*(h/w),origin_src:src,src:src,type:'image'});main_canvas.renderAll()});delete canvas}})},imagebox_select_file:function(ib){this.select_image(function(opt){lumise.tools.import({objects:[{type:'image',src:opt.url,width:ib.width,left:ib.left,top:ib.top,imagebox:ib.id,evented:!0}]},function(){})})},imagebox_arrange:function(){var stage=lumise.stage(),canvas=stage.canvas,objs=canvas.getObjects();objs.map(function(o){if(o.type=='imagebox')
o.moveTo(2)});canvas.renderAll()},preset_import:function(data,pos,callback){var stage=lumise.stage();lumise.f('Loading..');pos=$.extend({width:stage.limit_zone.width*0.8,left:stage.limit_zone.left+(stage.limit_zone.width/2),top:stage.limit_zone.top+(stage.limit_zone.height/2)},pos);data.map(function(d,i){if(d.type=='upload')
d.type='image';if(d.id){if(lumise.cliparts.uploads[d.id])
d.url=lumise.cliparts.uploads[d.id];else if(lumise.cliparts.storage[d.id])
d.url=lumise.cliparts.storage[d.id]}
if(d.text&&!d.name)
d.name=d.text.substr(0,30);if(d.url){if(d.url.indexOf('data:image/svg+xml;base64,')>-1||d.url.split('.').pop().trim()=='svg'){d.type='svg'}else d.type='image';d.src=d.url;delete d.url}
if(d.font!==undefined&&decodeURIComponent(d.font)!=d.font)
d.font=JSON.parse(decodeURIComponent(d.font));Object.keys(pos).map(function(i){if(['left','top'].indexOf(i)>-1&&d[i]!==undefined)
d[i]+=pos[i];else if(d[i]===undefined)
d[i]=pos[i]});if(!d.name)(d.name=d.url&&d.url.indexOf('data:image')===-1)?d.url.split('/').pop():(d.type=='svg'?'New SVG':'New Image');var fill_default=lumise.get.color('invert');if(lumise.data.colors!==undefined&&lumise.data.colors!==''){fill_default=lumise.data.colors.split(',')[0];if(fill_default.indexOf(':')>-1)
fill_default=fill_default.split(':')[1];fill_default=fill_default.split('@')[0]};if(d.type=='i-text'||d.type=='text-fx'){d.fill=fill_default}
delete d.save;data[i]=d});lumise.tools.import({objects:data},function(){lumise.get.el('x-thumbn-preview').hide();setTimeout(function(){if(lumise.ops.set_active){stage.canvas.setActiveObject(lumise.ops.set_active);delete lumise.ops.set_active}else stage.canvas.setActiveObject(stage.canvas._objects[stage.canvas._objects.length-1]);lumise.tools.save();if(typeof callback=='function')
callback()},10)})},update_edit_zone:function(img,stage){var ratio=stage.product.height/img.naturalHeight;if(ratio!==1){stage.limit_zone.set({height:stage.edit_zone.height*ratio,width:stage.edit_zone.width*ratio,left:(stage.edit_zone.left*ratio)+(stage.canvas.width/2),top:(stage.edit_zone.top*ratio)+(stage.canvas.height/2)})}
if(img.naturalWidth>600){stage.product.set({width:600,height:img.naturalHeight*(600/img.naturalWidth)})}else{stage.product.set({width:img.naturalWidth,height:img.naturalHeight*(600/img.naturalWidth)})}
stage.canvas.renderAll()},ctrl_btns:function(opts){if(!opts.e)
return!1;var target=opts.target,objs=target._objects,canvas=lumise.stage().canvas,active=canvas.getActiveObject(),group=canvas.getActiveGroup(),corner=target._findTargetCorner(canvas.getPointer(opts.e,!0));if(canvas.isDrawingMode===!0)
return;if(corner=='tl'){lumise.itemInStage('remove');lumise.tools.discard();lumise.stack.save();if(objs&&objs.length>0)
objs.map(function(obj){canvas.remove(obj)});else canvas.remove(target);lumise.stack.save();lumise.design.layers.build();lumise.actions.do('object:remove');return!0}else if(corner=='bl'){lumise.fn.do_double();return!0}},navigation:function(el,e){if(lumise.ops.preventClick===!0)
return delete lumise.ops.preventClick;if(el==='clear'||$(el).hasClass('active')){if(el!=='clear'&&typeof e!=='undefined'&&el.getAttribute('data-tool')==='cart'&&e.target.getAttribute('data-func')==='remove')return;$('[data-navigation="active"]').attr({'data-navigation':''});lumise.e.main.find('li[data-tool].active').removeClass('active')}else{$('[data-navigation="active"]').attr({'data-navigation':''});if(el.getAttribute('data-tool')==='languages'&&!lumise.data.switch_lang)
return;lumise.e.main.find('li[data-tool].active').removeClass('active');$(el).addClass('active');$(el).closest('[data-navigation]').attr({'data-navigation':'active'})}},set_cookie:function(cname,cvalue,exdays){var d=new Date();if(!exdays)
exdays=365;d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},get_cookie:function(cname){var name=cname+"=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1)}
if(c.indexOf(name)==0){return c.substring(name.length,c.length)}}
return""},getTextWidth:function(op,callback){if(typeof callback!='function')
return;if(!document.fonts){return callback({width:0,height:0})}
document.fonts.load(op.size+'px "'+op.family+'"',op.text).then(function(){var canvas=lumise.ops.getTextWidthCanvas||(lumise.ops.getTextWidthCanvas=document.createElement("canvas"));var context=canvas.getContext("2d");context.font=op.size+'px '+op.family;var metrics=context.measureText(op.text);callback(metrics)})},buildText:function(ops){if(lumise.ops.texttmpl===undefined){lumise.ops.texttmpl=$('<div style="display: inline-block;visibility:hidden;white-space: nowrap;position:fixed;top: -10000px;left: -1000px;"></div>');$('body').append(lumise.ops.texttmpl)};if(ops.curved===undefined||ops.curved===0)
ops.curved=1;if(ops.curved>1)
ops.text=ops.text.trim().replace(/\n/g,' ');lumise.ops.texttmpl.html(ops.text.trim().replace(/\n/g,'<br>')).css({'line-height':ops.lineHeight+'px','letter-spacing':(ops.charSpacing)+'px','font-size':ops.fontSize+'px','font-family':ops.fontFamily});var h=lumise.ops.texttmpl[0].getBoundingClientRect(),w=h.width-ops.charSpacing,h=h.height,m1=0,m2=0,a4=0,a5=0,a6=0,a7=0,e=ops.curved,rtl=ops.rtl,spc=ops.charSpacing!==undefined?ops.charSpacing:0,txt=ops.text,lh=ops.lineHeight!==undefined&&ops.lineHeight!==0?ops.lineHeight:ops.fontSize;if(e>1){e>=360&&(e=359.999),-360>=e&&(e=-359.999),e>=0&&180>=e?(a4=0,a5=1):e>180&&360>=e?(a4=1,a5=1):0>e&&e>-180?(a4=0,a5=0):-180>=e&&e>=-360&&(a4=1,a5=0);var r=(180*w)/(Math.abs(e)*Math.PI),b=90-Math.abs(e)/2,c=90+Math.abs(e)/2,v=b*Math.PI/180,M=c*Math.PI/180,f=r*Math.cos(v),g=r*Math.sin(v),N=r*Math.cos(M),S=r*Math.sin(M),tp=new Date().getTime();e>0?(f=-1*f,g=-1*g,N=-1*N,S=-1*S):(f=-1*f,N=-1*N),Math.abs(e)>180?r+Math.abs(g):r-Math.abs(g),e>0?(m1=f+r,m2=g+r,a6=N+r,a7=S+r):(m1=f,m2=g,a6=N,a7=S)};var svg_text='';txt.trim().split("\n").map(function(t,i){svg_text+='<text fill="'+ops.fill+'" stroke="'+ops.stroke+'" stroke-width="'+(ops.strokeWidth*10)+'" stroke-linecap="butt" stroke-linejoin="miter" font-size="'+ops.fontSize+'" font-family="'+ops.fontFamily+'" letter-spacing="'+spc+'" '+(rtl?'text-anchor="end" direction="rtl"':'text-anchor="start" direction="ltr"')+'>'+(e==1?'':'<textPath xlink:href="#tp-'+tp+'">');svg_text+='<tspan dy="'+(i*lh)+'" x="'+(e==1?spc/2:0)+'">'+t+'</tspan>'+(e==1?'':'</textPath>')+'</text>'});var svg=$('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g>'+svg_text+(e==1?'':'</g><path id="tp-'+tp+'" d="M '+m1+' '+m2+' A '+r+' '+r+' 0 '+a4+' '+a5+' '+a6+" "+a7+'" fill="transparent"></path>')+'</svg>');lumise.ops.texttmpl.html('').append(svg);var text=svg.find('g').get(0).getBoundingClientRect();if((ops.textAlign=='center'||ops.textAlign=='right')&&svg.find('text tspan').length>1){svg.find('text tspan').each(function(){var tbc=this.getBoundingClientRect().width;if(ops.textAlign=='center'&&tbc<text.width)
this.setAttribute('x',(text.width-tbc)/2);if(ops.textAlign=='right'&&tbc<text.width)
this.setAttribute('x',(text.width-tbc))})};svg.attr({height:text.height,width:text.width+spc,viewBox:(e==1?0:m1-f-(text.width/2))+' -'+(ops.fontSize*0.9)+' '+(text.width+spc)+' '+(text.height)});return lumise.ops.texttmpl.html()},url2blob:function(dataURL){if(typeof dataURL!=='string'){throw new Error('Invalid argument: dataURI must be a string')}
dataURL=dataURL.split(',');var binStr=atob(dataURL[1]),len=binStr.length,arr=new Uint8Array(len);for(var i=0;i<len;i++){arr[i]=binStr.charCodeAt(i)}
return new Blob([arr],{type:dataURL[0].substring(dataURL[0].indexOf('image/'),dataURL[0].indexOf(';')-1)})},createThumbn:function(ops){var img=new Image();img.onload=function(){var cv=lumise.ops.creatThumbnCanvas?lumise.ops.creatThumbnCanvas:lumise.ops.creatThumbnCanvas=document.createElement('canvas');cv.width=ops.width;cv.height=ops.height;var ctx=cv.getContext('2d'),w=this.naturalHeight*(cv.width/this.naturalWidth)>=cv.height?cv.width:this.naturalWidth*(cv.height/this.naturalHeight),h=w==cv.width?this.naturalHeight*(cv.width/this.naturalWidth):cv.height,l=w==cv.width?0:-(w-cv.width)/2,t=h==cv.height?0:-(h-cv.height)/2;ctx.fillStyle=ops.background?ops.background:'#eee';ctx.fillRect(0,0,cv.width,cv.height);ctx.drawImage(this,l,t,w,h);ops.callback(cv)};img.src=ops.source},check_upload_size:function(file){var show_notice=lumise.apply_filters('upload_notice',!0);if(!isNaN(lumise.data.min_upload)&&lumise.data.min_upload>0&&file.size/1024<lumise.data.min_upload){if(show_notice)
lumise.fn.notice(lumise.i('147')+' '+(file.size/1024).toFixed(2)+'KB (Minimum '+lumise.data.min_upload+'KB)','error',8000);lumise.do_action('upload_minimum_limit');return!1};if(!isNaN(lumise.data.max_upload)&&lumise.data.max_upload>0&&file.size/1024>lumise.data.max_upload){if(show_notice)
lumise.fn.notice(lumise.i('147')+' '+(file.size/1024).toFixed(2)+'KB (Maximum '+lumise.data.max_upload+'KB)','error',8000);lumise.do_action('upload_maximum_limit');return!1};return!0},check_upload_dimensions:function(img){let src=img.src,type='jpeg';if(img.src.indexOf('data:image/png')===0||img.src.split('.').slice(-1)[0].toLowerCase()=='png')
type='png';if(img.src.indexOf('data:image/svg+xml')===0)
return src;if(lumise.data.min_dimensions!==''&&typeof lumise.data.min_dimensions=='object'){if(parseFloat(lumise.data.min_dimensions[0])>img.width||parseFloat(lumise.data.min_dimensions[1])>img.height){lumise.fn.notice(lumise.i(160)+' '+lumise.data.min_dimensions.join('x'),'notice',3500);return null}};if(lumise.data.max_dimensions!==''&&typeof lumise.data.max_dimensions=='object'){if(parseFloat(lumise.data.max_dimensions[0])<img.width||parseFloat(lumise.data.max_dimensions[1])<img.height){var cv=document.createElement('canvas');if(parseFloat(lumise.data.max_dimensions[0])<img.width){cv.width=parseFloat(lumise.data.max_dimensions[0]);cv.height=cv.width*(img.height/img.width);if(cv.height>lumise.data.max_dimensions[1]){cv.width=lumise.data.max_dimensions[1]*(cv.width/cv.height);cv.height=lumise.data.max_dimensions[1]}}else if(parseFloat(lumise.data.max_dimensions[1])<img.height){cv.height=parseFloat(lumise.data.max_dimensions[1]);cv.width=cv.height*(img.width/img.height);if(cv.width>lumise.data.max_dimensions[0]){cv.height=lumise.data.max_dimensions[0]*(cv.height/cv.width);cv.width=lumise.data.max_dimensions[0]}};cv.getContext('2d').drawImage(img,0,0,cv.width,cv.height);src=cv.toDataURL('image/'+type)}};let size=lumise.get.size();if(lumise.data.min_ppi!==''){var pi=300/parseFloat(lumise.data.min_ppi);if(img.width*pi<size.w||img.height*pi<size.h){if(lumise.data.ppi_notice=='1'){lumise.fn.notice(lumise.i(197),'notice',3500);return img.src}
lumise.fn.notice(lumise.i(194)+' '+lumise.data.min_ppi,'notice',3500);return null}};if(lumise.data.max_ppi!==''){var pi=300/parseFloat(lumise.data.max_ppi);if(img.width*pi>size.w||img.height*pi>size.h){lumise.fn.notice(lumise.i(195)+' '+lumise.data.max_ppi,'notice',3500);return null}};return src},get_blob:function(url,callback){var xhr=new XMLHttpRequest();xhr.open("GET",url,!0);xhr.responseType="blob";xhr.overrideMimeType("text/plain;charset=utf-8");xhr.onload=function(){var a=new FileReader();a.onload=callback;a.readAsDataURL(this.response)};xhr.onreadystatechange=function(e){if(xhr.readyState===4&&xhr.status!==200)
callback(1)};xhr.send(null)},count_colors:function(url,callback){if(!lumise.ops.count_colors_canvas)
lumise.ops.count_colors_canvas=document.createElement('canvas');var toHex=function(c){var hex=c.toString(16);return hex.length==1?"0"+hex:hex},nearest=function(x,a){return Math.floor(x/(255/a))*(255/a)},process=function(img,w,h){lumise.ops.count_colors_canvas.width=w;lumise.ops.count_colors_canvas.height=h;var stats=[],ctx=lumise.ops.count_colors_canvas.getContext("2d");ctx.drawImage(img,0,0,w,h);var idata=ctx.getImageData(0,0,w,h),data=idata.data;for(var i=0;i<data.length;i+=4){data[i]=nearest(data[i],8);data[i+1]=nearest(data[i+1],8);data[i+2]=nearest(data[i+2],4);c='#'+toHex(data[i])+toHex(data[i+1])+toHex(data[i+2]);if(stats.indexOf(c)===-1)
stats.push(c)}
return stats};if(callback===!0)
return process(url,url.width/10,url.height/10);var img=new Image();img.cb=callback;img.onload=function(){var w=this.naturalWidth/5,h=this.naturalHeight/5,stats=[],nearest=function(x,a){return Math.floor(x/(255/a))*(255/a)};if(typeof this.cb=='function')
this.cb(process(this,w,h));delete this};img.src=url},update_state:function(){clearTimeout(lumise.ops.preventDbl);lumise.ops.preventDbl=setTimeout(function(){var states={},objs=[],bg=[],colors=[],c;Object.keys(lumise.data.stages).map(function(s){var scolors=[],image=0,text=0,clipart=0,vector=0,upload=0;objs=[];if(lumise.data.stages[s].canvas)
objs=lumise.data.stages[s].canvas.getObjects();else if(lumise.data.stages[s].data&&lumise.data.stages[s].data.objects)
objs=lumise.data.stages[s].data.objects;if(objs.length>0){objs.map(function(o){if(o&&o.evented){if(o.colors&&o.colors.length>0){o.colors.map(function(c){c=lumise.tools.svg.rgb2hex(c);if(colors.indexOf(c)===-1){colors.push(c);bg.push(c)}
if(scolors.indexOf(c)===-1)
scolors.push(c)})}
if(o.stroke!==''&&o.type!='svg'){c=lumise.tools.svg.rgb2hex(o.stroke);if(colors.indexOf(o.stroke)===-1){colors.push(o.stroke);bg.push(c)}
if(scolors.indexOf(c)===-1)
scolors.push(c)};if(o.fill!==''&&o.type!='svg'){c=lumise.tools.svg.rgb2hex(o.fill);if(colors.indexOf(c)===-1){colors.push(c);bg.push(c)}
if(scolors.indexOf(c)===-1)
scolors.push(c)};if(o.template!==undefined&&o.template.length!=0){o.price=0};if(typeof o.resource!=='undefined'){switch(o.resource){case 'cliparts':clipart++;break;case 'shape':vector++;break;case 'svg':vector++;break;default:}}else{switch(o.type){case 'image':case 'image-fx':case 'qrcode':image++;break;case 'path':vector++;break;case 'svg':vector++;break;case 'i-text':case 'text-fx':case 'curvedText':text++;break;default:}}}})};states[s]={colors:scolors,images:image,vector:vector,clipart:clipart,text:text}});if(bg.length>6){mo=(colors.length-6)+'+';bg=bg.splice(bg.length-6)}else mo='';$('#lumise-count-colors i').html(mo).css({background:'linear-gradient(to right, '+bg.join(', ')+')'}).attr({title:'Used '+mo+' colors'});lumise.actions.do('updated',states);lumise.get.el('status').hide();lumise.ops.before_unload=null;lumise.render.stage_nav()},250)},create_canvas:function(stage,img){var main=lumise.get.el('main'),name=stage.name,mw=main.width()-(lumise.ops.window_width<1025?0:20),mh=main.height()-(lumise.ops.window_width<1025?-40:10);main.append('<div id="lumise-stage-'+name+'" class="lumise-stage canvas-wrapper" style="height: '+mh+'px;">\
						<canvas id="lumise-stage-'+name+'-canvas" width="'+mw+'" height="'+mh+'"></canvas>\
						<div class="lumise-snap-line-x"></div>\
						<div class="lumise-snap-line-y"></div>\
					</div>');stage.canvas=new fabric.Canvas('lumise-stage-'+name+'-canvas',{preserveObjectStacking:!0,controlsAboveOverlay:!0});stage.product={};stage.stack={data:[],state:!0,index:0};var wrp=lumise.fn.q('#lumise-stage-'+name);stage.lineX=$('#lumise-stage-'+name+' .lumise-snap-line-x');stage.lineY=$('#lumise-stage-'+name+' .lumise-snap-line-y');[['dragover',function(e){e.preventDefault();if(!lumise.ops.drag_start||!lumise.ops.drag_start.getAttribute('data-ops'))
return;var cur=stage.limit_zone.visible,zoom=lumise.stage().canvas.getZoom(),disc=lumise.ops.drag_start.distance,view=lumise.stage().canvas.viewportTransform,limit={l:(stage.limit_zone.left*zoom)+view[4],t:(stage.limit_zone.top*zoom)+view[5],w:stage.limit_zone.width*zoom,h:stage.limit_zone.height*zoom};if((e.layerX-disc.x+(disc.w/2)>limit.l)&&(e.layerX-disc.x-(disc.w/2)<limit.l+limit.w)&&(e.layerY-disc.y+(disc.h/2)>limit.t)&&(e.layerY-disc.y-(disc.h/2)<limit.t+limit.h)){stage.limit_zone.set('visible',!0)}else{stage.limit_zone.set('visible',!1)}
if(cur!=stage.limit_zone.visible)
stage.canvas.renderAll()}],['dragleave',function(e){e.preventDefault();if(stage.limit_zone.visible===!0){stage.limit_zone.set('visible',!1);stage.canvas.renderAll()}}],['drop',function(e){e.preventDefault();if(!lumise.ops.drag_start||!lumise.ops.drag_start.getAttribute('data-ops')||stage.limit_zone.visible!==!0)
return;var rect=this.getBoundingClientRect();var ops=lumise.ops.drag_start.getAttribute('data-ops');if(lumise.ops.drag_start.getAttribute('class')=='lumise-clipart'&&lumise.xitems.ops[ops]!==undefined){ops=$.extend(!0,[],lumise.xitems.ops[ops])}else{ops=JSON.parse(lumise.ops.drag_start.getAttribute('data-ops'))}
var disc=lumise.ops.drag_start.distance,zoom=lumise.stage().canvas.getZoom(),view=lumise.stage().canvas.viewportTransform;if(ops[0].type=='shape')
ops[0].url='data:image/svg+xml;base64,'+btoa(lumise.ops.drag_start.innerHTML.trim());else if(ops[0].url===undefined)
ops[0].url=lumise.cliparts.storage[ops[0].id]||lumise.cliparts.uploads[ops[0].id];if(ops[0].url&&ops[0].url.indexOf('dumb-')===0){lumise.indexed.get(ops[0].url.split('dumb-')[1],'dumb',function(res){if(res!==null){lumise.cliparts.uploads[ops[0].id]=res[0];ops[0].url=res[0];lumise.fn.preset_import(ops,{left:(((e.clientX-rect.left)/zoom)-disc.x)-(view[4]/zoom),top:(((e.clientY-rect.top)/zoom)-disc.y)-(view[5]/zoom)});delete res}})}else{lumise.fn.preset_import(ops,{left:(((e.clientX-rect.left)/zoom)-disc.x)-(view[4]/zoom),top:(((e.clientY-rect.top)/zoom)-disc.y)-(view[5]/zoom)})}}],['mousewheel',function(e){var zoom=parseFloat(lumise.get.el('zoom').val());if(e.shiftKey){zoom+=e.wheelDelta*0.15;if(zoom<100)
zoom=100;else if(zoom>250)
zoom=250;lumise.get.el('zoom').val(zoom).trigger('input');e.preventDefault()}else{if(lumise.stage().canvas.isDrawingMode===!0){var range=lumise.get.el('drawing-width'),val=parseFloat(range.val())+(e.wheelDelta*0.1);range.val(val).trigger('input');e.preventDefault()}else{var rel={x:0,y:(e.wheelDeltaY!==undefined?e.wheelDeltaY*0.25:e.wheelDelta*0.25)},canvas=lumise.stage().canvas,view=canvas.viewportTransform;if((view[5]>0&&rel.y>0)||(view[5]<-((canvas.height*view[0])-canvas.height)&&rel.y<0)||zoom===100){rel.y=0}else{e.preventDefault()};canvas.relativePan(rel);return!0}}}],['dblclick',function(e){var actv=stage.canvas.getActiveObject();if(actv&&actv.type=='i-text')
lumise.get.el('text-tools li[data-tool="spacing"]').trigger('click').find('textarea.lumise-edit-text').focus()}]].map(function(ev){wrp.addEventListener(ev[0],ev[1],!1)});stage.canvas.backgroundColor='#ebeced';stage.canvas.on(lumise.objects.events);var product=new fabric.Image(img);stage.product=product;lumise.f(!1);if(product.width>mw){product.height=product.height*(mw/product.width);product.width=mw};if(product.height>mh){product.width=product.width*(mh/product.height);product.height=mh};var ph=stage.canvas.height*0.9,pw=(product.width*(stage.canvas.height/product.height))*0.9;if(product.height<=stage.canvas.height*0.9){ph=product.height;pw=product.width};product.set({left:stage.canvas.width/2,top:(stage.canvas.height-40)/2,width:pw,height:ph,selectable:!1,evented:!1,});var color=lumise.get.color();stage.productColor=new fabric.Rect({width:pw-2,height:ph-2,left:(stage.canvas.width/2),top:((stage.canvas.height-40)/2),fill:color,selectable:!1,evented:!1,stroke:'transparent'});var ez_ratio=stage.product_width?pw/stage.product_width:1,editing={width:stage.edit_zone.width*ez_ratio,height:stage.edit_zone.height*ez_ratio,top:(stage.edit_zone.top*ez_ratio)+(((stage.canvas.height-40)/2)-(ph/2)),left:stage.edit_zone.left*ez_ratio};var radius=(stage.edit_zone.radius!==undefined&&stage.edit_zone.radius!=='')?stage.edit_zone.radius:0;radius=(radius*editing.width)/100;stage.limit_zone=new fabric.Rect({fill:'transparent',left:((stage.canvas.width/2)+editing.left)-(editing.width/2),top:(((ph/2)+editing.top)-(editing.height/2)),height:editing.height,width:editing.width,originX:'left',originY:'top',stroke:lumise.fn.invert(color),strokeDashArray:stage.crop_marks_bleed?[0,0]:[5,5],selectable:!1,evented:!1,visible:!1,radius:radius,rx:radius,ry:radius,});if(stage.overlay){stage.canvas.setOverlayImage(product);stage.canvas.add(stage.productColor,stage.limit_zone)}else{stage.canvas.add(stage.productColor,product,stage.limit_zone)};if(stage.crop_marks_bleed){stage.bleed=new fabric.Rect({fill:'transparent',left:((stage.canvas.width/2)+editing.left)-(editing.width/2)+5,top:(((ph/2)+editing.top)-(editing.height/2))+5,height:editing.height-10,width:editing.width-10,originX:'left',originY:'top',stroke:lumise.fn.invert(color),strokeDashArray:[5,5],selectable:!1,evented:!1,visible:!1,radius:radius,rx:radius,ry:radius,});stage.crop_marks=new fabric.Rect({fill:'transparent',left:((stage.canvas.width/2)+editing.left)-(editing.width/2)-5,top:(((ph/2)+editing.top)-(editing.height/2))-5,height:editing.height+5,width:editing.width+5,originX:'left',originY:'top',stroke:'#ff000038',strokeWidth:5,strokeDashArray:[0,0],selectable:!1,evented:!1,visible:!1,radius:radius,rx:radius,ry:radius,});stage.canvas.add(stage.bleed,stage.crop_marks)};if(lumise.data.auto_fit=='1'&&$(window).width()>1024){var zoom=1;if(ph<mh){zoom=(mh/ph);if(zoom*pw>mw)
zoom=(mw/pw)};if(pw<mw&&zoom<mw/pw){zoom=(mw/pw);if(zoom*ph>mh)
zoom=(mh/ph)};if(zoom*98>100){$('#lumise-zoom').val(zoom*98).attr({'data-value':parseInt(zoom*98)+'%'}).parent().attr({'data-value':parseInt(zoom*98)+'%'});stage.canvas.zoomToPoint(new fabric.Point((mw/2),((mh-40)/2)),zoom*0.98)}};lumise.mobile(!0)},stage_nav:function(name,ty){var nav=lumise.get.el('stage-nav'),ww=lumise.ops.window_width;if(name!==undefined){nav.attr({'data-name':name});if(ty!==undefined)
nav.attr({'data-pos':'right','data-ty':ty})}else name=nav.attr('data-name');nav.find('li.active').removeClass('active');nav.find('li[data-stage="'+name+'"]').addClass('active');var nex=nav.find('li.active').nextAll('li[data-stage]'),pre=nav.find('li.active').prevAll('li[data-stage]');if(nex.length>0)
nav.find('li[data-nav="next"]').removeClass('disbl').find('span').html(nex.first().find('p, span').text());else nav.find('li[data-nav="next"]').addClass('disbl');if(pre.length>0)
nav.find('li[data-nav="prev"]').removeClass('disbl').find('span').html(pre.first().find('p, span').text());else nav.find('li[data-nav="prev"]').addClass('disbl')},process_variations:function(values,el){if(lumise.cart.printing.current!=null){sessionStorage.setItem('LUMISE-PRINT-VALUE',lumise.cart.printing.current)}
lumise.cart.printing.current=null;let stages=lumise.ops.product_data.stages,vari_data={variation:null,name:lumise.ops.product_data.name,sku:lumise.ops.product_data.sku,description:lumise.ops.product_data.description,price:lumise.ops.product_data.price,printings:$.extend(!0,[],lumise.ops.product_data.printings),attributes:$.extend(!0,{},lumise.ops.product_data.attributes),stages:$.extend(!0,{},stages.stages?stages.stages:stages),printing:lumise.cart.printing.current};if(values!==null&&typeof values=='object'){Object.keys(values).map(function(k){if(values[k]!==undefined&&typeof values[k].trim=='function')
values[k]=values[k].trim();if(vari_data.attributes[k]!==undefined){vari_data.attributes[k].value=values[k]}else if(k=='printing'){vari_data.printing=values[k]}})}
if(typeof lumise.data.variations!='object'||lumise.data.variations.variations===undefined||Object.keys(lumise.data.variations.variations).length===0)
return vari_data;let obj=null,varis=lumise.data.variations;varis.attrs.map(function(a){vari_data.attributes[a].allows=[];if(el!==null&&el!==undefined&&a==el.name){vari_data.attributes[a].allows=lumise.ops.product_data.attributes[a].allows;vari_data.attributes[a].value=values[el.name]}});Object.keys(varis.variations).map(function(v){let valid=!0;Object.keys(varis.variations[v].conditions).map(function(c){if(vari_data.attributes[c].allows===undefined)
vari_data.attributes[c].allows=[''];if(el!==null&&el!==undefined&&c!=el.name&&(varis.variations[v].conditions[el.name]==''||values[el.name]==''||varis.variations[v].conditions[el.name]==values[el.name])&&vari_data.attributes[c].allows.indexOf(varis.variations[v].conditions[c])===-1){if(varis.variations[v].conditions[c]!=='')
vari_data.attributes[c].allows.push(varis.variations[v].conditions[c]);else if(typeof vari_data.attributes[c].values=='object'&&typeof vari_data.attributes[c].values.options=='object'){vari_data.attributes[c].values.options.map(function(op){if(vari_data.attributes[c].allows.indexOf(op.value)===-1)
vari_data.attributes[c].allows.push(op.value)})}
if(values[c]==varis.variations[v].conditions[c])
vari_data.attributes[c].value=values[c]}else if(el===null||el===undefined){if(varis.variations[v].conditions[c]==''){vari_data.attributes[c].allows=[''];if(typeof vari_data.attributes[c].values=='object'&&typeof vari_data.attributes[c].values.options=='object'){vari_data.attributes[c].values.options.map(function(op){if(vari_data.attributes[c].allows.indexOf(op.value)===-1)
vari_data.attributes[c].allows.push(op.value)})}}else if(vari_data.attributes[c].allows.indexOf(varis.variations[v].conditions[c])===-1)
vari_data.attributes[c].allows.push(varis.variations[v].conditions[c])}
if(varis.variations[v].conditions[c]!=""&&(vari_data.attributes[c].allows.length==1||vari_data.attributes[c].value==varis.variations[v].conditions[c])&&varis.variations[v].conditions[c]!=values[c]&&vari_data.attributes[c].allows.indexOf(varis.variations[v].conditions[c])!=-1){values[c]=varis.variations[v].conditions[c];obj=null}
if(varis.variations[v].conditions[c]!==''&&(values[c]===undefined||varis.variations[v].conditions[c]!=values[c]))valid=!1});if(valid&&obj===null){obj=varis.variations[v];obj.id=v}});if(obj!==null){['price','sku','description','minqty','maxqty'].map(function(p){if(obj[p]!==undefined&&obj[p]!==null&&obj[p]!=='')
vari_data[p]=obj[p]});if(obj.cfgprinting===!0&&obj.printings!==undefined&&obj.printings!==null&&obj.printings!==''){obj.printings.map(function(p){if(p.calculate&&typeof p.calculate=='string')
p.calculate=lumise.fn.dejson(p.calculate)});vari_data.printings=$.extend(!0,[],obj.printings);vari_data.printings_cfg=obj.printings_cfg;vari_data.cfgprinting=!0};if(obj.cfgstages===!0&&obj.stages!==undefined&&obj.stages!==null&&obj.stages!==''){vari_data.stages=$.extend(!0,{},obj.stages);vari_data.cfgstages=!0};vari_data.variation=obj.id}
return vari_data},keep_current_designs:function(new_stages){if(lumise.ops.first_completed===!1)
return new_stages;var curent_designs=lumise.fn.export().stages;curent_designs=lumise.apply_filters('filter_current_design',curent_designs,new_stages);Object.keys(curent_designs).map(function(c,i){if(typeof curent_designs[c].data=='string'){curent_designs[c].data=JSON.parse(curent_designs[c].data)}
if(curent_designs[c].data!==undefined&&curent_designs[c].data.screenshot!==undefined){delete curent_designs[c].data.screenshot}
lumise.ops.session_designs[i]=curent_designs[c].data});Object.keys(new_stages).map(function(s,i){if(lumise.ops.session_designs[i]!==undefined){new_stages[s].data=lumise.ops.session_designs[i]}});return new_stages},preview_designs:function(){lumise.get.el('stage-nav').addClass('stages-expand preview-designs')},print_detail:function(id){var table_content=qkey='',qkeys=[],qkeyind,print=lumise.data.printings.filter(function(print){if(print.id==id)
return print})[0];lumise.tools.lightbox({content:'<div class="lumise_content lumise_wrapper_table">\
								<h3 class="title">'+lumise.i(67)+' ('+print.title+')</h3>\
								<div id="lumise-print-detail">\
									<i class="lumise-spinner x3 margin-2"></i>\
								</div>\
							</div>'});$('#lumise-print-detail').html((print.description!==''?'<div>'+print.description+'</div><br>':''));if(typeof print.calculate=='string')
print.calculate=lumise.fn.dejson(print.calculate);var tab_nav='<ul class="lumise_tab_nav '+((print.calculate.multi)?'':'hidden')+'">';if(print.calculate!==undefined&&print.calculate.show_detail=='1'){var j=1,fi=Object.keys(print.calculate.values)[0];for(var i in print.calculate.values){if(print.calculate.multi){tab_nav+='<li class=><a href="#" data-side="'+i+'">'+lumise.i('stage')+' '+(j++)+'</a></li>';table_content+='<div class="lumise_tab_content" data-lumise-tab="'+i+'">'};table_content+='<table>\
								<thead>\
									<tr>\
										<th>'+lumise.i(66)+'</th>';for(var r in print.calculate.values[fi][Object.keys(print.calculate.values[fi])[0]]){table_content+='<th>'+decodeURIComponent(r)+'</th>'};table_content+='</tr></thead><tbody>';qkeys=Object.keys(print.calculate.values[i]);for(var r in print.calculate.values[i]){qkeyind=qkeys.indexOf(r);qkey=(typeof qkeys[qkeyind-1]!=='undefined')?((r.indexOf('>')>-1)?r:(parseInt(qkeys[qkeyind-1])+1)+' - '+r):'0'+' - '+r;table_content+='<tr><td>'+qkey+'</td>';for(var td in print.calculate.values[i][r]){table_content+='<td>'+((print.calculate.values[i][r][td]*1>0)?lumise.fn.price(print.calculate.values[i][r][td]):lumise.fn.price(print.calculate.values[i][r][td]))+'</td>'};table_content+='</tr>'};table_content+='\
							</tbody>\
							</table>';if(print.calculate.multi)
table_content+='</div>'};tab_nav+='</ul>';var elm=$('#lumise-print-detail');elm.append(tab_nav+table_content);lumise.trigger({el:elm,events:{'.lumise_tab_nav a:click':'active_tab'},active_tab:function(e){e.preventDefault();elm.find('li').removeClass('active');elm.find('[data-lumise-tab]').removeClass('active');$(this).closest('li').addClass('active');elm.find('[data-lumise-tab='+$(this).addClass('active').data('side')+']').addClass('active')}});elm.find('.lumise_tab_nav a:first').trigger('click')}},edit_design:function(ops){lumise.tools.save();lumise.tools.clearAll();Object.keys(lumise.data.stages).map((s,i)=>{if(Object.keys(ops.stages)[i]!==undefined&&ops.stages[Object.keys(ops.stages)[i]].data!==undefined){lumise.data.stages[s].data=ops.stages[Object.keys(ops.stages)[i]].data}});lumise.active_stage(lumise.render.stage_nav());lumise.fn.navigation('clear')},load_product:function(ops){lumise.f(lumise.i('loading'));var product=null;donow=function(res){if(res===null||res===undefined){lumise.f(!1);lumise.actions.do('noproduct');return};if(typeof res.variations=='string'&&res.variations!=='')
res.variations=lumise.fn.dejson(res.variations);else res.variations={};if(typeof res.attributes=='string'&&res.attributes!=='')
res.attributes=lumise.fn.dejson(res.attributes);else res.attributes={};if(typeof res.stages=='string')
res.stages=lumise.fn.dejson(res.stages);res.variations.default=ops.options;if(ops.printing)
res.variations.default.printing=ops.printing;if(res.variations.variations){Object.keys(res.variations.variations).map(function(v){res.variations.variations[v].printings.map(function(p){if(typeof p.calculate=='string')
p.calculate=lumise.fn.dejson(p.calculate)})})};if(typeof ops.template=='object'){lumise.cart.template=ops.template.stages;lumise.cart.price.template=ops.template.price;res.template=ops.template};res.saved_stages=ops.stages;lumise.render.product(res,function(){if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0};lumise.fn.update_state()});if(typeof ops.callback=='function')
ops.callback(res)};if(lumise.ops.products!==undefined&&typeof lumise.ops.products.products=='object')
product=lumise.ops.products.products.filter(function(p){return p.id==ops.id});if(product!==null&&product.length>0)
return donow(product[0]);lumise.post({action:'load_product',id:ops.id},donow)},export:function(save,id,created,name){var data={stages:{},type:lumise.data.type,extra:lumise.cart.price.extra,updated:new Date().getTime()/1000,name:lumise.get.el('product header name t').text().trim(),id:lumise.ops.product_data.id,system_version:lumise.data.version},thumbn={screenshot:'',stages:0,name:data.name,updated:data.updated,id:data.id,system_version:lumise.data.version};if(created!==undefined){data.created=created;thumbn.created=created};lumise.get.el('stage-nav').find('li[data-stage]').each(function(i){var s=this.getAttribute('data-stage'),stage=lumise.data.stages[s];if(!stage)
return;var activeStageStatus=$('#lumise-stage-nav ul li[data-stage="'+s+'"]').hasClass('active');if(stage.canvas){var view_port=stage.canvas.viewportTransform;stage.canvas.set('viewportTransform',[1,0,0,1,0,0]);data.stages[s]={data:lumise.tools.export(stage),edit_zone:stage.edit_zone,image:stage.image,overlay:stage.overlay,updated:data.updated,product_width:stage.product_width!==undefined?stage.product_width:stage.product.width,product_height:stage.product_height!==undefined?stage.product_height:stage.product.height,devicePixelRatio:window.devicePixelRatio};if(activeStageStatus==!0&&save!='cart'){data.stages[s].screenshot=lumise.tools.toImage({stage:stage,is_bg:'full',multiplier:1/window.devicePixelRatio});lumise.data.stages[s].screenshot=data.stages[s].screenshot}
if(sessionStorage.getItem("LUMISE-CHANGE-COLOR")!=null&&save!='cart'){data.stages[s].screenshot=lumise.tools.toImage({stage:stage,is_bg:'full',multiplier:1/window.devicePixelRatio});if(data.stages[s].screenshot!==undefined){lumise.data.stages[s].screenshot=data.stages[s].screenshot}
if((data.stages[s].screenshot==undefined||data.stages[s].screenshot=='undefined'||data.stages[s].screenshot==null)&&data.stages[s].image!=''){lumise.data.stages[s].screenshot=data.stages[s].image}
sessionStorage.removeItem("LUMISE-CHANGE-COLOR")}
if(save=='cart'){let take_screenshot=!1;lumise.data.stages[s].canvas.getObjects().map(function(obj){if(obj.evented===!0){take_screenshot=!0}});if(data.stages[s].data!=undefined&&take_screenshot==!1){delete data.stages[s].data;if(data.stages[s].image!=undefined){data.stages[s].screenshot=data.stages[s].image;lumise.data.stages[s].screenshot=data.stages[s].screenshot}}
if(take_screenshot==!0){data.stages[s].screenshot=$('#lumise-stage-nav ul li[data-stage="'+s+'"] img[data-stage="'+s+'"]').attr('src');lumise.data.stages[s].screenshot=data.stages[s].screenshot}}
stage.canvas.set('viewportTransform',view_port);stage.canvas.renderAll()}else{data.stages[s]={data:stage.data,screenshot:stage.screenshot,edit_zone:stage.edit_zone,image:stage.image,overlay:stage.overlay,updated:data.updated}};thumbn.stages++;if(thumbn.screenshot==='')
thumbn.screenshot=stage.screenshot});if(lumise.ops.first_completed===!0&&lumise.fn.url_var('order_print','')===''&&(save===!0||save=='designs'||save=='share'||typeof save=='function')){data.template={'stages':lumise.cart.template,'price':lumise.cart.price.template};if(lumise.fn.url_var('cart','')!==''){lumise.actions.do('cart-changed',data)}else if(save=='share'){return data}else if(typeof save=='function'){save(data,thumbn)}
if(save=='designs'&&lumise.ops.importing!==!0){var design_id=(id!==undefined&&id!==null&&id!='new')?id:new Date().getTime().toString(36).toUpperCase(),product_id=lumise.fn.url_var('product_base','');product_cms=lumise.fn.url_var('product_cms','');data.id=design_id;thumbn=$.extend(!0,thumbn,{id:design_id,product:product_id,product_cms:product_cms,product_cms:product_cms,printing:lumise.cart.printing.current,options:lumise.cart.data.options,template:{'stages':lumise.cart.template,'price':lumise.cart.price.template}});if(created!==undefined){thumbn.created=created;data.created=created};if(name!==undefined){thumbn.name=name;data.name=name};try{lumise.indexed.save([thumbn,data],'designs',function(){delete data;delete thumbn;lumise.actions.do('save-design',design_id)})}catch(ex){console.log(ex)}
delete lumise.ops.designs_loading;delete lumise.ops.designs_cursor}
delete data;delete thumbn};return data},set_url:function(name,val){var url=window.location.href;url=url.split('#')[0].replace(/\,/g,'').split('?');if(url[1]){var ur={};url[1].split('&').map(function(s){s=s.split('=');ur[s[0]]=s[1]});url[1]=[];if(val===null)
delete ur[name];else ur[name]=val;Object.keys(ur).map(function(s){url[1].push(s+'='+ur[s])});url=url[0]+'?'+url[1].join('&')}else if(val!==null)url=url[0]+'?'+name+'='+val;window.history.replaceState({},"",url)},url_var:function(name,def){var url=window.location.href.split('#')[0].split('?'),result=def;if(!url[1])
return def;url[1].split('&').map(function(pam){pam=pam.split('=');if(pam[0]==name)
result=pam[1]});return result},get_url:function(name,def){return this.url_var(name,def)},attr_label:function(key,attrs){if(typeof attrs=='object'&&typeof attrs.filter=='function'){var label=attrs.filter(function(a){return a.value==key});if(label.length>0&&label[0].label!==undefined)
return label[0].label;else return key}else return key},date:function(f,t){if(t===undefined||t==='')
return'';if(typeof t=='string'&&(t.indexOf('-')>-1||t.indexOf(':')>-1))
t=new Date(t);else if(t.toString().split('.')[0].length===10)
t=new Date(parseFloat(t)*1000);else t=new Date(parseFloat(t));var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],map={'t':(t.getMonth()<10?'0':'')+(t.getMonth()+1),'h':t.getHours(),'m':(t.getMinutes()<10?'0':'')+t.getMinutes(),'d':t.getDate(),'D':days[t.getDay()],'M':months[t.getMonth()],'y':t.getYear(),'Y':t.getFullYear(),};str='';f.split('').map(function(s){str+=map[s]!=undefined?map[s]:s});return str},cart_thumbn:function(id){lumise.indexed.get(id,'cart',function(res){if(res===null||res===undefined)
return;var objs=Object.keys(res.stages);for(var i=0;i<objs.length;i++){var stage=res.stages[objs[i]];var ratio=180/stage.product_height;img='<img data-view="layer" style="height: 180px;width: '+(stage.product_width*ratio)+'px; '+(i>0?"display:none;":"")+'" src="'+stage.screenshot+'" />';$('div[data-design-layer="'+id+'"]').append(img)}})},get_type:function(src){if(src.indexOf('data:image/jpeg')>-1)
return'jpeg';else if(src.indexOf('data:image/png')>-1)
return'png';else if(src.indexOf('data:image/svg')>-1)
return'svg';if(src.split('.').pop()=='jpg')
return'jpeg';else if(src.split('.').pop()=='png')
return'png';else if(src.split('.').pop()=='svg')
return'svg';return'jpeg'},scale_designs:function(scale,pos){if(scale===0)
return;var stage=lumise.stage(),canvas=stage.canvas,bd=stage.limit_zone.strokeWidth*2,objs=canvas.getObjects().filter(function(o){if(o.evented===!0){o.set('active',!0);return!0}else return!1});if(objs.length===0){return!1};scale=scale*(stage.limit_zone.width/(stage.limit_zone.width-bd));var group=new fabric.Group(objs,{scaleX:scale,scaleY:scale,originX:'center',originY:'center'});var xl=((stage.limit_zone.width-bd)/2)+stage.limit_zone.left,yl=((stage.limit_zone.height-bd)/2)+stage.limit_zone.top,left=xl-((xl-group.left)*scale),top=yl-((yl-group.top)*scale);if(pos!==undefined){if(pos.left!==undefined){left=bd+stage.limit_zone.left+((group.width/2)*scale);left+=pos.left}
if(pos.top!==undefined){top=bd+stage.limit_zone.top+((group.height/2)*scale);top+=pos.top}}
group.set({left:left,top:top});canvas._activeObject=null;canvas.setActiveGroup(group.setCoords()).renderAll();lumise.tools.discard()},font_blob:function(obj){if(typeof obj.font=='string'&&obj.font.trim().indexOf('data:')===-1){if(obj.font.indexOf('http')===-1)
obj.font=lumise.data.upload_url+obj.font;lumise.fn.get_blob(obj.font,function(){obj.set('font',this.result);lumise.tools.save()})}},clear_url:function(ex){['car','design_print','order_print','design','share'].map(function(i){if(typeof ex!=='object'||ex.indexOf(i)===-1)
lumise.fn.set_url(i,null)})},do_double:function(){var canvas=lumise.stage().canvas,active=canvas.getActiveObject(),group=canvas.getActiveGroup(),do_clone=function(ids){var clones=[];canvas.getObjects().map(function(obj){if(!obj.id||ids.indexOf(obj.id)===-1)
return;var clone=obj.toJSON();delete clone.toClip;lumise.ops.export_list.map(function(l){clone[l]=obj[l]});clone.left=((group?group.left:1)+obj.left)*1.1;clone.top=((group?group.top:1)+obj.top)*1.1;clone.thumbn=obj.thumbn;clone.replace=!1;clone.id=parseInt(new Date().getTime()/1000).toString(36)+'-'+Math.random().toString(36).substr(2);clones.push(clone)});lumise.tools.import({objects:clones},function(){})};if(active){if(active.imagebox!==undefined&&active.imagebox!==''&&canvas.getObjects().filter(function(o){return o.id==active.imagebox}).length>0)return;lumise.tools.discard();clearTimeout(lumise.ops.preventDbl);lumise.ops.preventDbl=setTimeout(do_clone,100,[active.id])}else if(group){return;var ids=[];group._objects.map(function(o){if(o.id&&ids.indexOf(o.id)===-1)
ids.push(o.id)});lumise.tools.discard();do_clone(ids);return!0;var clones=[];group._objects.map(function(obj){delete obj.clipTo;clones.push(obj.clone()?obj.clone():obj)});var new_group=new fabric.Group(clones,{left:group.left,top:group.top,scaleX:group.scaleX*5,scaleY:group.scaleY*5,});var ops={left:group.left,top:group.top,height:group.height,width:group.width,scaleX:group.scaleX,scaleY:group.scaleY,angle:group.angle,name:'Group objects',text:'Group objects',src:new_group.toDataURL()};new_group.set('scaleX',new_group.scaleX/5);new_group.set('scaleY',new_group.scaleY/5);lumise.objects.lumise.image(ops,function(obj){var index=canvas.getObjects().indexOf(group._objects[0]);lumise.stage().canvas.discardActiveGroup();group._objects.map(function(c){canvas.remove(c)});canvas.add(obj);obj.moveTo(index);lumise.stack.save();lumise.design.layers.build()})}},build_lumi:function(img){var s=lumise.stage(),cv=document.createElement('canvas'),ctx=cv.getContext('2d'),w=200,h=200*(img.naturalHeight/img.naturalWidth),time=new Date().getTime();cv.height=img.naturalHeight;cv.width=img.naturalWidth;ctx.drawImage(img,0,0,cv.width,cv.height);var urldata=cv.toDataURL('image/'+(img.src.indexOf('.png')>-1?'png':'jpeg')),data={"stages":{"lumise":{"data":{"objects":[null,null,{"type":"image","originX":"center","originY":"center","left":(w/2)+2,"top":(h/2)+2,"width":w*0.9,"height":h*0.9,"fill":"rgb(0,0,0)","stroke":"","strokeWidth":0,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":!1,"flipY":!1,"opacity":1,"visible":!0,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"crossOrigin":"","alignX":"none","alignY":"none","meetOrSlice":"meet","src":urldata,"evented":!0,"selectable":!0,"filters":[],"resizeFilters":[]}],"background":"#ebeced","devicePixelRatio":2,"product_color":"#00ff7f","limit_zone":{"width":w,"height":h,"top":0,"left":0},"edit_zone":{"height":h,"width":w,"left":0,"top":0,"radius":"0"},"product_width":s.product.width,"product_height":s.product.height,"screenshot":""},"screenshot":"","edit_zone":{"height":h,"width":w,"left":0,"top":0,"radius":"0"},"updated":time,"padding":[0,0]}},"updated":time};delete urldata;delete cv;delete ctx;delete img;return encodeURIComponent(JSON.stringify(data))},enjson:function(str){return btoa(encodeURIComponent(JSON.stringify(str)))},dejson:function(str){return JSON.parse(decodeURIComponent(atob(str)))},slugify:function(text){var a='àáạäâãấầẫậạăắằẵặèéëêếềễẹệìíĩïîịòóöôốồỗộọùúüûũụùúũđñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/_,:;',b='aaaaaaaaaaaaaaaaeeeeeeeeeiiiiiiooooooooouuuuuuuuudncsyoarsnpwgnmuxzh------',p=new RegExp(a.split('').join('|'),'g');return text.toString().toLowerCase().replace(/\s+/g,'-').replace(p,function(c){return b.charAt(a.indexOf(c))}).replace(/&/g,'-and-').replace(/[^\w\-]+/g,'').replace(/\-\-+/g,'-').replace(/^-+/,'').replace(/-+$/,'')},pimage:function(stages){for(var s in stages){if(!stages[s].image){stages[s].image=(stages[s].source=='raws'?lumise.data.assets+'raws/':lumise.data.upload_url)+stages[s].url}}
return stages},price:function(p){let price=this.number_format(parseFloat(p*1),parseInt(lumise.data.number_decimals),lumise.data.decimal_separator,lumise.data.thousand_separator,);return(lumise.data.currency_position==='0'?price+lumise.data.currency:lumise.data.currency+price)},number_format:function(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+Math.round(n*k)/k};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep)}
if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0')}
return s.join(dec)},distance:function(p1,p2){var lat1=p1.x,lon1=p1.y,lat2=p2.x,lon2=p2.y;var deg2rad=function(deg){return deg*(Math.PI/180)},dLat=deg2rad(lat2-lat1),dLon=deg2rad(lon2-lon1),a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(deg2rad(lat1))*Math.cos(deg2rad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},confirm:function(opt){var html='<div id="lumise-confirm"'+(opt.type!==undefined?' data-type="'+opt.type+'"':'')+'>\
						<conf data-label="'+(opt.label?opt.label:'Confirmation')+'">\
							<p>'+opt.title+'</p>'+(opt.primary.text!==undefined?'<button class="lumise-btn" data-btn="primary">'+opt.primary.text+(opt.primary.icon?' <i class="'+opt.primary.icon+'"></i>':'')+'</button>':'')+(opt.second.text!==undefined?'<button class="lumise-btn white" data-btn="second">'+opt.second.text+(opt.second.icon?' <i class="'+opt.second.icon+'"></i>':'')+'</button>':'')+'\
							<i class="lumisex-android-close" data-btn="close"></i>\
						</conf>\
					</div>';$('#lumise-confirm').remove();$('#LumiseDesign').append(html);lumise.trigger({el:$('#lumise-confirm'),events:{'[data-btn="primary"]':function(e){if(typeof opt.primary.callback!='function'||opt.primary.callback(e)!==!1){if(sessionStorage.getItem("LUMISE-START-NEW")===null){sessionStorage.setItem('LUMISE-START-NEW',!0)}
$('#lumise-confirm').remove()}
e.preventDefault()},'[data-btn="second"]':function(e){if(typeof opt.second.callback=='function')
opt.second.callback(e);$('#lumise-confirm').remove();e.preventDefault()},'[data-btn="close"]':function(e){$('#lumise-confirm').remove();e.preventDefault()}}})},copy:function(text){var input=document.createElement('input');input.setAttribute('value',text.replace(/\&amp\;/g,'&'));document.body.appendChild(input);input.select();document.execCommand('copy');document.body.removeChild(input)},crop:function(ops){lumise.tools.lightbox({width:ops.width!==undefined?ops.width:500,content:'<div class="lumise_crop_dragArea">\
								<img src="'+ops.src+'" class="lumise_crop_img" style="max-height: 520px;" />\
								<div class="lumise_crop_selArea">\
									<div class="lumise_crop_marqueeHoriz lumise_crop_marqueeNorth"><span></span></div>\
									<div class="lumise_crop_marqueeVert lumise_crop_marqueeEast"><span></span></div>\
									<div class="lumise_crop_marqueeHoriz lumise_crop_marqueeSouth"><span></span></div>\
									<div class="lumise_crop_marqueeVert lumise_crop_marqueeWest"><span></span></div>\
									<div class="lumise_crop_handle lumise_crop_handleN" data-target="n"></div>\
									<div class="lumise_crop_handle lumise_crop_handleNE" data-target="ne"></div>\
									<div class="lumise_crop_handle lumise_crop_handleE" data-target="e"></div>\
									<div class="lumise_crop_handle lumise_crop_handleSE" data-target="se"></div>\
									<div class="lumise_crop_handle lumise_crop_handleS" data-target="s"></div>\
									<div class="lumise_crop_handle lumise_crop_handleSW" data-target="sw"></div>\
									<div class="lumise_crop_handle lumise_crop_handleW" data-target="w"></div>\
									<div class="lumise_crop_handle lumise_crop_handleNW" data-target="nw"></div>\
									<div class="lumise_crop_clickArea" style="background-image: url(\''+ops.src+'\');" data-target="visible" title="Enter to apply">\
									</div>\
									<div class="lumise_crop_info">0 x 0</div>\
								</div>\
								<div class="lumise_crop_clickArea_scan" data-target="darken"></div>\
							</div>\
							<ul class="lumise-crop-btns">\
								<li data-func="center">\
									<i class="lumisex-resize-arrow-down"></i>\
									<span>'+lumise.i('01')+'</span>\
								</li>\
								<li data-func="horizontal">\
									<i class="lumisex-move-horizontal"></i>\
									<span>'+lumise.i('02')+'</span>\
								</li>\
								<li data-func="vertical">\
									<i class="lumisex-move-vertical"></i>\
									<span>'+lumise.i('03')+'</span>\
								</li>\
								'+(ops.square!==!1?'<li data-func="square">\
									<i class="lumisex-android-checkbox-outline-blank"></i>\
									<span>'+lumise.i('04')+'</span>\
								</li>\
								':'')+(ops.dimension!==undefined?'<li data-func="dimension" class="active">\
									<i class="lumisex-link"></i>\
									<span>'+lumise.i('168')+'</span>\
								</li>\
								':'')+'<li data-func="save">\
									'+lumise.i('save')+'\
								</li>\
								<li data-func="cancel">\
									'+lumise.i('cancel')+'\
								</li>\
							</ul>'});var crop=$('#lumise-lightbox-content div.lumise_crop_dragArea');crop.on('mousedown touchstart',function(e){if(e.type=='touchstart'){e.clientX=e.originalEvent.pageX;e.clientY=e.originalEvent.pageY}
var wrp=$(this),lightbox=$('#lumise-lightbox-content'),img=wrp.find('>img').get(0),el=wrp.find('.lumise_crop_selArea'),i=wrp.find('.lumise_crop_info'),c=wrp.find('.lumise_crop_clickArea');var ratio=img.width/img.naturalWidth,target=e.target.getAttribute('data-target'),square=lightbox.find('li[data-func="square"]').hasClass('active'),lock_dimension=lightbox.find('li[data-func="dimension"]').hasClass('active'),dimension=ops.dimension!==undefined?ops.dimension:0;if(square&&dimension===0)
dimension=1;if(lightbox.find('li[data-func="dimension"]').length>0&&!lock_dimension)dimension=0;crop.attr({'data-dimension':dimension});var _el=el.get(0),_o={t:_el.offsetTop,l:_el.offsetLeft,h:_el.offsetHeight,w:_el.offsetWidth,ph:wrp.get(0).offsetHeight,pw:wrp.get(0).offsetWidth,pl:wrp.get(0).offsetLeft,pt:wrp.get(0).offsetTop,clientX:e.clientX,clientY:e.clientY};var dark_zone=function(){var o={t:_el.offsetTop,l:_el.offsetLeft,h:_el.offsetHeight,w:_el.offsetWidth};c.css({backgroundPosition:((-o.l)+'px '+(-o.t)+'px')});i.html(Math.round(o.w/ratio)+' x '+Math.round(o.h/ratio))};if(target=='darken'){_o.l=e.clientX-$('#lumise-lightbox-body').get(0).offsetLeft+(_o.pw/2);_o.t=e.clientY-$('#lumise-lightbox-body').get(0).offsetTop+(_o.ph/2)+23;el.css({left:_o.l+'px',top:_o.t+'px',width:'0px',height:'0px',})}
dark_zone();$(this).on('mousemove touchmove',function(e){if(!target)
return!0;if(e.type=='touchmove'){e.clientX=e.originalEvent.pageX;e.clientY=e.originalEvent.pageY}
var _l=_o.l+(e.clientX-_o.clientX),_t=_o.t+(e.clientY-_o.clientY),_w=_o.w+(e.clientX-_o.clientX),_h=_o.h+(e.clientY-_o.clientY);if(target=='visible'){if(_l<0){_l=0;_o.clientX=e.clientX;_o.l=_l}
if(_t<0){_t=0;_o.clientY=e.clientY;_o.t=_t}
if(_l+_o.w>_o.pw){_l=_o.pw-_o.w;_o.clientX=e.clientX;_o.l=_l}
if(_t+_o.h>_o.ph){_t=_o.ph-_o.h;_o.clientY=e.clientY;_o.t=_t}
el.css({left:_l+'px',top:_t+'px'});dark_zone()}else if(target=='darken'){_w=_w-_o.w;_h=_h-_o.h;if(_w<0){_w=-_w;el.css({left:_l+'px'})}
if(_h<0){_h=-_h;el.css({top:_t+'px'})}
if(dimension!==0)
_h=_w/dimension;el.css({width:_w+'px',height:_h+'px'});dark_zone()}else{if(['nw','ne','n'].indexOf(target)>-1){el.css({top:_t+'px'});_h=_o.h-(e.clientY-_o.clientY)}
if(['nw','sw','w'].indexOf(target)>-1){el.css({left:_l+'px'});_w=_o.w-(e.clientX-_o.clientX)}
if(['w','e','nw','ne','se','sw'].indexOf(target)>-1){el.css({width:_w+'px'});if(dimension!==0)
el.css({height:(_w/dimension)+'px'})}
if(['n','s','nw','ne','se','sw'].indexOf(target)>-1){el.css({height:_h+'px'});if(dimension!==0)
el.css({width:(_h*dimension)+'px'})}
dark_zone()}
e.preventDefault()})});crop.find('img.lumise_crop_img').on('load',function(){var s=lumise.get.stage(),lb=$('#lumise-lightbox-content'),p;if(!s.active)
return;if(!s.active.fx||!s.active.fx.crop){p={width:Math.round(this.offsetWidth*0.8)+'px',height:Math.round(this.offsetHeight*0.8)+'px',left:Math.round(this.offsetWidth*0.1)+'px',top:Math.round(this.offsetHeight*0.1)+'px',}}else{p={width:(this.offsetWidth*s.active.fx.crop.width)+'px',height:(this.offsetHeight*s.active.fx.crop.height)+'px',left:(this.offsetWidth*s.active.fx.crop.left)+'px',top:(this.offsetHeight*s.active.fx.crop.top)+'px',}};if(ops.width===undefined&&this.offsetWidth<500)
lb.css({'min-width':this.offsetWidth});lb.find('div.lumise_crop_selArea').css(p);lb.find('div.lumise_crop_dragArea').trigger('mousedown touchstart').off('mousemove');lb.find('div.lumise_crop_clickArea').css({backgroundSize:this.offsetWidth+'px '+this.offsetHeight+'px',backgroundPosition:'-'+p.left+' -'+p.top,opacity:1});crop.trigger('mousedown').off('mousemove touchmove');if(typeof ops.load=='function')
ops.load(this,crop)});$('#lumise-lightbox-content .lumise-crop-btns li[data-func]').on('click',function(e){var func=this.getAttribute('data-func'),el=crop.find('.lumise_crop_selArea');switch(func){case 'square':if($(this).hasClass('active'))
return $(this).removeClass('active');else $(this).addClass('active');if(crop.width()>el.height())
el.css({width:el.height()+'px'});else if(crop.height()>el.width())
el.css({height:el.width()+'px'});break;case 'dimension':if($(this).hasClass('active'))
return $(this).removeClass('active');else $(this).addClass('active');break;case 'center':el.css({top:((crop.height()/2)-(el.height()/2))+'px',left:((crop.width()/2)-(el.width()/2))+'px'});break;case 'horizontal':el.css({left:((crop.width()/2)-(el.width()/2))+'px'});break;case 'vertical':el.css({top:((crop.height()/2)-(el.height()/2))+'px'});break;case 'save':if(typeof ops.save=='function')
ops.save(crop);return $('#lumise-lightbox').remove();break;case 'cancel':return $('#lumise-lightbox').remove();break}
$('#lumise-lightbox-content div.lumise_crop_dragArea').trigger('mousedown').off('mousemove').off('touchmove')});if(!lumise.actions.globalMouseUp){lumise.actions.add('globalMouseUp',function(e){if(document.querySelectorAll('#lumise-lightbox-content .lumise_crop_dragArea').length>0){var crop=$('#lumise-lightbox-content div.lumise_crop_dragArea'),area=crop.find('div.lumise_crop_selArea'),w=area.width(),h=area.height(),l=area.get(0).offsetLeft,t=area.get(0).offsetTop,pw=area.parent().width(),ph=area.parent().height();if(w>pw||w+l>pw){area.css({width:(pw-l)+'px',height:(h*((pw-l)/w))+'px'})}else if(h>ph||h+t>ph){area.css({height:(ph-t)+'px',width:(w*((ph-t)/h))+'px'})};crop.trigger('mousedown').off('mousemove').off('touchmove')}})}
return crop},large_image_helper:function(op){op.obj.set({full_src:op.src});var canvas=document.createElement('canvas'),ctx=canvas.getContext('2d');canvas.width=op.ew;canvas.height=op.ew*(op.h/op.w);if(canvas.height<op.eh){canvas.height=op.eh;canvas.width=op.eh*(op.w/op.h)};ctx.drawImage(op.el,0,0,canvas.width,canvas.height);var src=canvas.toDataURL('image/'+(op.src.indexOf('image/png')>-1||op.src.indexOf('.png')>-1?'png':'jpeg'));delete canvas;delete ctx;op.obj.setSrc(src,function(){op.obj.set({src:src,origin_src:src,width:op.iw,height:op.ih});if(op.obj.fxOrigin){op.obj.fxOrigin.onload=function(){lumise.fn.refresh_image_fx(op.obj)};op.obj.fxOrigin.src=src};lumise.stage().canvas.renderAll();if(typeof op.callback=='function')
op.callback(src)})},uncache_large_images:function(callback,revert){$('#LumiseDesign').attr({'data-processing':'true','data-msg':'Uncache processing..'});if(typeof callback!='function')
callback=function(){};var s=lumise.stage(),objs=s.canvas.getObjects(),index=0,process=function(){var obj=objs[index++];if(obj===undefined)
return callback();if(obj.full_src!==undefined&&obj.full_src!==''&&obj.type=='image'){var w=obj.width,h=obj.height,old_src=obj.src;if(revert===!0){if(obj.old_src!==undefined&&obj.old_src!==null){obj.setSrc(obj.old_src,function(){obj.set({width:w,height:h,old_src:null});lumise.fn.refresh_image_fx(obj,process)})}else return process()}else{obj.setSrc(obj.full_src,function(){obj.set({width:w,height:h,old_src:old_src});lumise.fn.refresh_image_fx(obj,process)})}}else process()};process()},calc_padding:function(stage){stage.data.objects=stage.data.objects.filter(function(s){return s!==null});if(stage.data.objects.length===0)
return[0,0];var group={};stage.data.objects.map((o)=>{let w=(o.width+2)*o.scaleX,h=(o.height+2)*o.scaleY,l=o.left-(w/2),t=o.top-(h/2);if(group.width===undefined){group={width:w,height:h,left:l,top:t};return};if(l<group.left)
group.left=l;if(t<group.top)
group.top=t;if(l+w>group.left+group.width)
group.width=l+w-group.left;if(t+h>group.top+group.height)
group.height=t+h-group.top});let res=[(group.left-stage.data.limit_zone.left)/stage.data.limit_zone.width,(group.top-stage.data.limit_zone.top)/stage.data.limit_zone.height];return res},q:function(s,m){return(m?document.querySelectorAll(s):document.querySelector(s))}},render:{colorPresets:function(){var colors=lumise.data.colors,el=$('.lumise-color-presets'),lb;if(colors!==undefined&&colors.indexOf(':')>-1)
colors=colors.split(':')[1].replace(/\|/g,',');if(lumise.data.enable_colors!='0'&&localStorage.getItem('lumise_color_presets')){colors=localStorage.getItem('lumise_color_presets').replace(/\|/g,',')};el.html('');colors.split(',').map(function(c){c=c.split('@');lb=c[0];if(c[1]!==undefined&&c[1]!=='')
lb=decodeURIComponent(c[1]).replace(/\"/g,'');else if(lumise.ops.color_maps[c[0]]!==undefined)
lb=lumise.ops.color_maps[c[0]];el.append('<li data-color="'+c[0]+'" title="'+lb+'" style="background:'+c[0]+'"></li>')});el.find('li').on('click',function(){var el=lumise.get.el($(this).closest('ul.lumise-color-presets').data('target'));el.val(this.getAttribute('data-color'));if(el.get(0).color&&typeof el.get(0).color.fromString=='function')
el.get(0).color.fromString(this.getAttribute('data-color'))});1},refresh_my_designs:function(is_save){if(lumise.ops.designs_loading===!0)
return;lumise.get.el('saved-designs').html('');lumise.ops.designs_loading=!0;delete lumise.ops.designs_cursor;lumise.indexed.list(function(data){lumise.render.my_designs(data);lumise.ops.designs_cursor=data.id;delete data},'designs',function(st){lumise.ops.designs_loading=!1;if(st=='done'){$('#lumise-my-designs').off('scroll');if(is_save){$('#lumise-saved-designs').prepend('<li data-view="add" data-func="edit" data-id="new">\
									<b data-func="edit">+</b>\
									<span data-func="edit">'+lumise.i(107)+'</span>\
								</li>')}else if($('#lumise-saved-designs>li').length===0){$('#lumise-saved-designs').append('<p class="empty">No item found!</p>')}}})},my_designs:function(design){if(design===undefined||design===null)
return;if(lumise.fn.version_compare('1.7.1',design.system_version)>0){lumise.indexed.delete(design.id,'designs');lumise.indexed.delete(design.id,'dumb');return};design.screenshot=typeof design.screenshot=='string'?URL.createObjectURL(lumise.fn.url2blob(design.screenshot)):lumise.data.assets+'assets/images/default_category.jpg';lumise.ops.my_designs[design.id]=design;var el=lumise.get.el('saved-designs'),lis='';el.find('p.empty').remove();lis+='<li data-id="'+design.id+'" data-use-text="'+lumise.i(212)+'" data-func="edit" data-save-text="'+lumise.i(213)+'" data-created="'+design.created+'" data-name="'+design.name+'" class="bgcolorafter">\
							<div data-view="stages">\
								<span>\
								  <img src="'+design.screenshot+'" height="150" />\
								</span>\
							</div>\
							<span data-view="name" data-id="'+design.id+'" data-func="name" title="'+lumise.i(52)+'" data-enter="blur" contenteditable>'+(design.name?design.name:'Untitled')+'</span>\
							<em data-view="date">'+lumise.fn.date('h:m D d M, Y',design.updated*1000)+'</em>\
							<i class="lumisex-android-close" data-func="delete" title="'+lumise.i(51)+'"></i>\
						</li>';el.append(lis)},shapes:function(data){if(lumise.get.el('shapes').find('ul.lumise-list-items').length===0){lumise.get.el('shapes').html('<p class="gray">'+lumise.i(158)+'</p>\
						<div class="lumise-tab-body">\
							<ul class="lumise-list-items"></ul>\
						</div>')}
if(data.length>0){var ul=lumise.get.el('shapes').find('ul.lumise-list-items');data.map(function(sh){ul.append('<li class="lumise-clipart" \
							data-ops="[{\
								&quot;type&quot;: &quot;shape&quot;,\
								&quot;resource&quot;: &quot;shape&quot;,\
								&quot;width&quot;: 60,\
								 &quot;height&quot;: 60 ,\
								 &quot;name&quot;: &quot;'+sh.name+'&quot;\
							}]">'+sh.content+'</li>')});lumise.cliparts.add_events()}else html+='<h3>No item found</h3>'},fonts:function(fonts){var uri='//fonts.googleapis.com/css?family=',txt='',id='',active='',list='';if(fonts){localStorage.setItem('LUMISE_FONTS',JSON.stringify(fonts))}else{if(!localStorage.getItem('LUMISE_FONTS')){localStorage.setItem('LUMISE_FONTS',typeof lumise.data.default_fonts=='string'?lumise.data.default_fonts:JSON.stringify(lumise.data.default_fonts))}
fonts=JSON.parse(localStorage.getItem('LUMISE_FONTS'))}
lumise.get.el('text-ext').html('');try{active=lumise.stage().canvas.getActiveObject().fontFamily}catch(ex){active=''};window.lumise_render_text=function(family,font,fontObj){if($('#lumise-text-ext li[data-family="'+family+'"]').length>0)
return;var fontShow=family;if(typeof fontObj!="undefined"&&typeof fontObj.name_desc!="undefined"&&fontObj.name_desc!=''&&fontObj.name_desc!=null){fontShow=fontObj.name_desc}
var el=$('<span data-family="'+family+'" draggable="true" data-act="add" '+'data-ops=\'[{"type":"i-text", "fontSize": "30", "fontFamily": "'+family+'", '+(font!==undefined?'"font": "'+font.replace('\\','/')+'",':'')+'"textAlign": "center", "text": "'+fontShow+'"}]\'>\
							<svg width="10" height="40" xmlns="http://www.w3.org/2000/svg" \
								xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none">\
								<g>\
									<text fill="#FFFFFF" stroke="none" stroke-width="0" stroke-linecap="round" \
										stroke-linejoin="round" x="0" y="30" text-anchor="middle" \
											font-size="30px" font-family="'+family+'">\
										<tspan x="50%" dy="0">'+fontShow+'</tspan>\
									</text>\
								</g>\
							</svg>\
						</span>');$('#lumise-text-ext').append(el);lumise.design.event_add_text(el.get(0));lumise.fn.getTextWidth({family:family,size:30,text:family},function(m){el.find('svg').attr({width:(m.width+18)})})};lumise_render_text('Arial');if(lumise.data.fonts&&lumise.data.fonts.length>0){lumise.data.fonts.map(function(font){if(font.name.indexOf('"')>-1)
return;var fontShow=font.name;if(typeof font!="undefined"&&typeof font.name_desc!="undefined"&&font.name_desc!=''&&font.name_desc!=null){fontShow=font.name_desc}
list+='<font'+(active==font.name?' class="selected"':'')+' data-family="'+font.name+'" \
								style="font-family: \''+font.name+'\'" \
								data-source="'+font.upload+'">'+fontShow+'</font>';lumise.tools.load_font(font.name,'url('+lumise.data.upload_url+font.upload.replace(/\\/g,'/')+')',function(family){lumise_render_text(family,font.upload,font)})})}
Object.keys(fonts).map(function(family){txt=decodeURIComponent(family).replace(/ /g,'+')+':'+decodeURIComponent(fonts[family][1]);list+='<link onload="lumise_render_text(\''+decodeURIComponent(family)+'\', \''+encodeURIComponent(JSON.stringify(fonts[family]))+'\')" rel="stylesheet" href="'+(uri+txt)+'" \
							type="text/css" media="all" />\
							<font'+(active==decodeURIComponent(family)?' class="selected"':'')+' data-family="'+decodeURIComponent(family)+'" \
								style="font-family: \''+decodeURIComponent(family)+'\'">'+decodeURIComponent(family)+'</font>'});lumise.get.el('fonts').html(list)},stage_nav:function(){var stages=lumise.data.stages,stage_nav=[],i=1,first_stage='',thumbn_url='',total=stages.colors===undefined?Object.keys(stages).length:Object.keys(stages).length-1;if(typeof stages=='object'){Object.keys(stages).map(function(s){if(s!='colors'){if(first_stage==='')
first_stage=s;if(stages[s].overlay!==!1)
stages[s].overlay=!0;if(lumise.fn.url_var('product_base','').indexOf('variable:')==-1){stages[s].color=lumise.data._color}
var stageColor=lumise.get.color();if(lumise.fn.url_var('product_base','').indexOf('variable:')!=-1&&stages[s].color!=undefined&&stageColor!=stages[s].color){stageColor=stages[s].color}
if((stages[s].url!==undefined&&stages[s].url!=='')||stages[s].image!==undefined){if(!stages[s].image){stages[s].image=(stages[s].source=='raws'?lumise.data.assets+'raws/':lumise.data.upload_url)+stages[s].url};if(sessionStorage.getItem('lumise_change_product')!==null&&stages[s].data!==undefined&&stages[s].data.screenshot!==undefined&&stages[s].data.screenshot!==''){stages[s].data.screenshot='';stageColor=''}
if(stages[s].screenshot===undefined){if(stages[s].data!==undefined&&stages[s].data.screenshot!==undefined&&stages[s].data.screenshot!=='')
stages[s].screenshot=stages[s].data.screenshot;else if(stages[s].template!==undefined&&stages[s].template.screenshot!==undefined)
stages[s].screenshot=stages[s].template.screenshot;else if(stages[s].image)
stages[s].screenshot=stages[s].image};thumbn_url='';if(stages[s].screenshot!==undefined&&stages[s].screenshot!=='')
thumbn_url=stages[s].screenshot;else if(stages[s].thumbnail!==undefined&&stages[s].thumbnail!=='')
thumbn_url=lumise.data.upload_url+stages[s].thumbnail;else thumbn_url=stages[s].image;label=(stages[s].label!==undefined&&stages[s].label!=='')?stages[s].label:(lumise.i('_'+s)?lumise.i('_'+s):'');var additional_price=0;if(typeof(stages[s].addon)!="undefined"&&typeof(stages[s].addon.additional_price)!="undefined"&&stages[s].addon.additional_price!=null){additional_price=stages[s].addon.additional_price}
stage_nav.push('<li data-additional_price="'+additional_price+'" data-stage="'+s+'" data-tip="true"'+(s===lumise.current_stage?' class="active"':'')+'>\
										<img style="background:'+stageColor+'" data-stage="'+s+'" src="'+thumbn_url+'" />\
										<span data-stage="'+s+'">'+(label!==''?label+' ('+i+'/'+total+')':i+'/'+total)+'</span>\
									</li>');i++}}});if(sessionStorage.getItem('lumise_change_product')!==null){sessionStorage.removeItem('lumise_change_product')}
if(stage_nav.length>1){stage_nav.unshift('<li data-nav="prev" data-tip="true"><i data-svg="prev"></i><span></span></li>');stage_nav.push('<li data-nav="next" data-tip="true"><i data-svg="next"></i><span></span></li>')};stage_nav=lumise.apply_filters('stage_nav',stage_nav)};lumise.get.el('stage-nav').find('>ul').html(stage_nav.join('')).css({display:stage_nav.length>1?'inline-block':'none'});$('#lumise-stage-nav ul').sortable({items:'>li[data-stage]',start:function(e,ui){if(!ui.item.closest('#lumise-stage-nav').hasClass('stages-expand')||ui.item.closest('#lumise-stage-nav').hasClass('preview-designs')){setTimeout(function(el){try{el.sortable("cancel")}catch(ex){}},0,$(this))}},beforeStop:function(){var _stages={};$('#lumise-stage-nav ul li[data-stage]').each(function(){_stages[this.getAttribute('data-stage')]=lumise.data.stages[this.getAttribute('data-stage')]});lumise.data.stages=_stages;lumise.render.stage_nav()}});lumise.fn.stage_nav();lumise.actions.do('render_stage_nav');return first_stage},product:function(data,callback,designs){data=lumise.apply_filters('product',data);data=$.extend(!0,{},data);var stagesBase64=!1;var stageBase64Decode;var regeBase64Encode=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;if(typeof(data.stages)=='string'&&data.stages!=''&&regeBase64Encode.test(data.stages)==!0){try{stageBase64Decode=JSON.parse(decodeURIComponent(atob(data.stages)));stagesBase64=!0}catch(err){console.log(err)}}
if(Object.keys(data.stages).length>0&&Object.values(data.stages)[0].color){lumise.data.color=Object.values(data.stages)[0].color}else{delete lumise.data.color}
if(stagesBase64==!0){lumise.data.color=Object.values(stageBase64Decode)[0].color}
if(data.variations!==undefined&&data.variations!==''&&typeof data.variations=='string')
data.variations=lumise.fn.dejson(data.variations);if(data.attributes!==undefined&&data.attributes!==''&&typeof data.attributes=='string')
data.attributes=lumise.fn.dejson(data.attributes);if(data.stages!==undefined&&data.stages!==''&&typeof data.stages=='string')
data.stages=lumise.fn.dejson(data.stages);delete data.stages.options;lumise.ops.product_data=data;lumise.data.printings_cfg=data.printings_cfg;if(Object.keys(data.stages).length===0){lumise.f(!1);$('#lumise-main').html('<div id="lumise-no-product" style="display: block;">\
							<p>'+lumise.i(208)+'</p>\
							<button class="lumise-btn" id="lumise-select-product">\
								<i class="lumisex-android-apps"></i> \
								'+lumise.i(87)+'\
							</button>\
						</div>');$('#lumise-select-product').on('click',lumise.render.products_list);return lumise.fn.notice(lumise.i(209),'error',5000)}
var variations=data.variations!==undefined?data.variations:{};lumise.data.variations=variations;var vari_data=lumise.fn.process_variations(variations.default,null);lumise.data.variation=vari_data.variation;lumise.data.cfgstages=vari_data.cfgstages;if(typeof data.templates=='object'&&Object.keys(data.templates).length>0){Object.keys(data.templates).map(function(s){if(data.stages[s]!==undefined){data.stages[s].template=data.templates[s]}})};lumise.data.product=data.id;if(data.saved_stages===undefined){lumise.data.stages=lumise.fn.keep_current_designs(vari_data.stages)}else{var _stages={};Object.keys(data.saved_stages).map(function(s){if(vari_data.stages[s]!==undefined){_stages[s]=vari_data.stages[s];_stages[s].data=data.saved_stages[s].data}else _stages[s]=data.saved_stages[s]});lumise.data.stages=_stages};lumise.data.cfgprinting=vari_data.cfgprinting;if(vari_data.cfgprinting)
lumise.data.printings_cfg=vari_data.printings_cfg;lumise.data.printings=vari_data.printings;lumise.fn.set_url('product_base',data.id);if(data.product!==null&&data.product!==undefined&&data.product!==0)
lumise.fn.set_url('product_cms',data.product);lumise.get.el('main').find('.lumise-stage,#lumise-no-product').remove();lumise.get.el('navigations').find('ul[data-block] li.active').removeClass('active');lumise.active_stage(lumise.render.stage_nav(),function(){var stage=lumise.stage();if(lumise.data.share!==undefined){lumise.f('Loading share data..');$.get(lumise.data.upload_url+'shares/'+lumise.data.share+'.lumi',function(res){try{res=JSON.parse(res)}catch(ex){res={}};if(res.stages!==undefined){lumise.tools.imports(res,function(){if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0};var cart_design=lumise.fn.export('cart'),start_render=0,current_stage=lumise.current_stage,first_stage=Object.keys(lumise.data.stages)[start_render],export_print_file=function(s){start_render++;lumise.active_stage(s,function(){$('#LumiseDesign').attr({'data-processing':'true','data-msg':lumise.i('render')});lumise.get.el('zoom').val('100').trigger('input');lumise.fn.uncache_large_images(function(){let psize=lumise.get.size();lumise.f(!1);lumise.fn.download_design({type:'png',orien:psize.o,height:psize.h,width:psize.w,include_base:!1,with_base:lumise.data.stages[s].include_base,callback:function(data){lumise.fn.uncache_large_images(null,!0);cart_design.stages[s].print_file=data;if(Object.keys(lumise.data.stages)[start_render]!==undefined){export_print_file(Object.keys(lumise.data.stages)[start_render])}else{lumise.active_stage(first_stage);lumise.data.stages[first_stage].screenshot=lumise.tools.toImage({stage:lumise.data.stages[first_stage],is_bg:'full',multiplier:1/window.devicePixelRatio});$('#lumise-stage-nav img[data-stage="'+first_stage+'"]').attr({src:lumise.data.stages[first_stage].screenshot});lumise.fn.set_url('share',null);return lumise.f(!1)}}})})})};if(Object.keys(lumise.data.stages)[start_render]!==undefined&&Object.keys(lumise.data.stages).length-1>0){export_print_file(first_stage)}
$('#lumise-general-status').html('<span>\
											<i class="lumisex-android-checkmark-circle"></i> '+lumise.i(136)+'</span>')});delete res}}).done(function(){}).fail(function(data,textStatus,xhr){lumise.fn.notice('SHARE LINK ERROR: '+data.status,'error',5000)}).always(function(){lumise.f(!1)});delete lumise.data.share}else if(lumise.fn.url_var('cart','')!==''&&sessionStorage.getItem("LUMISE-START-NEW")!==null&&sessionStorage.getItem('LUMISE-START-NEW')===!0){sessionStorage.setItem('LUMISE-START-NEW',!1);lumise.f('Processing..');lumise.indexed.get(lumise.fn.url_var('cart'),'cart',function(res){if(res===undefined)
return lumise.f(!1);if(res.template!==undefined){lumise.cart.template=res.template.stages;lumise.cart.price.template=res.template.price}
if(res.extra!==undefined){lumise.cart.price.extra=res.extra}
lumise.tools.imports(res,function(){if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0}})});for(var s in lumise.data.stages){if(lumise.data.stages[s].template!==undefined)
lumise.data.stages[s].template.noload=!0};return}else if(lumise.fn.url_var('cart','')!==''){lumise.indexed.get(lumise.fn.url_var('cart'),'cart',function(res){var cart_design=lumise.fn.export('cart'),start_render=0,current_stage=lumise.current_stage,first_stage=Object.keys(lumise.data.stages)[start_render],export_print_file=function(s){start_render++;lumise.active_stage(s,function(){$('#LumiseDesign').attr({'data-processing':'true','data-msg':lumise.i('render')});lumise.get.el('zoom').val('100').trigger('input');let psize=lumise.get.size();lumise.f(!1);lumise.fn.download_design({type:'png',orien:psize.o,height:psize.h,width:psize.w,include_base:!1,with_base:lumise.data.stages[s].include_base,callback:function(data){lumise.fn.uncache_large_images(null,!0);cart_design.stages[s].print_file=data;lumise.actions.do('load_object_stages');if(Object.keys(lumise.data.stages)[start_render]!==undefined){export_print_file(Object.keys(lumise.data.stages)[start_render])}else{lumise.active_stage(Object.keys(lumise.data.stages)[0]);lumise.data.stages[first_stage].screenshot=lumise.tools.toImage({stage:lumise.data.stages[first_stage],is_bg:'full',multiplier:1/window.devicePixelRatio});$('#lumise-stage-nav img[data-stage="'+first_stage+'"]').attr({src:lumise.data.stages[first_stage].screenshot});lumise.stack.save();return lumise.f(!1)}}})})};if(Object.keys(lumise.data.stages)[start_render]!==undefined&&Object.keys(lumise.data.stages).length-1>0){export_print_file(first_stage)}
$('#lumise-general-status').html('<span>\
									<i class="lumisex-android-checkmark-circle"></i> '+lumise.i(136)+'</span>')})}
stage.screenshot=lumise.tools.toImage({stage:stage,is_bg:'full',multiplier:1/window.devicePixelRatio});$('#lumise-stage-nav img[data-stage="'+lumise.current_stage+'"]').attr({src:stage.screenshot});if(typeof callback=='function')
callback()});vari_data.ext_attribute_name=data.ext_attribute_name;vari_data.ext_list_variation=data.ext_list_variation;vari_data.ext_attributes=data.ext_attributes;vari_data.ext_attributes_value=data.ext_attributes_value;vari_data.ext_attributes_callback=data.ext_attributes_callback;lumise.render.product_attrs(vari_data);lumise.actions.do('product',vari_data)},product_attrs:function(data){var p=lumise.get.el('product');if(lumise.ops.doctitle===undefined)
lumise.ops.doctitle=document.title;document.title=data.name+' | '+lumise.ops.doctitle;p.find('nav.lumise-add-cart-action').show();p.find('header').show().find('>name').html('<t>'+(data.name?data.name:'')+' &nbsp; </t>');p.find('header>price').html(lumise.fn.price(data.price));p.find('header>sku').html(data.sku?'SKU: '+data.sku:'');if(data.description!==undefined&&data.description!==''){var maxl=100,more=!1,des=data.description.substr(0,maxl);p.find('desc').data({desc:data.description});if(data.description.length>maxl)
more=!0;p.find('span').show().html(des);p.find('desc').show().find('a[href="#more"]').css({display:(more?'inline-block':'none')}).off('click').on('click',function(e){$(this).toggleClass('open');if($(this).hasClass('open')){$(this).html(lumise.i(137));$(this).closest('desc').find('span').html($(this).closest('desc').data('desc'))}else{$(this).html(lumise.i(69));$(this).closest('desc').find('span').html($(this).closest('desc').data('desc').substr(0,maxl))}
e.preventDefault()})}else p.find('desc').hide();lumise.get.el('cart-options').show();lumise.render.cart_change();lumise.cart.render(data)},cart_change:function(){var current_id=lumise.fn.url_var('cart',''),btn=lumise.get.el('cart-action'),items=localStorage.getItem('LUMISE-CART-DATA'),wrp=lumise.get.el('cart-items'),ul=wrp.find('ul[data-view="items"]'),total=0,item,keys,color;if(btn.length>0){if(current_id==='')
btn.attr({'data-action':'add-cart'}).find('>span').html(btn.data('add'));else btn.attr({'data-action':'update-cart'}).find('>span').html(btn.data('update'))}
ul.html('');try{items=JSON.parse(items);keys=Object.keys(items)}catch(ex){items={};keys=[]}
var item,color,qty;if(Object.keys(items).length>0){Object.keys(items).map(function(id){item=items[id];if(lumise.fn.version_compare('1.7.1',item.system_version)<=0){color='#fefdfe';qty=item.options.quantity?item.options.quantity:1;if(typeof item.attributes=='object'&&typeof item.options=='object'&&Object.keys(item.attributes).length>0){Object.keys(item.attributes).map(function(im){if(item.attributes[im].type=='product_color'&&item.options[im]!==undefined)color=item.options[im]})};if(typeof item.attributes=='object'&&typeof item.options=='object'&&Object.keys(item.attributes).length>0){Object.keys(item.attributes).map(function(im){if(item.attributes[im].type=='quantity'&&item.options[im]!==undefined)qty=item.options[im]})};try{if(isNaN(qty)){var qt=0;Object.values(JSON.parse(qty)).map(function(q){qt+=parseInt(q)});qty=qt}}catch(ex){};ul.append('<li data-func="edit" data-id="'+id+'">\
								<span data-view="thumbn">\
									<img data-func="edit" title="'+lumise.i('edit')+'" data-id="'+id+'" style="background: '+color+'" src="'+item.screenshot+'" />\
								</span>\
								<span data-view="info">\
									'+(id!=current_id?'<name>\
											<a href="#edit" data-func="edit" title="'+lumise.i('edit')+'" data-id="'+id+'">'+item.name+'\
											</a>\
										</name>'+'<quantity>x '+qty+'</quantity>':'<name>'+item.name+'</name> '+'<quantity>x '+qty+'</quantity>')+'<price>'+lumise.fn.price(item.price_total)+'</price> \
									<a href="#remove" title="'+lumise.i('remove')+'">\
										<i class="lumisex-android-close" data-func="remove" data-id="'+id+'"></i>\
									</a>\
									'+(id==current_id?'<small>'+lumise.i(72)+'</small> ':'')+'\
								</span>\
							</li>');total+=parseFloat(item.price_total)}});ul.append('<li><strong>'+lumise.i(74)+': '+lumise.fn.price(total.toFixed(2))+'</strong></li>');ul.attr({'data-empty':'false'})}else{ul.attr({'data-empty':'true'}).html('<p><i class="lumisex-bag"></i> '+lumise.i(71)+'</p>')}
lumise.get.el('addToCart').find('small').remove();lumise.get.el('addToCart').append(' <small>'+keys.length+'</small>');lumise.actions.do('cart-change')},cart_details:function(e){var items=JSON.parse(localStorage.getItem('LUMISE-CART-DATA')||'{}'),ind=1,item,attr,total=0,current=lumise.fn.url_var('cart'),table=['<table class="lumise-table sty2"><thead>','<tr>','<th> &nbsp; # &nbsp; </th>','<th>'+lumise.i(76)+'</th>','<th data-align="left"><div style="width: 240px;">'+lumise.i(77)+'</div></th>','<th data-align="center">'+lumise.i(104)+'</th>','<th data-align="center">'+lumise.i(79)+'</th>','<th data-align="center"><div style="width: 120px;">'+lumise.i(78)+'</div></th>','</tr>','</thead>','<tbody>'],ext_qty=function(val){if(val.indexOf('-')>-1){val=val.split('-');var qty=val[val.length-1];val=val.slice(0,-1);return val.join('-')+' ('+qty+')'}
return val};if(Object.keys(items).length>0){Object.keys(items).map(function(id){if(lumise.fn.version_compare('1.7.1',items[id].system_version)>0){delete items[id];localStorage.setItem('LUMISE-CART-DATA',JSON.stringify(items));lumise.indexed.delete(id,'cart');return};var item=items[id],val,attr='';Object.keys(item.options).map(function(at){val=item.options[at];if(val==='')
return;if(item.attributes[at].type=='product_color'||item.attributes[at].type=='color'){var lb=lumise.fn.attr_label(val,item.attributes[at].values);val='<span title="'+lb+'" style="background: '+val+';padding: 3px 5px;border-radius: 2px;color:'+lumise.fn.invert(val)+'">'+lb+'</span>'}else if(item.attributes[at].type=='quantity'){if(val!==''&&isNaN(parseInt(val))){try{val=JSON.parse(val);Object.keys(val).map(function(o){var lb=lumise.fn.attr_label(o,item.attributes[at].values.multiple_options);if(val[o]==0){delete val[o];return}
val[o]=lb+': '+val[o]});val=Object.values(val).join(', ')}catch(ex){}}}else if(typeof item.attributes[at].values=='object'){val=lumise.fn.attr_label(val,item.attributes[at].values)};attr+='<strong>'+item.attributes[at].name+':</strong> '+val+'<br />'});table=table.concat(['<tr>','<td>'+(ind++)+'</td>','<td class="product-thumb">','<div data-design-layer="'+id+'"></div>','<span class="product-title"  align="center">'+item.name+'</span>','</td>','<td>'+attr+'<strong>'+lumise.i(191)+':</strong> '+item.stages+'</td>','<td data-align="center">'+lumise.fn.price(item.price_total)+'</td>','<td data-align="center">'+lumise.fn.date('h:m D d M, Y',item.updated)+'</td>','<td data-align="center">',(current!=id?'<a href="#edit" data-id="'+id+'">'+lumise.i('edit')+'</a>':lumise.i(72)),'&nbsp; | &nbsp;<a href="#remove" data-id="'+id+'">'+lumise.i('remove')+'</a>','</td>']);setTimeout(lumise.fn.cart_thumbn,100,id);total+=parseFloat(item.price_total)});table=table.concat(['</tbody>','<tfoot>','<tr>','<td colspan="3" class="lumise-total">'+lumise.i(74)+': '+lumise.fn.price(total.toFixed(2)),'</td>','<td colspan="3" data-align="right">','<button class="lumise-btn-primary">'+lumise.i(75)+' <i class="lumisex-android-arrow-forward"></i></button>','</td>','</tr>','</tfoot>','</table>'])}else{table=table.concat(['<tr>','<td colspan="6"><h3>'+lumise.i(42)+'</h3></td>','</tr>','</table>'])};lumise.tools.lightbox({content:'<div id="lumise-cart-details" class="lumise_content lumise_wrapper_table">\
								<h3 class="title">'+lumise.i(73)+'</h3>\
								<div>'+table.join('')+'</div>\
							</div>'});lumise.trigger({el:$('#lumise-cart-details'),events:{'a[href="#edit"]':'edit_item','a[href="#remove"]':'remove_item','tfoot button.lumise-btn-primary':lumise.cart.do_checkout},edit_item:function(e){lumise.cart.edit_item(this.getAttribute('data-id'),e);e.preventDefault()},remove_item:function(e){if(confirm(lumise.i('sure'))){var id=this.getAttribute('data-id'),total_elm=$('#lumise-cart-details').find('tfoot tr:first td'),total=0;if(lumise.fn.url_var('cart',null)==id)
lumise.fn.set_url('cart',null);var items=JSON.parse(localStorage.getItem('LUMISE-CART-DATA'));delete items[id];localStorage.setItem('LUMISE-CART-DATA',JSON.stringify(items));lumise.render.cart_change();$(this).closest('tr').remove();Object.keys(items).map(function(i){if(items[i].price_total!==undefined)
total+=parseFloat(items[i].price_total)});$(total_elm[0]).html(lumise.i(74)+': '+lumise.fn.price(total.toFixed(2)));if(total==0){$(total_elm[1]).html('');$('#lumise-cart-details').find('tfoot .lumise-btn-primary').hide()}};e.preventDefault()}});e.preventDefault()},categories:function(type,res){var btn=$('button[data-func="show-categories"][data-type="'+type+'"]');if(res!==undefined){lumise.ops.categories[type]=res;if(res.category!==0&&res.category!==''&&res.category_name!=='')
btn.find('span').html(res.category_name);else btn.find('span').html(lumise.i(57))}else res=lumise.ops.categories[type];var items=res.categories,curr=res.category,wrp=lumise.get.el('x-thumbn-preview'),html='<div class="lumise-categories-wrp" data-type="'+type+'">';if(items===undefined||items.length===0)
wrp.find('>div').html('<div class="lumise-categories-wrp" data-type="'+type+'"><br><br>'+lumise.i(42)+'</div>');else{if(res.category_parents.length>0){if(res.category_parents.length===1&&res.category_parents[0].id===''){html+='<nav><span>'+res.category_parents[0].name+'</span></nav>'}else{html+='<nav><a href="#category-all" data-act="item" data-id="">'+lumise.i(57)+'</a>';res.category_parents.map(function(cp){if(cp.id!=res.category)
html+='<i class="lumisex-ios-arrow-forward"></i><a href="#category-'+cp.id+'" data-act="item" data-id="'+cp.id+'">'+cp.name+'</a>';else html+='<i class="lumisex-ios-arrow-forward"></i><span>'+cp.name+'</span>'});html+='</nav>'}}
html+='<ul class="smooth">';items.map(function(item){var thumbn=item.thumbnail;if(thumbn===null||thumbn===undefined||thumbn==='')
thumbn=lumise.data.assets+'assets/images/default_category.jpg';else if(thumbn.indexOf('http')!==0)
thumbn=lumise.data.upload_url+'thumbnails/'+thumbn;html+='<li data-act="item" data-id="'+item.id+'"'+(curr==item.id?' class="active"':'')+'>\
									<span style="background-image:url(\''+thumbn+'\');"></span>\
									<p>'+item.name+'</p>\
								 </li>'});html+='</ul></div>';var scrt=wrp.find('.lumise-categories-wrp ul').scrollTop();wrp.find('>div').html(html);wrp.find('.lumise-categories-wrp ul').scrollTop(scrt);lumise.trigger({el:wrp,events:{'div.lumise-categories-wrp':'click'},click:function(e){var el=e.target.getAttribute('data-act')?$(e.target):$(e.target).closest('[data-act]'),type=this.getAttribute('data-type'),act=el.data('act');if(!act)return;switch(act){case 'item':$('.lumise-categories-wrp').attr({'data-process':'true'});lumise.ops[type+'_category']=el.data('id');lumise.ops[type+'_index']=0;lumise.ops[type+'_loading']=!1;lumise.get.el(type+'-list').find('ul').html('');lumise.get.el(type+'-list').trigger('scroll');break}
e.preventDefault()}})}
1},products_list:function(btn_txt){if(!btn_txt)
btn_txt=lumise.i(87);lumise.tools.lightbox({content:'<div id="lumise-change-products-wrp" data-btn="'+btn_txt+'" >\
								<center><i class="lumise-spinner x3"></i></center>\
							  </div>'});if(lumise.ops.products!==undefined)
return lumise.response.list_products(lumise.ops.products);lumise.post({action:'list_products',s:'',category:'',product_cms:null,index:0})},cart_confirm:function(){var el=$('<div id="lumise-update-cart-confirm" data-func="close" style="opacity:0">\
							<div>\
								<img src="'+lumise.data.assets+'assets/images/done.svg" alt="" />\
								<em>'+lumise.i(172)+'!</em>\
								<ul>\
									<li>\
										<a href="#details" data-func="details">'+lumise.i(173)+'</a>\
									</li>\
									<li>\
										<a href="#new" data-func="new">'+lumise.i(174)+'</a>\
									</li>\
								</ul>\
								<br>\
								<button class="lumise-btn-primary" data-func="checkout">\
									'+lumise.i(175)+'\
									<i class="lumisex-android-arrow-forward" data-func="checkout"></i>\
								</button>\
								<i class="lumisex-android-close close" title="'+lumise.i(176)+'" data-func="close"></i>\
							</div>\
						</div>');$('#LumiseDesign').append(el);el.animate({opacity:1},150).on('click',function(e){e.preventDefault();var _this=$(this),func=e.target.getAttribute('data-func');lumise.get.el('proceed').removeClass('active');switch(func){case 'close':$(this).fadeOut(150,function(){$(this).remove()});break;case 'details':lumise.render.cart_details(e);break;case 'new':lumise.fn.set_url('cart',null);lumise.get.el('general-status').html('');lumise.render.products_list();break;case 'checkout':lumise.cart.do_checkout(e);break}
if(func)
$(this).fadeOut(150,function(){$(this).remove()})})}},indexed:{req:null,db:null,stores:{'uploads':null,'designs':null,'dumb':null,'cart':null,'categories':null},init:function(){var t=this;t.req=indexedDB.open("lumise",8);t.req.onsuccess=function(e){if(e.target.result.setVersion){if(e.target.result.version!=t.ver){var setVersion=e.target.result.setVersion(t.ver);setVersion.onsuccess=function(){t.store(e.target.result);t.ready(e.target.result)}}else t.ready(e.target.result)}else t.ready(e.target.result)};t.req.onupgradeneeded=function(e){t.store(e.target.result)}},ready:function(db){this.db=db;if(lumise.data.version!==undefined&&typeof this.onDBReady=='function'){this.onDBReady()}},save:function(ob,storeName,callback){if(this.db==null)
return callback(null);var trans=this.db.transaction(ob.length===2?[storeName,'dumb']:[storeName],"readwrite");var store=trans.objectStore(storeName);if(ob.id===null||ob.id===undefined)
ob.id=parseInt(new Date().getTime()/1000).toString(36)+':'+Math.random().toString(36).substr(2);var obj=$.extend(!0,{created:new Date().getTime()},(ob[0]!==undefined?ob[0]:ob));obj=lumise.indexed.prepare(obj);var process=store.put(obj,obj.id);if(typeof callback=='function')
process.onsuccess=callback;if(ob[1]!==undefined){var obj_dumb=$.extend(!0,{id:obj.id,created:obj.created},ob[1]);obj_dumb=lumise.indexed.prepare(obj_dumb);trans.objectStore('dumb').put(obj_dumb,obj.id)}},get:function(id,storeName,callback){if(this.db==null)
return callback(null);var trans=this.db.transaction([storeName],"readwrite");var store=trans.objectStore(storeName);try{var process=store.get(id)}catch(ex){}
trans.oncomplete=function(event){callback(process!==undefined?process.result:null);delete process;delete trans;delete store;delete go};trans.onerror=function(){callback(null)}},list:function(callback,storeName,onComplete){var t=this;if(t.db==null)
return onComplete(null);var trans=t.db.transaction([storeName],"readwrite");var store=trans.objectStore(storeName);var i=0;trans.oncomplete=onComplete;var range=lumise.ops[storeName+'_cursor']?IDBKeyRange.upperBound(lumise.ops[storeName+'_cursor'],!0):null,cursorRequest=store.openCursor(range,'prev');cursorRequest.onerror=function(error){console.log(error)};cursorRequest.onsuccess=function(evt){if(i++>11){if(typeof onComplete=='function')
return onComplete();else return};var cursor=evt.target.result;if(cursor){callback(cursor.value);if(onComplete!=cursor.id)
cursor.continue()}else{delete cursor;delete cursorRequest;delete range;delete trans;delete go;return(typeof onComplete=='function'?onComplete('done'):null)}}},store:function(db){Object.keys(this.stores).map(function(s){try{db.createObjectStore(s)}catch(ex){}})},delete:function(id,store){var tranc=this.db.transaction([store,'dumb'],"readwrite");tranc.objectStore(store).delete(id);tranc.objectStore('dumb').delete(id)},prepare:function(obj){for(var n in obj){if(obj[n]!==undefined&&obj[n]!==null&&typeof obj[n]==="object"){if(obj[n].nodeType===1&&typeof obj[n].style==="object"&&typeof obj[n].ownerDocument==="object"){delete obj[n]}else{obj[n]=lumise.indexed.prepare(obj[n])}}}
return obj},onDBReady:function(){if(lumise.data.access_core!==undefined&&lumise.data.access_core!==''){lumise.data.access_core.split(',').map(function(a){if(window[a]!==undefined&&typeof window[a]=='function'){try{window[a](lumise)}catch(ex){console.warn('Error on lumise addon callback "'+a+'": '+ex.message);console.log(ex)}}});delete lumise.data.access_core};try{lumise.actions.do('db-ready')}catch(ex){console.warn(ex.message);console.log(ex)}
delete lumise.indexed.onDBReady}},post:function(ops,callback){if(!ops.action)
return lumise.fn.notice('lumise.post() missing param action','error');$.ajax({url:lumise.data.ajax,method:'POST',data:lumise.apply_filters('ajax',$.extend({nonce:'LUMISE-SECURITY:'+lumise.data.nonce,ajax:'frontend',product_base:lumise.fn.url_var('product_base'),product_cms:lumise.fn.url_var('product_cms')},ops)),statusCode:lumise.response.statusCode,success:function(res){if(typeof callback=='function')
return callback(res);else if(typeof lumise.response[ops.action]=='function')
lumise.response[ops.action](res)}})},response:{templates:function(res){var html='';if(res.items&&res.items.length>0){res.items.map(function(item){lumise.templates.storage[item.id]=lumise.data.upload_url+item.upload;html+='<li style="background-image: url(\''+item.screenshot+'\')" \
								data-ops=\'[{\
									"type": "template", \
									"name": "'+item.name+'", \
									"id": "'+item.id+'", \
									"tags": "'+(item.tags?item.tags:'')+'", \
									"cates": "'+(item.cates?item.cates:'')+'", \
									"screenshot": "'+item.screenshot+'", \
									"price": "'+item.price+'"\
								}]\' class="lumise-template">\
								<i data-tag="'+item.id+'">'+(item.price?lumise.fn.price(item.price):lumise.i(100))+'</i><i data-info="'+item.id+'"></i>\
								</li>'});var total=res.total?res.total:0;lumise.ops.templates_q=res.q;lumise.ops.templates_category=res.category;lumise.ops.templates_index=parseInt(res.index)+res.items.length;if(lumise.ops.templates_index<total)
lumise.ops.templates_loading=!1}else html+='<span class="noitems">'+lumise.i(42)+'</span>';lumise.get.el('templates-list').find('i.lumise-spinner').remove();lumise.get.el('templates-list').find('ul.lumise-list-items').append(html);lumise.render.categories('templates',res);lumise.templates.add_events()},cliparts:function(res){var html='';if(res.items&&res.items.length>0){res.items.map(function(item){var oid='Art-'+item.id;lumise.xitems.ops[oid]=[{type:'image',name:item.name,id:item.id.toString(),tags:(item.tags?item.tags:''),cates:(item.cates?item.cates:''),resource:'cliparts',resource_id:item.id,price:parseFloat(item.price),url:lumise.data.upload_url+item.upload}];html+='<li style="background-image: url(\''+item.thumbnail_url+'\')" data-ops="'+oid+'" class="lumise-clipart">'+'<i data-tag="'+item.id+'">'+(item.price>0?lumise.fn.price(item.price):lumise.i(100))+'</i><i data-info="'+item.id+'"></i>'+'</li>'});var total=res.total?res.total:0;lumise.ops.cliparts_q=res.q;lumise.ops.cliparts_category=res.category;lumise.ops.cliparts_index=parseInt(res.index)+res.items.length;if(lumise.ops.cliparts_index<total)
lumise.ops.cliparts_loading=!1}else html+='<span class="noitems">'+lumise.i(42)+'</span>';lumise.get.el('cliparts-list').find('i.lumise-spinner').remove();lumise.get.el('cliparts-list').find('ul.lumise-list-items').append(html);lumise.render.categories('cliparts',res);lumise.cliparts.add_events()},save_design:function(res){lumise.f(!1);if(res.success){lumise.fn.notice(lumise.i(21),'success');lumise.data.design=res.id;lumise.get.el('navigations').find('li[data-tool="designs"]').attr({'data-load':'designs'})}else if(res.error){lumise.fn.notice(res.error,'error')}},my_designs:function(res){if(res.error)
return lumise.fn.notice(res.error,'error');lumise.render.my_designs(res)},edit_design:function(res){if(res.error)
return lumise.fn.notice(res.error,'error');try{var data=JSON.parse(res.data)}catch(ex){return lumise.fn.notice(ex.message,'error')};lumise.tools.imports(data);lumise.get.el('share-link').val(lumise.data.url+'?design='+res.id+'&product_base='+res.pid+'&private_key='+res.share_token).closest('li[data-view="link"]').removeAttr('data-msg');lumise.get.el('navigations').find('li[data-tool="share"] p[data-view="radio"] input[name="lumise-share-permission"]').get(res.share_permission).checked=!0;lumise.data.design=res.id;lumise.data.private_key=res.share_token;lumise.get.el('navigations').find('li[data-tool="designs"]').attr({'data-load':'designs'});if(window.location.href.indexOf('design='+res.id+'&')===-1){window.history.replaceState({},"",lumise.data.url+'?design='+res.id+'&product_base='+res.pid)}},delete_design:function(res){if(res.error){return lumise.fn.notice(res.error,'error')}
$('ul#lumise-saved-designs li[data-id="'+res.id+'"]').remove();lumise.fn.notice(lumise.i(22),'success')},design_permission:function(res){if(res.error)
lumise.get.el('navigations').find('li[data-tool="share"] li[data-view="link"]').attr({'data-msg':res.error});lumise.get.el('navigations').find('li[data-tool="share"] button[data-func="copy-link"]').removeClass('disabled').next('i').remove()},shapes:function(res){if(res.error){return lumise.fn.notice(res.error,'error')}
$('#lumise-shapes i.lumise-spinner').remove();if(res.items&&res.items.length>0){lumise.ops.shapes_index=parseInt(res.index)+res.items.length;lumise.ops.shapes_loading=!1;lumise.render.shapes(res.items);var shapewrp=$('#lumise-shapes .lumise-tab-body').get(0);if(shapewrp.scrollHeight==shapewrp.clientHeight){$(shapewrp).trigger('scroll')}}else $('#lumise-shapes ul').append('<span class="noitems">'+lumise.i(42)+'</span>')},change_lang:function(){location.reload()},list_products:function(res){var wrp=$('#lumise-change-products-wrp'),btn_text=wrp.data('btn');lumise.ops.products=res;var cates=['<ul data-view="categories">','<h3>'+lumise.i(56)+'</h3>','<li data-id="" '+(res.category===''?'class="active"':'')+' data-lv="0"> '+lumise.i(57)+'</li>'],prods=['<h3 data-view="top"><input type="search" value="'+res.s+'" placeholder="'+lumise.i(63)+'" /></h3>','<ul data-view="products" class="smooth">'];if(res.categories){res.categories.map(function(c){cates.push('<li '+(res.category==c.id?'class="active"':'')+' data-id="'+c.id+'" data-lv="'+c.lv+'">'+'&mdash;'.repeat(c.lv)+' '+c.name+'</li>')})}
if(res.products&&res.products.length>0){res.products.map(function(p){if(p===null)
return;if(p.stages!==''&&typeof p.stages=='string')
p.stages=lumise.fn.dejson(p.stages);var stages=lumise.fn.pimage(p.stages.stages!==undefined?p.stages.stages:p.stages);var cates='',color=(p.stages.options!==undefined?p.stages.options.color:(p.stages.colors!==undefined?p.stages.colors.active:(typeof p.color=='string'?p.color.split(':')[0]:'')));if(stages.colors!==undefined)
delete stages.colors;var first=Object.keys(stages)[0],template='';prods.push('<li data-id="'+p.id+'"'+((lumise.data.product==p.id)?' data-current="true"':'')+' data-name="'+p.name.toLowerCase().trim().replace(/[^a-z0-9 ]/gmi,"")+'"'+((p.id!==p.product)?' data-cms="'+p.product+'"':'')+'>\
								<span data-view="thumbn" data-start="'+btn_text+'">\
									<img '+template+' style="background:'+color+'" src="'+(stages[first]?stages[first].image:lumise.data.assets+'assets/images/default_category.jpg')+'" />\
								</span>\
								<span data-view="name">'+p.name+'</span>\
								<span data-view="price">'+lumise.fn.price(p.price)+'</span>\
							</li>')})}else prods.push('<li data-view="noitem">'+lumise.i(42)+'</li>');if(res.limit<res.total){var pagination=['<li data-view="pagination">','<ul>'],pages=Math.ceil(res.total/res.limit),page=Math.ceil(res.index/res.limit);for(var i=1;i<=pages;i++){pagination.push('<li data-page="'+i+'" '+(page==i?' class="lumise-color"':'')+'>'+i+'</li>')}
pagination.push('</ul></li>');prods.push(pagination.join(''))}
prods.push('</ul>');wrp.html(cates.join('')).append(prods.join(''));lumise.trigger({el:$('#lumise-change-products-wrp'),events:{'ul[data-view="categories"] li':'category','ul[data-view="products"] li[data-id]':'product','h3[data-view="top"] input:keydown':'search','li[data-view="pagination"] li[data-page]':'page'},category:function(){var wrp=$(this).closest('#lumise-change-products-wrp'),id=this.getAttribute('data-id');lumise.ops.products.category=id;$('#lumise-change-products-wrp').html('<center><i class="lumise-spinner x3"></i></center>');lumise.post({action:'list_products',s:lumise.ops.products.s,category:id,product_cms:null,index:0})},product:function(){if(this.getAttribute('data-current')=='true')
return;var id=this.getAttribute('data-id'),product=lumise.ops.products.products.filter(function(p){return p.id==id});if(product.length>0){if(typeof wrp.data('callback')=='function'){wrp.data('callback')(product[0])}else{if(lumise.fn.url_var('cart','')!==''){lumise.fn.confirm({title:lumise.i(119),primary:{text:lumise.i(124),callback:function(e){$('lumise-general-status').html('');lumise.fn.clear_url([]);lumise.render.product(product[0])}},second:{text:lumise.i(125),callback:function(e){lumise.fn.clear_url(['cart']);lumise.render.product(product[0])}}})}else{sessionStorage.setItem('lumise_change_product','changed');lumise.fn.clear_url([]);lumise.render.product(product[0])}
lumise.actions.do('select-product',product[0])}}
$(this).closest('#lumise-lightbox').remove()},search:function(e){if(e.keyCode!==13)
return;e.data.el.find('ul[data-view="categories"] li.active').removeClass('active');e.data.el.find('ul[data-view="categories"] li[data-id="all"]').addClass('active');var s=this.value.toLowerCase();$('#lumise-change-products-wrp').html('<center><i class="lumise-spinner x3"></i></center>');lumise.post({action:'list_products',s:s,category:(lumise.ops.products.category?lumise.ops.products.category:''),index:0,product_cms:null});e.preventDefault()},page:function(e){var p=parseInt(this.getAttribute('data-page'));$('#lumise-change-products-wrp').html('<center><i class="lumise-spinner x3"></i></center>');var limit=parseInt(lumise.ops.products.limit);if(isNaN(limit))
limit=10;lumise.post({action:'list_products',s:lumise.ops.products.s,product_cms:null,category:lumise.ops.products.category,index:(p*limit)-limit})}})},categories:function(res){if(res.length>0){var type=res[0].type;lumise.ops.categories[type]=res;lumise.render.categories(type)}},statusCode:{403:function(){$.post(lumise.data.ajax,lumise.apply_filters('ajax',{action:'extend',name:'general',nonce:lumise.data.nonce,}),function(res){lumise.f(!1);if(res=='-1')
return lumise.fn.notice(lumise.i(23),'error',3000);lumise.data.nonce=res;return lumise.fn.notice(lumise.i(24),'notice',3000)})}}},mobile:function(canvas_view){var ww=$(window).width(),wh=$(window).height();if(canvas_view===!0){var main=lumise.get.el('main'),stage=lumise.stage(),mw=stage.canvas.width,mh=stage.canvas.height;main.css({transform:'',top:'',left:''});if(ww<450&&stage.product.width>main.width()-20){var rati=(main.width()-20)/stage.product.width,top=((mh*rati)-mh);main.css({'transform':'scale('+rati+')','top':top+'px','left':-(((mw-(main.width()-0))/2)*rati)+'px'});if(lumise.data.rtl=='1'){main.css({'right':-(((mw-main.width())/2)*rati)+'px','left':'auto'});main.css({'left':main.css('left'),'right':'auto'})}}
return};if(lumise.ops.excmobile)
return;lumise.ops.window_width=ww;if(ww<1025){$(window).on('scroll',function(e){e.stopPropagation();e.preventDefault();return!1});$(document.body).on('scroll touchEnd',function(e){document.body.scrollTop=-1;e.preventDefault()});document.ontouchmove=function(event){event.preventDefault()};setInterval(function(){document.body.scrollTop=-1},500);$('#lumise-left').on('mousedown touchstart touchend touchmove',function(e){if(e.originalEvent.touches&&e.originalEvent.touches.length>1){e.preventDefault();return!0}});$('#lumise-main').on('mousedown touchstart',function(e){this.t=this.offsetTop;this.l=this.offsetLeft;this.x=e.originalEvent.pageX?e.originalEvent.pageX:e.originalEvent.touches[0].pageX;this.y=e.originalEvent.pageY?e.originalEvent.pageY:e.originalEvent.touches[0].pageY;this._do=($('#lumise-top-tools').attr('data-view')=='standard');this._gest=this.gest;if(e.originalEvent.touches&&e.originalEvent.touches.length===2){this.gest=!0;if(!this.sc)
this.sc=1;this.a=e.originalEvent.touches[0].pageX-e.originalEvent.touches[1].pageX;this.b=e.originalEvent.touches[0].pageY-e.originalEvent.touches[1].pageY;this.scale_start=Math.sqrt((this.a*this.a)+(this.b*this.b))}else this.gest=!1;this.start_move=!0}).on('mousemove touchmove',function(e){if((e.originalEvent.touches&&e.originalEvent.touches.length===1)||this.start_move!==!0)
return!0;if(this.gest===!0){this.a=e.originalEvent.touches[0].pageX-e.originalEvent.touches[1].pageX;this.b=e.originalEvent.touches[0].pageY-e.originalEvent.touches[1].pageY;this.scale_move=Math.sqrt((this.a*this.a)+(this.b*this.b));this.scale=this.scale_move/this.scale_start;var sc=this.sc*this.scale;if(sc>2){sc=2}else if(sc<0.5){sc=0.5};this.style.transform='scale('+sc+')'};if(this._do!==!0){e.preventDefault();return!0};this.style.top=(this.t+((e.originalEvent.pageY?e.originalEvent.pageY:e.originalEvent.touches[0].pageY)-this.y))+'px';this.style.left=(this.l+((e.originalEvent.pageX?e.originalEvent.pageX:e.originalEvent.touches[0].pageX)-this.x))+'px'}).on('mouseup touchend',function(e){this.sc=parseFloat(this.style.transform.toString().replace('scale(','').replace(')',''));if(this.sc>2){this.sc=2}else if(this.sc<0.5){this.sc=0.5};this.start_move=!1;this.gest=!1});if(!localStorage.getItem('LUMISE-GUIDE')){var img=$('<img id="mobile-guide" src="'+lumise.data.assets+'assets/images/mobile-guide.jpg" />');$('body').append(img);img.on('click',function(){$(this).remove();localStorage.setItem('LUMISE-GUIDE','{}')})}};if(ww<450){lumise.actions.add('first-completed',function(){$('li[data-tab="design"]').trigger('click')});var wrp=$('div#lumise-left .lumise-left-nav,#lumise-top-tools');if($('div#lumise-left .lumise-left-nav').width()<450)
var wrp=$('#lumise-top-tools');wrp.on('mousedown touchstart',function(e){this.sub=$(e.target).closest('[data-view="sub"]');if(this.sub.length>0)
return!0;this.l=this.offsetLeft;this.x=e.originalEvent.pageX?e.originalEvent.pageX:e.originalEvent.touches[0].pageX;this.w=$(window).width();e.preventDefault()}).on('mousemove touchmove',function(e){if(this.sub!==undefined&&this.sub.length>0)
return!0;var l=(this.l+((e.originalEvent.pageX?e.originalEvent.pageX:e.originalEvent.touches[0].pageX)-this.x));if(l>0){l=l*0.1}else if(this.offsetWidth+l<this.w&&l<=0){l=0.1}else if(this.offsetWidth+l<this.w){l=(this.w-this.offsetWidth)+((l-(this.w-this.offsetWidth))*0.1)}
this.style.left=Math.round(l)+'px';e.preventDefault()}).on('mouseup touchend',function(e){if(this.sub!==undefined&&this.sub.length>0)
return!0;if(Math.abs(this.offsetLeft-this.l)<=2)
e.target.click();else if(this.offsetLeft>0)
$(this).animate({left:0},150);else if(this.offsetWidth+this.offsetLeft<this.w)
$(this).animate({left:-(this.offsetWidth-this.w)},150);e.preventDefault()});lumise.actions.add('object:added',function(){$('li[data-tab="design"]').trigger('click');$('div#lumise-left .lumise-left-nav').css({left:'0px'})});lumise.actions.add('selection:cleared',function(){$('#lumise-top-tools').css({left:''})});lumise.actions.add('object:selected',function(){$('#lumise-top-tools').css({left:''})});lumise.actions.add('after:render',function(){});$('#lumise-templates-list,#lumise-cliparts-list').css({'max-height':(wh-224)+'px'});$('div#lumise-left .lumise-tab-body-wrp').css({height:(wh-110)+'px'});$('#lumise-cart-wrp').css({'max-height':(wh-200)+'px'});$('div#lumise-left>div.lumise-left-nav-wrp,div#lumise-stage-nav').css({top:wh+'px'});$('#lumise-left #lumise-uploads div[data-tab]').css({height:(wh-169)+'px'})}else if(ww<1025){$('#lumise-main').on('touchstart',function(){$('#lumise-side-close').trigger('click')});lumise.actions.add('object:added',function(){$('#lumise-side-close').trigger('click')});$('#lumise-templates-list,#lumise-cliparts-list').css({'max-height':(wh-170)+'px'});$('div#lumise-left .lumise-tab-body-wrp').css({height:(wh-54)+'px'});$('div#lumise-stage-nav').css({top:(wh-30)+'px'});$('#lumise-left #lumise-uploads div[data-tab]').css({height:(wh-115)+'px'})};lumise.ops.excmobile=!0},stage:function(){return lumise.data.stages[lumise.current_stage]},active_stage:function(name,callback){if(typeof callback!='function')
callback=function(){};if(name===''||name==undefined)
return callback();this.current_stage=name;if(!this.current_stage||!this.data.stages[this.current_stage])
return alert(lumise.i(20));var stage=this.data.stages[this.current_stage],nav=$('#lumise-print-nav');stage.name=name;if(stage.color!=undefined&&lumise.fn.url_var('product_base','').indexOf('variable:')!=-1&&lumise.data.color==undefined){lumise.data.color=stage.color}
if(stage.template!=undefined&&stage.template.id!=undefined&&stage.data!=undefined&&stage.data.objects!=undefined&&lumise.fn.url_var('design_print','')==''&&lumise.fn.url_var('order_print','')==''&&lumise.fn.url_var('cart','')==''){delete stage.data}
$('#lumise-main div.lumise-stage').hide();if(stage.orientation!==undefined&&stage.orientation!==''){nav.find('select[name="orientation"]').val(stage.orientation);nav.find('li[data-row="orien"]').hide()}else nav.find('li[data-row="orien"]').show();if(stage.size!==undefined&&stage.size!==''){if(typeof stage.size=='string'){if(stage.size.indexOf("+")){stage.size=stage.size.split("+").join(" ")}
if(nav.find('input[name="print-format"]:checked').attr('data-format')=='png')
nav.find('li[data-row="size"]').show();else nav.find('li[data-row="size"]').hide();nav.find('select[name="select-size"]').val(stage.size).attr({disabled:!0});nav.find('input[name="size"]').val(stage.size);nav.find('input[data-unit="cm"]').prop({checked:!0});nav.find('li[data-row="csize"],li[data-row="unit"]').hide()}else{nav.find('li[data-row="size"]').hide();nav.find('li[data-row="csize"],li[data-row="unit"]').show();nav.find('input[name="size"]').val(stage.size.width+' x '+stage.size.height).attr({disabled:!0});nav.find('input[data-unit="'+stage.size.unit+'"]').prop({checked:!0});nav.find('input[data-unit]').attr({disabled:!0})}}else{nav.find('select[name="select-size"],input[name="size"],input[data-unit]').attr({disabled:null});nav.find('li[data-row="csize"],li[data-row="unit"],li[data-row="size"],li[data-row="orien"]').show();var pcfg=localStorage.getItem('LUMISE_PRINT_CFG');if(pcfg&&pcfg!==''){pcfg=JSON.parse(pcfg);if(pcfg.format!==undefined)
nav.find('input[data-format="'+pcfg.format+'"]').prop({checked:!0}).change();if(pcfg.unit!==undefined)
nav.find('input[data-unit="'+pcfg.unit+'"]').prop({checked:!0}).change();if(pcfg.size!==undefined)
nav.find('select[name="select-size"]').val(pcfg.size).change();if(pcfg.csize!==undefined)
nav.find('input[name="size"]').val(pcfg.csize).change()}};if(stage.canvas){if(stage.productColor!=lumise.get.color()){stage.productColor.set('fill',lumise.get.color())}
lumise.tools.discard();$('#lumise-stage-'+name).show();if(stage.data){lumise.tools.import(stage.data,function(){lumise.stack.save();lumise.actions.do('active_stage',stage)});delete stage.data}else lumise.actions.do('active_stage',stage);lumise.fn.stage_nav(name,stage.product.width/stage.product.height);lumise.mobile(!0);return callback()};lumise.f('Loading..');fabric.util.loadImage(stage.image,function(img){lumise.f(!1);if(img===null){lumise.fn.notice(lumise.i(33)+stage.image,'error',5000)}else{lumise.fn.create_canvas(stage,img);stage.canvas.renderAll();lumise.actions.do('render_stage',stage);if(stage.data){var scale=(stage.data.product_height?stage.product.height/stage.data.product_height:1);lumise.tools.import(stage.data,function(){if(scale!==1)
lumise.fn.scale_designs(scale);lumise.stack.save();lumise.actions.do('active_stage',stage);callback();var stage=lumise.stage();stage.screenshot=lumise.tools.toImage({stage:stage,is_bg:'full',multiplier:1/window.devicePixelRatio});$('#lumise-stage-nav img[data-stage="'+lumise.current_stage+'"]').attr({src:stage.screenshot})});delete stage.data}else if(stage.template!==undefined&&stage.template.upload!==undefined&&stage.template.noload!==!0){lumise.templates.load(stage.template,function(){lumise.actions.do('active_stage',stage);callback()})}else{lumise.stack.save();if(lumise.ops.first_completed!==!0){lumise.actions.do('first-completed');lumise.ops.first_completed=!0};lumise.actions.do('active_stage',stage);callback()}};lumise.fn.stage_nav(name,stage.product.width/stage.product.height)})},cart:{data:{},price:{template:{},extra:{},base:0,color:0,attr:0,fixed:0},template:{},qty:0,attr_tmpl:null,timer:null,sum_calc:function(){var prices={},extra_filter=lumise.apply_filters('product_extra_price',{}),price=lumise.cart.price.base+lumise.cart.price.color+lumise.cart.price.attr;prices.base=price;price=0;var ext_price=Object.values(extra_filter).filter(price=>typeof price!=='object'&&parseFloat(price)>0);if(ext_price.length>0)
price+=ext_price.reduce((a,b)=>parseFloat(a)+parseFloat(b));if(Object.keys(lumise.cart.price.extra).length>0){Object.values(lumise.cart.price.extra).map(function(objs){objs.map(function(obj){price+=parseFloat(obj.price)})})}
prices.ext=price;price=0;price+=(Object.keys(lumise.cart.price.template).length>0&&Object.values(lumise.cart.price.template).filter(price=>parseFloat(price)).length>0?Object.values(lumise.cart.price.template).filter(price=>parseFloat(price)>=0).reduce((a,b)=>parseFloat(a)+parseFloat(b)):0);prices.template=price;return prices},sum:function(){var price=this.sum_calc();return price.base+price.ext+price.template},extra_price:function(ext_id,data){if(data==null){delete lumise.cart.price.extra[ext_id];return};if(typeof lumise.cart.price.extra[ext_id]==='undefined')
lumise.cart.price.extra[ext_id]=[];var f=lumise.cart.price.extra[ext_id].filter(obj=>obj.id==data.id&&obj.table==data.table);if(typeof f[0]==='undefined')
lumise.cart.price.extra[ext_id].push(data)},get_price:function(f){var price=0,sum=lumise.cart.sum();if(isNaN(lumise.cart.qty)||lumise.cart.qty==0)
lumise.cart.qty=1;price=(sum+lumise.cart.printing.calc(lumise.cart.qty))*lumise.cart.qty;price+=lumise.cart.price.fixed;return f===!0?[price,lumise.cart.qty]:price},init:function(){if(lumise.onload==undefined)
lumise.cart.render();lumise.actions.add('updated',function(data){clearTimeout(lumise.cart.timer);lumise.cart.timer=setTimeout(function(){lumise.cart.calc(data)},300)});lumise.actions.add('checkout',lumise.cart.checkout);$('#lumise-cart-action').on('click',function(e){lumise.cart.add_cart('button add cart click');e.preventDefault()});if(top.location!==window.location){$('#back-btn a').on('click',function(e){top.location.href=this.getAttribute('href');e.preventDefault()})};lumise.render.cart_change()},add_cart:function(e){if(lumise.fn.url_var('product_cms','')=='0'){alert('Could not add to cart, missing product_cms id');return}
var invalid_fields=[],has_design=0,invalids=[],inv=null,attrs=$('.lumise-cart-attributes');Object.keys(lumise.data.stages).map(function(s){if(typeof lumise.data.stages[s]!=='undefined'){if(lumise.data.stages[s].canvas!==undefined){var canvas=lumise.data.stages[s].canvas,objs=canvas.getObjects();if(objs.filter(function(o){return o.evented===!0}).length>0){has_design++}}else if(lumise.data.stages[s].data==undefined){return!0}else if(lumise.data.stages[s].data!==undefined&&lumise.data.stages[s].data.objects!==undefined){if(lumise.data.stages[s].data.objects.filter(function(o){return o.evented===!0}).length>0){has_design++}}}});if(has_design===0){lumise.fn.notice(lumise.i(96),'error');delete cart_data;delete cart_design;return!1};if(lumise.data.required_full_design=='1'&&has_design<Object.keys(lumise.data.stages).length){lumise.fn.notice(lumise.i(210),'error');delete cart_data;delete cart_design;return!1};if(lumise.data.printings.length>0&&lumise.cart.printing.current===null){inv=$('.lumise-prints').find('.lumise-cart-field-printing-tmpl').get(0);if(inv!==undefined)
invalid_fields.push(inv);$('.lumise-prints').find('.lumise-cart-field-printing-tmpl .lumise-required-msg').html(lumise.i(99))};attrs.find('em.lumise-required-msg').remove();attrs.find('.lumise-cart-param').each(function(ind){var field=$(this),name=field.attr('name'),type=field.attr('type'),found=!1;if(field.prop('required')){if((((type=='radio'||type=='checkbox')&&field.closest('.lumise-cart-field').find('[name="'+name+'"]:checked').length===0)||this.value==='')&&invalids.indexOf(name)===-1){invalids.push(name);invalid_fields.push(field.closest('.lumise-cart-field')[0]);field.after('<em class="lumise-required-msg">'+lumise.i(102)+'</em>').closest('.lumise_form_group').shake()}}});if(invalid_fields.length>0){var wrp=$('#lumise-cart-wrp'),pos=invalid_fields[0].offsetTop;if(wrp.closest('#lumise-product').length>0){$('#lumise-left .lumise-left-nav li[data-tab="product"]').trigger('click');$('#lumise-product').show().animate({scrollTop:pos-20},400)}else wrp.animate({scrollTop:pos-20},400);lumise.fn.notice(lumise.i(179),'error',3500);delete cart_data;delete cart_design;return!1};try{var vari=lumise.ops.product_data.variations.variations[lumise.data.variation];if(parseFloat(lumise.cart.qty)<parseFloat(vari.minqty)){lumise.fn.notice(lumise.i(149)+" <br>(Variation #"+lumise.data.variation+" has min quantity are "+vari.minqty+")",'error',5000);return}else if(parseFloat(lumise.cart.qty)>parseFloat(vari.maxqty)){lumise.fn.notice(lumise.i(150)+" <br>(Variation #"+lumise.data.variation+" has max quantity are "+vari.maxqty+")",'error',5000);return}}catch(ex){};var cart_design=lumise.fn.export('cart'),start_render=0,current_stage=lumise.current_stage,first_stage=Object.keys(lumise.data.stages)[start_render],export_print_file=function(s){start_render++;lumise.active_stage(s,function(){$('#LumiseDesign').attr({'data-processing':'true','data-msg':lumise.i('render')});lumise.get.el('zoom').val('100').trigger('input');lumise.fn.uncache_large_images(function(){let psize=lumise.get.size();lumise.f(!1);lumise.fn.download_design({type:'png',orien:psize.o,height:psize.h,width:psize.w,include_base:!1,with_base:lumise.data.stages[s].include_base,callback:function(data){lumise.fn.uncache_large_images(null,!0);cart_design.stages[s].print_file=data;if(Object.keys(lumise.data.stages)[start_render]!==undefined){export_print_file(Object.keys(lumise.data.stages)[start_render])}else{lumise.active_stage(current_stage);return lumise.cart.process_add_cart(cart_design)}}})})})};$('#LumiseDesign').attr({'data-processing':'true','data-msg':'Preparing cart data'});export_print_file(first_stage);if(e!==undefined&&typeof e.preventDefault=='function')
e.preventDefault()},process_add_cart:function(cart_design){lumise.f(!1);var values=[],id=lumise.fn.url_var('cart',new Date().getTime().toString(36).toUpperCase()),cart_data=JSON.parse(localStorage.getItem('LUMISE-CART-DATA')||'{}');cart_data[id]={id:id,screenshot:'',stages:0,name:lumise.ops.product_data.name,updated:new Date().getTime(),product:lumise.ops.product_data.id,product_cms:lumise.ops.product_data.product,printing:lumise.cart.printing.current,printings_cfg:lumise.data.printings_cfg,options:$.extend(!0,{},lumise.cart.data.options),attributes:$.extend(!0,{},lumise.ops.product_data.attributes),price_total:lumise.cart.get_price(),extra:$.extend(!0,{},lumise.cart.price.extra),states_data:$.extend(!0,{},lumise.cart.printing.states_data),variation:lumise.data.variation,template:{'stages':lumise.cart.template,'price':lumise.cart.price.template},system_version:lumise.data.version};Object.keys(lumise.data.stages).map(function(s){cart_data[id].stages++;if(cart_data[id].screenshot==='')
cart_data[id].screenshot=lumise.data.stages[s].image});Object.keys(lumise.cart.data.options).map(function(i){values.push(lumise.cart.data.options[i])});lumise.cart.qty=parseInt(lumise.cart.qty);if(isNaN(lumise.cart.qty)||lumise.cart.qty==0)
lumise.cart.qty=1;cart_data=lumise.apply_filters('cart_data',cart_data);cart_design=lumise.apply_filters('cart_design',cart_design);localStorage.setItem('LUMISE-CART-DATA',JSON.stringify(cart_data));cart_design.id=id;lumise.indexed.save([cart_design],'cart');delete cart_design;delete cart_data;lumise.render.cart_confirm();lumise.render.cart_change();lumise.actions.do('add-cart',id);return!0},variations:function(el){if(lumise.data.variations.attrs===undefined||lumise.data.variations.attrs.indexOf(el.name)===-1)
return;var values={};$('.lumise-cart-attributes .lumise-cart-param:not(.disabled)').serializeArray().map(function(x){values[x.name]=x.value});var vari_data=lumise.fn.process_variations(values,el);if((vari_data.variation===null&&lumise.data.variation===null)||lumise.data.variation==vari_data.variation)return lumise.render.product_attrs(vari_data);lumise.data.variation=vari_data.variation;if(vari_data.cfgprinting)
lumise.data.printings_cfg=vari_data.printings_cfg;else lumise.data.printings_cfg=lumise.ops.product_data.printings_cfg;lumise.data.printings=vari_data.printings;lumise.render.product_attrs(vari_data);if(vari_data.cfgstages!==!0&&lumise.data.cfgstages!==!0)
return;lumise.data.stages=lumise.fn.keep_current_designs(vari_data.stages);lumise.data.cfgstages=vari_data.cfgstages;lumise.get.el('main').find('.lumise-stage,#lumise-no-product').remove();lumise.active_stage(lumise.render.stage_nav(),lumise.cart.calc);lumise.actions.do('product-variation',vari_data)},calc:function(states_data){if(states_data==undefined)
states_data=lumise.cart.printing.states_data;else lumise.cart.printing.states_data=states_data;lumise.cart.data={options:{},printing:lumise.cart.printing.current,states_data:lumise.cart.printing.states_data};lumise.cart.price.attr=0;lumise.cart.price.fixed=0;lumise.cart.qty=0;var fields=$('.lumise-cart-attributes .lumise-cart-param:not(.disabled)').serializeArray(),attrs=lumise.ops.product_data.attributes;fields.map(function(field){if(attrs[field.name]==undefined)
return;var attr=attrs[field.name];if(field.value===''){delete lumise.cart.data.options[attr.id]}else{if(lumise.cart.data.options[attr.id]===undefined)
lumise.cart.data.options[attr.id]=field.value;else lumise.cart.data.options[attr.id]+="\n"+field.value};if(attr.type=='quantity'){if(!isNaN(parseInt(field.value))){lumise.cart.qty+=parseInt(field.value);if(attr.values!==undefined&&typeof attr.values=='object'&&attr.values.type=='package'){var attr_price=attr.values.package_options.filter(function(o){return o.value==field.value});if(attr_price.length>0&&attr_price[0].price!==''&&!isNaN(parseInt(attr_price[0].price))){lumise.cart.price.attr+=parseFloat(attr_price[0].price)}}}else if(field.value!==''&&attr.values.type=='multiple'){try{var qtys=JSON.parse(field.value);Object.keys(qtys).map(function(i){if(!isNaN(parseInt(qtys[i]))){lumise.cart.qty+=parseInt(qtys[i])}});Object.keys(qtys).map(function(i){var attr_price=attr.values.multiple_options.filter(function(o){return o.value==i});if(attr_price.length>0&&attr_price[0].price!==''&&!isNaN(parseInt(attr_price[0].price))&&!isNaN(parseInt(qtys[i]))){lumise.cart.price.fixed+=parseFloat(attr_price[0].price)*parseInt(qtys[i])}})}catch(ex){}}}else if(typeof attr.values=='object'&&typeof attr.values.options=='object'){var attr_price;field.value.split(decodeURI("%0A")).map(function(v){if(v==='')
return;attr_price=attr.values.options.filter(function(o){return o.value==v});if(attr_price.length>0&&attr_price[0].price!==''&&!isNaN(parseInt(attr_price[0].price))){lumise.cart.price.attr+=parseFloat(attr_price[0].price)}})}});lumise.cart.price.template={};Object.keys(lumise.data.stages).map(function(s){if(typeof lumise.data.stages[s].canvas!=='undefined'){var canvas=lumise.data.stages[s].canvas;lumise.cart.template[s]=[];lumise.cart.price.template[s]=0;canvas.getObjects().map(function(obj){if(obj.evented==!0){if(obj.price!==undefined&&parseFloat(obj.price)>0)
lumise.cart.price.attr+=parseFloat(obj.price)}
if(obj.template!==undefined&&typeof obj.template=='object'&&lumise.cart.template[s].indexOf(obj.template[0])===-1){lumise.cart.template[s].push(obj.template[0]);lumise.cart.price.template[s]+=obj.template[1]}})}});if(lumise.cart.qty===0)
lumise.cart.qty=1;lumise.actions.do('cart-calc');lumise.cart.display()},checkout:function(data){var items=[],formData=new FormData(),blob='',upload_size=100;formData.append('action','checkout');formData.append('ajax','frontend');formData.append('nonce','LUMISE-SECURITY:'+lumise.data.nonce);Object.keys(data).map(function(key){data[key].product_id=data[key].product;if(data[key].product_cms!=='')
data[key].cms_id=data[key].product_cms;else data[key].cms_id=0;data[key].product_name=data[key].name;blob=JSON.stringify(lumise.apply_filter('checkout-item',data[key]));upload_size+=blob.length;formData.append(key,new Blob([blob]))});delete data;if(lumise.data.max_upload_size>0&&upload_size/1024000>lumise.data.max_upload_size){lumise.fn.notice('Error: your design is too large ('+(upload_size/1024000).toFixed(2)+'MB out of max '+lumise.data.max_upload_size+'MB)<br>Please contact the administrator to change the server configuration','error',5000);return lumise.f(!1)}
lumise.f('0% complete');$.ajax({data:formData,type:"POST",url:lumise.data.ajax,contentType:!1,processData:!1,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;if(percentComplete<1)
$('div#LumiseDesign').attr({'data-msg':parseInt(percentComplete*100)+'% upload complete'});else $('div#LumiseDesign').attr({'data-msg':lumise.i(159)})}},!1);return xhr},success:function(res,status){$('div#LumiseDesign').attr({'data-msg':lumise.i(161)});if(res=='0'){alert('Error: could not checkout this time')}else{res=lumise.apply_filters('checkout-success',res);if(res!==!1&&typeof res=='string'){top.location.href=res}else{console.error(res)}}},error:function(){alert('Error: could not checkout this time')}});return;var boundary="---------------------------7da24f2e50046";var body='--'+boundary+'\r\n'+'Content-Disposition: form-data; name="file";'+'filename="temp.txt"\r\n'+'Content-type: plain/text\r\n\r\n'+data+'\r\n'+'--'+boundary+'--';$.ajax({contentType:"multipart/form-data; boundary="+boundary,data:body,type:"POST",url:lumise.data.ajax+'&action=upload&ajax=frontend&nonce=LUMISE-SECURITY:'+lumise.data.nonce,xhr:function(){var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt){if(evt.lengthComputable){var percentComplete=evt.loaded/evt.total;if(percentComplete<1)
$('div#LumiseDesign').attr({'data-msg':parseInt(percentComplete*100)+'% upload complete'});else $('div#LumiseDesign').attr({'data-msg':lumise.i(159)})}},!1);return xhr},success:function(res,status){$('div#LumiseDesign').attr({'data-msg':lumise.i(161)});res=JSON.parse(res);if(res.success!==undefined){$('<form>',{"id":"lumise-checkout","method":"POST","html":'<input type="hidden" name="file" value="'+res.success+'"/>\
				                		 <input type="hidden" name="datalen" value="'+data.length+'"/>\
				                		 <input type="hidden" name="action" value="process"/>\
				                		 <input type="hidden" name="nonce" value="LUMISE-SECURITY:'+lumise.data.nonce+'"/>',"action":lumise.data.checkout_url}).appendTo(document.body).submit()}else{alert('Error: could not checkout this time')}},error:function(){alert('Error: could not checkout this time')}})},render:function(data){var attr={},wrp=lumise.get.el('cart-attributes');wrp.html('');if(data===undefined)
return;lumise.cart.printing.render(data.printing);lumise.cart.price.base=parseFloat(data.price);lumise.actions.do('vari_data_price',data);var cart=localStorage.getItem('LUMISE-CART-DATA'),cur=lumise.fn.url_var('cart','');if(cart!=='')
cart=JSON.parse(cart);else cart={};if(data.ext_attributes!==undefined&&({}).constructor===data.ext_attributes.constructor){let arr;for(n in data.ext_attributes){arr={id:n.toLowerCase(),classes:'ext-attribute',type:'select',required:!0,name:data.ext_attribute_name[n],value:data.ext_attributes_value[n.toLowerCase()],values:{options:[]}};Object.values(data.ext_attributes[n]).forEach((i)=>{arr.values.options.push({value:i,price:'',title:i})});wrp.append(lumise.cart.fields.render(arr))}};Object.keys(data.attributes).map(function(k){var attr=data.attributes[k];lumise.ops.product_data.attributes[k].allows=attr.allows;if(attr.value===undefined){if(typeof attr.values=='object'&&typeof attr.values.options=='object'){attr.value=[];attr.values.options.map(function(o){if(o.default===!0)
attr.value.push(o.value)});attr.value=attr.value.join(decodeURI("%0A"))}else if(typeof attr.values=='object'&&attr.values.default!==undefined){attr.value=attr.values.default}else attr.value=''};if(attr.id===undefined)
attr.id=lumise.cart.slug(attr.name);wrp.append(lumise.cart.fields.render(attr))});product_base_check=lumise.fn.url_var('product_base','');if(product_base_check.indexOf('variable:')!=-1){wrp.append('<div class="lumise-cart-field field-inline ext-attribute">\
							<div class="lumise_form_group">\
								<span class="lumise-cart-field-label">\
									<button class="btn_tempo" id="clear_variable">Clear</button>\
								</span>\
							</div>\
						</div>')}
if(lumise.data.calc_formula=='1'){wrp.append('<div class="lumise-cart-field how-calculate">\
							<a href="#formula">\
								'+lumise.i(180)+'\
								<i class="lumisex-ios-arrow-forward"></i>\
							</a>\
						</div>')};$('div.lumise-cart-field.ext-attribute select').each(function(){let thisValue=$(this).val();$(this).find('option').remove();let html='<option value="">Choose an option</option>';html+='<option selected value="'+thisValue+'">'+thisValue+'</option>';$(this).html(html)});lumise.trigger({el:wrp,events:{'.lumise-cart-param:change':'calc_cart','button#select_variable:click':'calc_cart','button#clear_variable:click':'clear_variable','a[href="#formula"]':'formula'},calc_cart:function(e){let product_base_check=lumise.fn.url_var('product_base','');if(product_base_check.indexOf('variable:')!=-1){let list_attribute_selected={};let last_attribute=!0;var attribute_save={};let thisName=$(this).attr('name');$('div.lumise-cart-field.ext-attribute select').each(function(){let attribute_value=$(this).val();let attribute_name=$(this).attr('name');if(attribute_value==''||attribute_value==null){last_attribute=!1;$('select[name="'+attribute_name+'"] option').remove();$('select[name="'+attribute_name+'"]').html('<option value="">Choose an option</option>')}else{list_attribute_selected[attribute_name]=attribute_value}});$.each(lumise.ops.product_data.ext_list_variation,function(product_id,select_data){let false_product=!1;$.each(list_attribute_selected,function(keyAttribute,valueAttribute){if(valueAttribute!=select_data[keyAttribute]){false_product=!0;return}});if(false_product==!0){return}
if(last_attribute==!0){$('div.lumise-cart-field.ext-attribute select').each(function(){if($(this).attr('name')==thisName){return}
$('select[name="'+$(this).attr('name')+'"] option').remove();$('select[name="'+$(this).attr('name')+'"]').html('<option value="">Choose an option</option>')})}
$.each(select_data,function(attributeName,attributeValue){let length_option=$('select[name="'+attributeName+'"] option[value="'+attributeValue+'"]').length;let selected='';if(last_attribute==!0){selected='selected'}
if(length_option==0){$('select[name="'+attributeName+'"]').append('<option '+selected+' value="'+attributeValue+'">'+attributeValue+'</option>')}})});$('div.lumise-cart-field.ext-attribute select').each(function(){let attribute_name=$(this).attr('name');let attribute_data=[];$(this).find('option').each(function(){if($(this).val()==''||$(this).val()==null||$(this).val()=='undefined'){return}
attribute_data.push($(this).val())});attribute_save[attribute_name]=attribute_data});sessionStorage.setItem('LUMISE-ATTRIBUTE-VARIATION',JSON.stringify(attribute_save))}
sessionStorage.setItem('LUMISE-PRINT-DROPDOWN','false');$('#lumise-cart-attributes em.lumise-required-msg').remove();lumise.cart.variations(this);lumise.cart.calc();lumise.render.cart_change();if(e.target.getAttribute('name')=='quantity'){sessionStorage.setItem('LUMISE-CHANGE-QUANTITY','true')}
lumise.actions.do('cart-changed',!0)},clear_variable:function(e){$.each(lumise.ops.product_data.ext_attributes,function(index,detail){$('select[name="'+index+'"] option').remove();let html='<option value="">Choose an option</option>';$.each(detail,function(indexItem,detailItem){html+='<option value="'+detailItem+'">'+detailItem+'</option>'});$('select[name="'+index+'"]').html(html)})},formula:function(e){e.preventDefault();var sum=lumise.cart.sum_calc(),table='',print_detail=!1;if(lumise.data.printings.length>0){var print=lumise.data.printings.filter(function(p){return p.id==lumise.cart.printing.current});print_detail=(print.length>0&&(print[0].description!==''||(typeof print[0].calculate.show_detail!=='undefined'&&print[0].calculate.show_detail==1))&&lumise.cart.printing.calc(lumise.cart.qty)>0)?!0:!1};var varitxt='',vr=(lumise.ops.product_data.variations!==undefined&&lumise.ops.product_data.variations.variations!==undefined&&lumise.ops.product_data.variations.variations[lumise.data.variation]!==undefined)?lumise.ops.product_data.variations.variations[lumise.data.variation]:null;if(lumise.data.variation!==null&&vr!==null){varitxt+='<p class="notice">'+lumise.i(193)+' <strong>#'+lumise.data.variation+'</strong>'+(vr.price!==''?', '+lumise.i(182)+': <strong>'+vr.price+'</strong>':'')+(vr.minqty!==''?', min-qty: <strong>'+vr.minqty+'</strong>':'')+(vr.maxqty!==''?', max-qty: <strong>'+vr.maxqty+'</strong>':'')+'</p>'}
var item_price=sum.ext+sum.base+sum.template+lumise.cart.printing.calc(lumise.cart.qty);lumise.tools.lightbox({content:'<div class="lumise_content lumise_wrapper_table">\
								<h3 class="title">'+lumise.i(180)+'</h3>\
								<div id="lumise-formula-detail">\
									'+varitxt+'\
									<table>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(182)+'</td>\
											<td>'+lumise.fn.price(sum.base-lumise.cart.price.attr)+'</td>\
										</tr>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(199)+'</td>\
											<td>'+lumise.fn.price(lumise.cart.price.attr)+'</td>\
										</tr>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(91)+'</td>\
											<td>'+lumise.fn.price(sum.template)+'</td>\
										</tr>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(108)+'</td>\
											<td>'+lumise.fn.price(lumise.cart.printing.calc(lumise.cart.qty))+(print_detail?' &nbsp; <a href="#" data-print="'+print[0].id+'">'+lumise.i(68)+' <i class="lumisex-android-open"></i></a>':'')+'</td>\
										</tr>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(183)+'</td>\
											<td>'+lumise.fn.price(sum.ext)+'</td>\
										</tr>\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(74)+'</td>\
											<td>'+lumise.fn.price(item_price)+' x '+lumise.cart.qty+'qty = <strong>'+lumise.fn.price(item_price*lumise.cart.qty)+'</strong></td>\
										</tr>\
										'+(lumise.cart.price.fixed!==0?'\
										<tr>\
											<td style="width:20%;text-align: left">'+lumise.i(198)+'</td>\
											<td>'+lumise.i(74)+' + '+lumise.fn.price(lumise.cart.price.fixed)+' = <strong>'+lumise.fn.price((item_price*lumise.cart.qty)+lumise.cart.price.fixed)+'</strong></td>\
										</tr>\
										':'')+'\
									</table>\
								</div>\
							</div>'});$('#lumise-formula-detail a[data-print]').on('click',function(e){e.preventDefault();lumise.fn.print_detail(this.getAttribute('data-print'))})}});if(typeof data.ext_attributes_callback=='string'){try{let ext_callback=new Function('wrp',data.ext_attributes_callback);ext_callback(wrp)}catch(ex){console.log(ex)}};lumise.cart.calc();lumise.trigger({el:$('.lumise-add-cart-btn'),events:{':click':'submit_cart'},submit_cart:function(e){var form=$('#lumise-cart-form');form.find('input[name=data]').val(JSON.stringify(lumise.cart.data));form.find('input[name=product]').val(lumise.data.product);form.submit()}});lumise.actions.do('cart-render',wrp)},validate_file:function(file){if(['image/png','image/jpeg','image/gif','image/svg+xml','application/zip','text/plain','.docx'].indexOf(file.type)===-1)
return!1;if(file.size>5242880)
return!1;return!0},slug:function(str,decode){if(decode==undefined)
return encodeURIComponent(str);else return decodeURIComponent(str)},fields:{render:function(data){var lac=lumise.data.attributes_cfg[data.type];if(lac===undefined||lac.render===undefined||lac.render==='')
return'';if(typeof lac.frontend_render!='function'){try{lac.frontend_render=Function("data","$","lumise",lac.render)}catch(ex){return $('<p>JS Error: field render <b>'+data.type+'</b> :: '+ex.message+'</p>')}};if(data.type=='quantity')
data.required=!0;if(typeof data.value=='object')
data.value=data.value[0];let values=data.values;if(typeof data.values=='string'){try{values=JSON.parse(data.values)}catch(ex){}};if(data.use_variation===!0){data.required=!0;data.values={options:[{value:'',title:lumise.i(178),price:''}]}};if(data.use_variation===!0&&typeof data.allows=='object'&&typeof values=='object'&&typeof values.options=='object'&&values.options.length>0){data.values.options=[];values.options.map(function(op){if(data.allows.indexOf(op.value)>-1)data.values.options.push(op)})};if(data.id===undefined)
data.id=encodeURIComponent(data.name);var newName=data.name;var field=$('<div data-type="'+data.type+'" data-id="'+(data.id!==undefined?data.id:'')+'" class="lumise-cart-field field-inline'+(data.classes!==undefined?' '+data.classes:'')+'">\
							<div class="lumise_form_group">\
								<span class="lumise-cart-field-label">'+(newName)+': '+(data.required?' <em class="required">*</em>':'')+'\
								</span>\
								<div class="lumise_form_content"></div>\
							</div>\
						</div>'),inp=lac.frontend_render(data,$,lumise);field.find('div.lumise_form_content').append(inp);return field},printing:function(data){var field_tpml=$('<div class="lumise_radios">\
										<div class="lumise-radio">\
				                			<input type="radio" class="lumise-cart-param" name="printing" value="1" id="" required>\
							                <label class="lumise-cart-option-label" for=""></label>\
							            </div>\
									</div>'),label=field_tpml.find('.lumise-cart-field-label'),inp=field_tpml.find('.lumise-cart-param');label.html((data.label?data.label:data.title)+': '+(data.required?'<em class="required">*</em>':'')+' <em class="lumise-required-msg"></em>');inp.attr('name',data.name);if(!data.required)inp.removeAttr("required");return{el:field_tpml,inp:inp,label:label}}},display:function(){var price=lumise.cart.get_price(!0);$('.lumise-product-price').html(lumise.fn.price(price[0].toFixed(2)));$('#lumise-product-attributes .lumise-product-price').append('<avg>\
						<strong>'+lumise.i(156)+':</strong> '+(lumise.fn.price((price[0]/price[1]).toFixed(1)))+'/'+lumise.i(157)+'</avg>')},printing:{price:0,states_data:{},current:null,render:function(active){lumise.cart.printing.price=0;lumise.cart.printing.current=active?active:null;$('#lumise-cart-wrp .lumise-prints').html('');if(!lumise.data.printings||lumise.data.printings.length===0)
return;var wrp=$('<div class="lumise-cart-field">\
						<div class="lumise_form_group">\
							<span class="lumise-cart-field-label">'+lumise.i(64)+' <em class="required">*</em></span>\
							<div class="lumise_form_content">\
								<div class="lumise_radios"></div>\
							</div>\
						</div>\
					</div>');lumise.data.printings.map(function(print,index){print.thumbnail=print.thumbnail||lumise.data.assets+'assets/images/print-default.jpg';var id='lumise-printing-'+print.id,show_link=(print.description!==''||(typeof print.calculate.show_detail!=='undefined'&&print.calculate.show_detail==1))?!0:!1,new_op=$('<div class="lumise-radio">\
	                			<input type="radio" class="lumise-cart-param" name="printing" value="'+print.id+'" data-id="'+print.id+'" id="'+id+'" required>\
				                <label class="lumise-cart-option-label" for="'+id+'">\
				                	<div class="lumise-cart-option-thumb">\
				                		<img src="'+print.thumbnail+'" alt="" />\
				                	</div>\
									<div class="lumise-desc">\
										<span>'+print.title+'</span>'+(show_link?' <a href="#" class="lumise-color lumise-print-detail" data-id="'+print.id+'">'+lumise.i(68)+'</a>':'')+'</div>\
				                </label>\
							</div>');lumise.trigger({el:new_op,events:{'a.lumise-print-detail':'price_table','input:change':'select_printing',},price_table:function(e){e.preventDefault();lumise.fn.print_detail(this.getAttribute('data-id'))},select_printing:function(e){lumise.cart.printing.current=parseInt($(this).val());lumise.cart.calc()}});if(sessionStorage.getItem("LUMISE-PRINT-DROPDOWN")==='false'){lumise.cart.printing.current=parseInt(print.id);lumise.cart.calc();sessionStorage.setItem('LUMISE-PRINT-DROPDOWN','true')}
if(sessionStorage["LUMISE-PRINT-VALUE"]){lumise.cart.printing.current=parseInt(sessionStorage.getItem("LUMISE-PRINT-VALUE"));lumise.cart.calc();localStorage.removeItem("LUMISE-PRINT-VALUE")}
wrp.find('div.lumise_radios').append(new_op);if(print.active===!0)
lumise.cart.printing.current=print.id});$('.lumise-prints').append(wrp);if(lumise.cart.printing.current===null&&lumise.data.printings.length>0){lumise.data.printings[0].active=!0;lumise.cart.printing.current=lumise.data.printings[0].id}
if(lumise.cart.printing.current!==null)
$('#lumise-printing-'+lumise.cart.printing.current).trigger('click')},calc:function(qty){if(lumise.data.printings.length==0||lumise.cart.printing.current==null)return 0;var print=null,rules={},stage='',qtys=[],rule=[],price=0,colors=[],states_data=lumise.cart.printing.states_data,print_type='',index=-1,total_res=0;var match_print=lumise.data.printings.filter(function(p){return(lumise.cart.printing.current==p.id)});if(match_print.length>0){print=match_print[0];if(typeof print.calculate=='string')
print.calculate=lumise.fn.dejson(print.calculate);print_type=print.calculate.type;rules=print.calculate.values}else return 0;if(typeof rules==='undefined')
return 0;var indx=0;for(var s in states_data){stage=indx;if(!print.calculate.multi){stage=0}
stage=Object.keys(rules)[stage];qtys=rules[stage]?Object.keys(rules[stage]):[];if(qtys.length==0)continue;qtys.sort(function(a,b){return parseInt(a)-parseInt(b)});for(var i=0;i<qtys.length;i++){if((!isNaN(qtys[i])&&parseInt(qtys[i])<qty)||(isNaN(qtys[i])&&qtys[i].indexOf('>')>-1&&(parseInt(qtys[i].replace('>'))+1)<=qty)){index=i}}
if(qtys[index+1]!==undefined)
rule=rules[stage][qtys[index+1]];else rule=rules[stage][qtys[index]];total_res=0;for(var key in states_data[s]){var unit=states_data[s][key],option=key;if(print_type=='color'&&key=='colors'&&states_data[s][key].length>0){unit=1;option=states_data[s][key].length+'-color';option=(typeof rule[option]==='undefined')?'full-color':option;price+=(typeof rule[option]!=='undefined')?parseFloat(rule[option]):0}
if(print_type!=='color'&&typeof rule[option]!=='undefined'){price+=rule[option]*unit}
if(typeof states_data[s][key]!=='array'&&parseInt(states_data[s][key])>0){total_res++}}
if(print_type=='size'&&total_res>0&&lumise.data.printings_cfg!==undefined){var cur=lumise.cart.printing.current,ptrcfg=lumise.data.printings_cfg,product_size=ptrcfg['_'+cur]!==undefined?ptrcfg['_'+cur]:ptrcfg[cur];price+=(typeof product_size!=='undefined'&&typeof rule[product_size]!=='undefined')?parseFloat(rule[product_size]):0;if(!print.calculate.multi)
return price}
if(print_type=='fixed'&&total_res>0){if(typeof rule.price!=='undefined'){price+=parseFloat(rule.price);if(!print.calculate.multi)
return price}}
indx++};return price}},edit_item:function(id,e){var items=JSON.parse(localStorage.getItem('LUMISE-CART-DATA')),cart=items[id];if(cart){lumise.get.el('general-status').html('<span>\
							<text><i class="lumisex-android-alert"></i> '+lumise.i(115)+'</text> \
							<a href="#clear-designs" data-btn="cancel" data-func="clear-designs">\
								'+lumise.i(185)+'\
							</a>\
						</span>');lumise.actions.do('cart_edit',lumise.apply_filters('cart_edit',cart));delete data};if(e&&typeof e.preventDefault=='function')
e.preventDefault()},do_checkout:function(e){if(e!==undefined&&typeof e.preventDefault=='function')
e.preventDefault();var donow=function(){try{var data=JSON.parse(localStorage.getItem('LUMISE-CART-DATA')),count=0,get_design=function(res){count ++;data[res.id].design=res;if(count===Object.keys(data).length){if(lumise.apply_filter('custom-checkout',!1)===!0){lumise.do_action('custom-checkout',lumise.apply_filters('checkout',data))}else{lumise.actions.do('checkout',lumise.apply_filters('checkout',data))}}else lumise.f(!1)};lumise.f(lumise.i(44));Object.keys(data).map(function(key){lumise.indexed.get(key,'cart',get_design)})}catch(ex){console.warn(ex);console.log(ex)}};if(lumise.data.conditions!==''){var content=lumise.fn.dejson(lumise.data.conditions).replace(/\>/g,'&gt;').replace(/\</g,'&lt;')+'<em><input type="checkbox" id="condition-agree" /> <label for="condition-agree">'+lumise.i(177)+' <font color="red">*</font></label></em>';lumise.fn.confirm({title:content,primary:{text:lumise.i(175),callback:function(e){if(lumise.get.el('confirm').find('input[type="checkbox"]').prop('checked')!==!0){lumise.get.el('confirm').find('input[type="checkbox"]').shake();return!1}else donow()}},second:{}})}else donow()}},load:function(){this.html=document.querySelector('html');this.body=document.querySelector('body');if(!this.fn.get_cookie('lumise-AID'))
this.fn.set_cookie('lumise-AID',Math.random().toString(36).substr(2));fabric.Object.prototype.set({cornerSize:this.mode=='basic'?14:22,borderColor:'rgba(205,205,205,0.5)',centeredRotation:!0,centeredScaling:!0,rotatingPointOffset:this.mode=='basic'?50:0,});for(var n in this.extends.controls){fabric.Object.prototype[n]=this.extends.controls[n]};for(var n in this.extends.canvas){fabric.Canvas.prototype[n]=this.extends.canvas[n]};this.actions.add('object:selected',function(opts){var selected=[],s=lumise.stage(),a=s.canvas.getActiveObject(),g=s.canvas.getActiveGroup();if(lumise.fn.ctrl_btns(opts)===!0)
return;if(a){selected.push(s.canvas.getActiveObject());lumise.tools.set()}else if(g){selected=g._objects;lumise.e.tools.attr({'data-view':'default'})};lumise.e.layers.find('li[data-id].active').removeClass('active');if(selected.length===0)
return;s.limit_zone.set('visible',!0);if(s.bleed){s.bleed.set('visible',!0);s.crop_marks.set('visible',!0)};selected.forEach(function(obj){if(obj.selectable!==!1)
lumise.e.layers.find('li[data-id="'+obj.id+'"]').addClass('active')})});this.actions.add('object:added',function(opts){var date=new Date(),obj=opts.target,click=!1,stage=lumise.stage();if(obj.id===undefined)
obj.set('id',parseInt(date.getTime()/1000).toString(36)+'-'+(Math.random().toString(36).substr(2)));else if(obj.id.indexOf(':')>-1)
obj.set('id',obj.id.replace(/\:/g,'-'));else if(obj.id.indexOf('-')===-1)
obj.set('id',parseInt(date.getTime()/1000).toString(36)+'-'+obj.id);if(obj.origin_src===undefined&&obj._element&&obj._element)
obj.set('origin_src',obj._element.src);if(obj.type=='i-text')
obj.set('padding',5);if(obj.evented===!1)
return;switch(obj.type){case 'i-text':obj.set('thumbn','<i class="lumisex-character layer-type" style="color:%color%;background:%bgcolor%"></i>');break;case 'curvedText':obj.set('thumbn','<i class="lumisex-vector layer-type" style="color:%color%;background:%bgcolor%"></i>');break;case 'image':lumise.fn.createThumbn({source:obj.src,width:50,height:50,callback:function(canvas){obj.set('thumbn','<img class="layer-type" style="background:%color%" src="'+(canvas.toDataURL('image/jpeg'))+'" />');if(obj.colors===undefined)
obj.set('colors',lumise.fn.count_colors(canvas,!0))}});break;case 'qrcode':obj.set('thumbn','<i class="lumisex-qrcode-1 layer-type" style="color:%color%;background:%bgcolor%"></i>');break;case 'path':obj.set('thumbn','<i class="lumise-icon-graph layer-type" style="color:%color%;background:%bgcolor%"></i>');break;case 'svg':lumise.fn.createThumbn({source:obj.src,width:24,height:24,callback:function(canvas){obj.set('thumbn','<img class="layer-type" style="background:%color%" src="'+(canvas.toDataURL('image/jpeg',.5))+'" />')}});break;default:obj.set('thumbn','<i class="lumise-icon-picture layer-type" style="color:%color%;background:%bgcolor%"></i>');break};lumise.fn.font_blob(obj);if(stage.bleed){stage.canvas.bringToFront(stage.bleed);setTimeout(()=>{stage.canvas.setActiveObject(obj).renderAll()},150)}});this.actions.add('object:remove',function(){lumise.fn.update_state();var stage=lumise.stage();stage.screenshot=lumise.tools.toImage({stage:stage,is_bg:'full',multiplier:1/window.devicePixelRatio});$('#lumise-stage-nav img[data-stage="'+lumise.current_stage+'"]').attr({src:stage.screenshot})});this.actions.add('selection:cleared',function(){lumise.e.tools.attr({'data-view':'standard'});let s=lumise.stage();lumise.stage().limit_zone.set('visible',!1);if(s.bleed){s.bleed.set('visible',!1);s.crop_marks.set('visible',!1)}});this.actions.add('key-move',function(e){var canvas=lumise.stage().canvas,active=canvas.getActiveObject()||canvas.getActiveGroup();if(active===null||active===undefined)
return;var left=active.left,top=active.top;if(active){e.preventDefault();switch(e.keyCode){case 37:left=active.left-(e.shiftKey?10:1);break;case 38:top=active.top-(e.shiftKey?10:1);break;case 39:left=active.left+(e.shiftKey?10:1);break;case 40:top=active.top+(e.shiftKey?10:1);break}
if(active.group_pos){canvas.getObjects().map(function(o){if(o.group_pos&&o.id!=active.id){o.set({left:o.left+(left-active.left),top:o.top+(top-active.top),})}})};active.set({top:top,left:left});canvas.renderAll()}});this.actions.add('key-enter',function(e){return lumise.stage().canvas.deactivateAllWithDispatch().renderAll()});this.actions.add('key-esc',function(e){if(lumise.stage().canvas.isDrawingMode===!0){lumise.get.el('discard-drawing').trigger('click')}});this.actions.add('ctrl-z',lumise.stack.back);this.actions.add('ctrl-shift-z',lumise.stack.forward);this.actions.add('ctrl-a',function(e){if(e.target.tagName=='INPUT'||e.target.getAttribute('contenteditable')!==null){return!0}
var canvas=lumise.stage().canvas;var objs=canvas.getObjects().filter(function(o){if(o.evented===!0&&(o.imagebox===undefined||o.imagebox==='')){o.set('active',!0);return!0}else return!1});if(objs.length===0){e.preventDefault();return!1}
var group=new fabric.Group(objs,{originX:'center',originY:'center'});canvas._activeObject=null;canvas.setActiveGroup(group.setCoords()).renderAll();lumise.objects.events['mouse:up'](e);e.preventDefault();return!1});this.actions.add('ctrl-d',function(e){lumise.fn.do_double();e.preventDefault();return!1});this.actions.add('ctrl+',function(e){lumise.get.el('zoom').val(parseInt(lumise.get.el('zoom').val())+20).trigger('input');e.preventDefault();return!1});this.actions.add('ctrl-',function(e){lumise.get.el('zoom').val(parseInt(lumise.get.el('zoom').val())-20).trigger('input');e.preventDefault();return!1});this.actions.add('ctrl-0',function(e){lumise.get.el('zoom').val(100).trigger('input');e.preventDefault();return!1});this.actions.add('ctrl-s',function(e){e.preventDefault();if(lumise.fn.url_var('cart','')!==''){return lumise.cart.add_cart(e)}else{lumise.design.my_designs.pre_save()};return!1});this.actions.add('key-delete',function(e){lumise.itemInStage('del');var canvas=lumise.stage().canvas,objs=canvas.getActiveGroup()?canvas.getActiveGroup()._objects:canvas.getObjects(),elms=[];objs.map(function(o){if(o.evented===!0&&o.active===!0)
elms.push(o)});lumise.stack.save();lumise.tools.discard();elms.map(function(el){canvas.remove(el)});canvas.renderAll();lumise.stack.save();lumise.design.layers.build();lumise.actions.do('object:remove')});this.actions.add('save',lumise.fn.update_state);this.actions.add('cart_edit',function(ops){$('.lumise-lightbox').remove();lumise.indexed.get(ops.id,'cart',function(res){lumise.fn.load_product({id:ops.product,cms:ops.product_cms,printing:ops.printing,options:ops.options,template:ops.template,stages:res.stages,callback:function(res){if(res.id===undefined){lumise.f(!1);lumise.fn.notice('ERROR_LOAD_PRODUCT','error',3500);return}else{lumise.get.el('general-status').html('<span>\
										<text>\
											<i class="lumisex-android-alert"></i> '+lumise.i(186)+' <strong>#'+ops.id+'</strong></text>\
										<a href="#cancel-design" data-btn="cancel" data-func="cancel-design">\
											'+lumise.i(187)+'\
										</a>\
									</span>')}}})});lumise.fn.clear_url();lumise.fn.set_url('cart',ops.id);lumise.render.cart_change()});this.actions.add('active_stage',function(){var bg=[],mo='';if(typeof lumise.cart.printing.states_data[lumise.current_stage]!=='undefined'){var stage_colors=lumise.cart.printing.states_data[lumise.current_stage].colors;for(var i=0;i<6;i++){if(stage_colors[i])
bg.push(stage_colors[i])}
if(stage_colors.length>6)
mo=(stage_colors.length-6)+'+'}
$('#lumise-count-colors i').html(mo).css({background:'linear-gradient(to right, '+bg.join(', ')+')'}).attr({title:'Used '+mo+' colors'})});this.actions.add('db-ready',function(){try{var cart_data=JSON.parse(localStorage.getItem('LUMISE-CART-DATA'))}catch(ex){var cart_data=null};var has_cart=!1;if(lumise.fn.url_var('cart','')!==''){if(cart_data!==null&&cart_data[lumise.fn.url_var('cart')]!==undefined)
has_cart=!0;else lumise.fn.notice(lumise.i(120),'error',3500)};if(has_cart===!0){lumise.cart.edit_item(lumise.fn.url_var('cart'))}else if(lumise.data.onload){lumise.f(lumise.i('importing')+'..');lumise.fn.set_url('cart',null);setTimeout(function(){if(lumise.data.share!==undefined){Object.keys(lumise.data.onload.stages).map(function(s){delete lumise.data.onload.stages[s].template})};lumise.render.product(lumise.data.onload);delete lumise.data.onload},100)}else if(lumise.fn.url_var('reorder','')===''&&lumise.get.el('no-product').length>0){lumise.f(!1);lumise.actions.do('noproduct')};if(lumise.data.share_invalid!==undefined){lumise.fn.confirm({title:lumise.data.share_invalid,primary:{},second:{text:'Ok'},type:'error'})};var carts=localStorage.getItem('LUMISE-CART-DATA');if(carts&&carts!==''){carts=Object.keys(JSON.parse(carts));lumise.indexed.list(function(data){if(carts.indexOf(data.id)===-1)
lumise.indexed.delete(data.id,'cart')},'cart',function(st){if(st=='done'){lumise.ops.cart_cursor=null}})}});this.actions.add('first-completed',function(){if(lumise.fn.url_var('cart','')!=''){lumise.get.el('general-status').html('<span>\
							<text><i class="lumisex-android-alert"></i> '+lumise.i(115)+'</text> \
							<a href="#clear-designs" data-btn="cancel" data-func="clear-designs">\
								'+lumise.i(185)+'\
							</a>\
						</span>')}else if(lumise.fn.url_var('order_print','')!==''){$('#lumise-general-status').html('<span>\
							<text>\
								<i class="lumisex-android-alert"></i> '+lumise.i(122)+' #'+lumise.fn.url_var('order_print')+'</text>\
						</span>');if(lumise.fn.url_var('design_print','')!==''){lumise.f('Loading..');var design_path=lumise.apply_filters('print-design-url',lumise.data.upload_url+'designs/');var url=(typeof design_path==="string")?design_path:lumise.data.upload_url+'designs/';$.ajax({url:url+lumise.fn.url_var('design_print','')+'.lumi',method:'GET',dataType:'JSON',statusCode:{403:lumise.response.statusCode[403],404:function(){lumise.fn.notice(lumise.i(123),'error',3500);lumise.f(!1)},200:function(res){if(res===null){lumise.fn.notice(lumise.i(166),'error',3500);lumise.f(!1);return};lumise.fn.clear_url(['design_print','order_print']);lumise.fn.load_product({id:res.product,cms:res.product_cms,printing:res.printing,options:res.options,template:res.template,stages:res.stages,callback:function(res){if(res.id===undefined){lumise.f(!1);lumise.fn.notice('ERROR_LOAD_PRODUCT','error',3500);return}else{lumise.get.el('general-status').html('<span>\
														<text>\
															<i class="lumisex-android-alert"></i> '+lumise.i(192)+' <strong>#'+lumise.fn.url_var('order_print')+'</strong></text>\
													</span>')}}})}}})}}
$('#lumise-left ul.lumise-left-nav>li[data-tab]').eq(1).click()});this.actions.add('cart-changed',function(){if(lumise.fn.url_var('cart','')==='')
return;$('#lumise-general-status').html('<span>\
						<text>\
							<i class="lumisex-android-alert"></i> '+lumise.i(116)+': '+lumise.fn.date('h:m d M, Y',new Date().getTime())+'</text>\
						<a href="#cancel-cart" data-btn="cancel" data-func="cancel-cart">\
							'+lumise.i(117)+'\
						</a>\
					</span>')});this.actions.add('add-cart',function(){$('#lumise-general-status').html('<span>\
						<text>'+lumise.i(118)+'!</text> \
						<a href="#checkout">'+lumise.i(75)+' <i class="lumisex-android-arrow-forward"></i>\
						</a>\
					</span>');$('#lumise-general-status a[href="#checkout"]').on('click',lumise.cart.do_checkout)});this.actions.add('noproduct',function(){$('#lumise-no-product').show();lumise.fn.set_url('cart',null);var flag=lumise.apply_filters('no-product');if(flag==!1||flag==undefined){lumise.get.el('change-product').trigger('click')}});this.actions.add('product',function(data){var priacc=lumise.get.el('navigations').find('li[data-tool="print"][data-alwd]'),priurl=encodeURIComponent(lumise.fn.url_var('design_print',''));if(priacc.length>0&&priacc.attr('data-alwd')!=priurl)
priacc.remove()});this.actions.add('updated',function(){if(lumise.fn.url_var('cart','')===''&&lumise.fn.url_var('design_print','')===''){lumise.get.el('general-status').html('<span>\
							<text><i class="lumisex-android-alert"></i> '+lumise.i(189)+'</text>\
							<a href="#save-design" data-func="save-design"><i class="lumisex-floppy"></i> '+lumise.i(190)+'</a>\
						</span>')}});[['ctrl-o','import'],['ctrl-e','clear'],['ctrl-shift-s','saveas'],['ctrl-p','print']].map(function(k){lumise.actions.add(k[0],function(e){lumise.get.el('navigations').find('li[data-tool="file"] li[data-func="'+k[1]+'"]').trigger('click');e.preventDefault();e.stopPropagation();return!1})});fabric.Object.prototype.originX=fabric.Object.prototype.originY='center';fabric.Object.prototype.transparentCorners=!1;window.LumiseDesign=null;window.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;window.URL=window.URL||window.webkitURL;CanvasRenderingContext2D.prototype.roundRect=function(x,y,w,h,r){if(w<2*r)
r=w/2;if(h<2*r)
r=h/2;this.beginPath();this.moveTo(x+r,y);this.arcTo(x+w,y,x+w,y+h,r);this.arcTo(x+w,y+h,x,y+h,r);this.arcTo(x,y+h,x,y,r);this.arcTo(x,y,x+w,y,r);this.closePath();return this;if(w<1.75*r)
r=w/1.75;if(h<1.75*r)
r=h/1.75;this.beginPath();this.moveTo(x+r,y);this.arcTo(x+w,y,x+w,y+h,r);this.arcTo(x+w,y+h,x,y+h,r);this.arcTo(x,y+h,x,y,r);this.arcTo(x,y,x+w,y,r);this.closePath();return this};window.addEventListener('message',function(e){if(e.origin!='https://services.lumise.com'&&e.origin!=window.location.origin)
return;if(e.data&&e.data.action){switch(e.data.action){case 'close_lightbox':$('#lumise-lightbox').remove();break;case 'import_image':var id=parseInt(new Date().getTime()/1000).toString(36)+':'+Math.random().toString(36).substr(2);if(e.data.ops.name.indexOf('/')>-1)
e.data.ops.name=e.data.ops.name.split('/').pop();lumise.cliparts.import(id,e.data.ops,'prepend');break;case 'add_image':lumise.fn.preset_import([{type:'image',url:e.data.url,user_upload:!0}]);break;case 'preview_image':lumise.get.el('x-thumbn-preview').show().find('>div').html('<img src="'+e.data.ops.url+'" />');lumise.get.el('x-thumbn-preview').find('>header').html((e.data.ops.name?e.data.ops.name:e.data.ops.url.split('/').pop().substr(0,50)));if(e.data.ops.tags!=='')
lumise.get.el('x-thumbn-preview').find('>footer').show().html(e.data.ops.tags);break;case 'close_preview_image':lumise.get.el('x-thumbn-preview').hide();break;case 'fonts':lumise.render.fonts(e.data.fonts);break;case 'update-svg':var canvas=lumise.stage().canvas;active=canvas.getActiveObject();if(active!==null){var src='data:image/svg+xml;base64,'+btoa(e.data.svg);active.set('origin_src',src);active.set('src',src);active._element.src=src;active._originalElement.src=src;active._element.onload=function(){canvas.renderAll()}};lumise.tools.lightbox('close');break}}});window.addEventListener('popstate',function(e,s){if(e){window.location=document.referrer;e.preventDefault()}});$(window).bind('beforeunload',function(){if(lumise.ops.before_unload)
return lumise.ops.before_unload}).on('touchstart',function(e){if($(e.target).hasClass('smooth'))
this.smooth=e.target;else this.smooth=$(e.target).closest('.smooth').get(0)}).on('touchmove',function(e){if(e.target===document){e.preventDefault();return!1}
if(['INPUT','SELECT'].indexOf(e.target.tagName)>-1||this.smooth)
return!0;e.preventDefault();return!1}).on('load',function(){lumise.mobile()});this.design.events();this.objects.icons.init();fabric.util.addListener(fabric.window,'load',function(){var canvas=this.__canvas||this.canvas,canvases=this.__canvases||this.canvases;canvas&&canvas.calcOffset&&canvas.calcOffset();if(canvases&&canvases.length){for(var i=0,len=canvases.length;i<len;i++){canvases[i].calcOffset()}}});this.render.colorPresets();this.render.fonts();this.cart.init();jscolor.detectDir=function(){return lumise.data.assets+'/assets/images/'};jscolor.init();delete jscolor.init;lumise.mobile()},init:function(n){n=n.toUpperCase();$.ajax({url:lumise.data.ajax,method:'POST',data:{nonce:'LUMISE-INIT:'+n,ajax:'frontend',action:'init',product_base:lumise.fn.url_var('product_base',''),product_cms:lumise.fn.url_var('product_cms',''),share:lumise.fn.url_var('share',''),quantity:lumise.fn.url_var('quantity','1')},dataType:'JSON',success:function(res){if(res.custom_js!==undefined&&res.custom_js!==''){try{Function("lumise",res.custom_js)(lumise)}catch(ex){};delete res.custom_js}
$.extend(lumise.data,res);lumise.load();if(lumise.indexed.db!==null&&typeof lumise.indexed.onDBReady=='function'){lumise.indexed.onDBReady()};if(typeof(res.onload)!=='undefined'&&typeof(res.onload.id)!=='undefined'&&res.onload.id.toString().indexOf('variable')!=-1){lumise.data.calc_formula=='0'}}})}};if(typeof LumiseDesign=='function'){lumise.indexed.init();lumise.init(LumiseDesign(lumise))}})